import{s as Ze,a as C,f as h,J as xe,d as _,c as S,g as p,h as w,r as le,j as c,i as F,u as f,K as Ne,x as te,y as Ke,v as et,X as tt,b as lt,o as st,A as he,N as Xe,l as H,m as K,w as ne,R as nt,n as W,B as at,t as rt,z as ye,p as ot,e as we}from"../chunks/scheduler.a497d5ec.js";import{S as it,i as ut,b as oe,d as ie,m as ue,a as E,t as V,c as ae,e as fe,g as re,j as ft}from"../chunks/index.ca999c64.js";import{g as ct}from"../chunks/globals.7f7f1b26.js";import{e as $e}from"../chunks/each.1577bad0.js";import{f as _t}from"../chunks/index.13972ea2.js";import{s as Ee}from"../chunks/state.59162fba.js";import{t as Ge}from"../chunks/tryParseJSON.f125f883.js";import{J as Qe}from"../chunks/JSONTree.c31da54e.js";import{I as pe}from"../chunks/Icon.93862610.js";import{A as dt}from"../chunks/Aside.11303472.js";const{document:Ie}=ct;function Oe(a,e,s){const t=a.slice();t[21]=e[s],t[23]=e,t[24]=s;const l=t[21].message.length<262144&&Ge(t[21].message);return t[22]=l,t}function Pe(a,e,s){const t=a.slice();t[21]=e[s],t[25]=e,t[26]=s;const l=t[21].message.length<262144&&Ge(t[21].message);return t[22]=l,t}function Ue(a){let e,s,t="Clear filter",l,r,n,o,i;return r=new pe({props:{icon:"x",size:"12"}}),{c(){e=h("button"),s=h("span"),s.textContent=t,l=C(),oe(r.$$.fragment),this.h()},l(u){e=p(u,"BUTTON",{class:!0});var m=w(e);s=p(m,"SPAN",{class:!0,"data-svelte-h":!0}),le(s)!=="svelte-1bu6mgu"&&(s.textContent=t),l=S(m),ie(r.$$.fragment,m),m.forEach(_),this.h()},h(){c(s,"class","label svelte-1psu8mw"),c(e,"class","clearFilter svelte-1psu8mw")},m(u,m){F(u,e,m),f(e,s),f(e,l),ue(r,e,null),n=!0,o||(i=te(e,"click",a[9]),o=!0)},p:he,i(u){n||(E(r.$$.fragment,u),n=!0)},o(u){V(r.$$.fragment,u),n=!1},d(u){u&&_(e),fe(r),o=!1,i()}}}function Be(a){let e,s,t=$e(a[4].logs.logs),l=[];for(let n=0;n<t.length;n+=1)l[n]=je(Pe(a,t,n));const r=n=>V(l[n],1,1,()=>{l[n]=null});return{c(){e=h("table");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=p(n,"TABLE",{class:!0});var o=w(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(_),this.h()},h(){c(e,"class","svelte-1psu8mw")},m(n,o){F(n,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);s=!0},p(n,o){if(o&118){t=$e(n[4].logs.logs);let i;for(i=0;i<t.length;i+=1){const u=Pe(n,t,i);l[i]?(l[i].p(u,o),E(l[i],1)):(l[i]=je(u),l[i].c(),E(l[i],1),l[i].m(e,null))}for(re(),i=t.length;i<l.length;i+=1)r(i);ae()}},i(n){if(!s){for(let o=0;o<t.length;o+=1)E(l[o]);s=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)V(l[o]);s=!1},d(n){n&&_(e),Xe(l,n)}}}function mt(a){let e;function s(r,n){return r[21].showFull?gt:pt}let t=s(a),l=t(a);return{c(){e=h("div"),l.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var n=w(e);l.l(n),n.forEach(_),this.h()},h(){c(e,"class","pre svelte-1psu8mw")},m(r,n){F(r,e,n),l.m(e,null)},p(r,n){t===(t=s(r))&&l?l.p(r,n):(l.d(1),l=t(r),l&&(l.c(),l.m(e,null)))},i:he,o:he,d(r){r&&_(e),l.d()}}}function ht(a){let e,s;return e=new Qe({props:{value:a[22],showFullLines:!0}}),{c(){oe(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){ue(e,t,l),s=!0},p(t,l){const r={};l&16&&(r.value=t[22]),e.$set(r)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){V(e.$$.fragment,t),s=!1},d(t){fe(e,t)}}}function pt(a){let e=a[21].message.substr(0,ee)+"",s,t,l,r=a[21].message.length>ee&&Ae(a);return{c(){s=H(e),t=C(),r&&r.c(),l=we()},l(n){s=K(n,e),t=S(n),r&&r.l(n),l=we()},m(n,o){F(n,s,o),F(n,t,o),r&&r.m(n,o),F(n,l,o)},p(n,o){o&16&&e!==(e=n[21].message.substr(0,ee)+"")&&W(s,e),n[21].message.length>ee?r?r.p(n,o):(r=Ae(n),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(n){n&&(_(s),_(t),_(l)),r&&r.d(n)}}}function gt(a){let e=a[21].message+"",s;return{c(){s=H(e)},l(t){s=K(t,e)},m(t,l){F(t,s,l)},p(t,l){l&16&&e!==(e=t[21].message+"")&&W(s,e)},d(t){t&&_(s)}}}function Ae(a){let e,s,t=a[21].message.length-ee+"",l,r,n,o;function i(){return a[11](a[21],a[25],a[26])}return{c(){e=h("div"),s=h("button"),l=H(t),r=H(" more characters"),this.h()},l(u){e=p(u,"DIV",{class:!0});var m=w(e);s=p(m,"BUTTON",{type:!0,class:!0});var b=w(s);l=K(b,t),r=K(b," more characters"),b.forEach(_),m.forEach(_),this.h()},h(){c(s,"type","button"),c(s,"class","svelte-1psu8mw"),c(e,"class","longStringInfo svelte-1psu8mw")},m(u,m){F(u,e,m),f(e,s),f(s,l),f(s,r),n||(o=te(s,"click",i),n=!0)},p(u,m){a=u,m&16&&t!==(t=a[21].message.length-ee+"")&&W(l,t)},d(u){u&&_(e),n=!1,o()}}}function Ve(a){let e,s,t,l=a[21].data.url+"",r,n,o=a[21].data.user&&Fe(a);return{c(){e=h("ul"),s=h("li"),t=H("Page: "),r=H(l),n=C(),o&&o.c(),this.h()},l(i){e=p(i,"UL",{class:!0});var u=w(e);s=p(u,"LI",{});var m=w(s);t=K(m,"Page: "),r=K(m,l),m.forEach(_),n=S(u),o&&o.l(u),u.forEach(_),this.h()},h(){c(e,"class","info svelte-1psu8mw")},m(i,u){F(i,e,u),f(e,s),f(s,t),f(s,r),f(e,n),o&&o.m(e,null)},p(i,u){u&16&&l!==(l=i[21].data.url+"")&&W(r,l),i[21].data.user?o?o.p(i,u):(o=Fe(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&_(e),o&&o.d()}}}function Fe(a){let e,s,t,l=a[21].data.user.id+"",r,n;return{c(){e=h("li"),s=H("User ID: "),t=h("a"),r=H(l),this.h()},l(o){e=p(o,"LI",{});var i=w(e);s=K(i,"User ID: "),t=p(i,"A",{href:!0,class:!0});var u=w(t);r=K(u,l),u.forEach(_),i.forEach(_),this.h()},h(){c(t,"href",n="/users/"+a[21].data.user.id),c(t,"class","svelte-1psu8mw")},m(o,i){F(o,e,i),f(e,s),f(e,t),f(t,r)},p(o,i){i&16&&l!==(l=o[21].data.user.id+"")&&W(r,l),i&16&&n!==(n="/users/"+o[21].data.user.id)&&c(t,"href",n)},d(o){o&&_(e)}}}function je(a){var Se;let e,s,t,l=new Date(a[21].created_at).toLocaleDateString(void 0,{})+"",r,n,o=new Date(a[21].created_at).toLocaleTimeString(void 0,{})+"",i,u,m,b,L=a[21].error_type+"",J,x,B,$,D,X,j,T,R,I,d,U="Copy message",Y,N,y,g,O,P="Pin this log",v,k,G,q,M,Z,ce;const _e=[ht,mt],se=[];function Te(z,A){return z[22]?0:1}$=Te(a),D=se[$]=_e[$](a);let Q=((Se=a[21].data)==null?void 0:Se.url)&&Ve(a);N=new pe({props:{icon:"copy"}});function We(...z){return a[12](a[21],...z)}k=new pe({props:{icon:"pin"}});function Ye(){return a[13](a[21])}function Ce(...z){return a[14](a[21],...z)}return{c(){e=h("tr"),s=h("td"),t=h("time"),r=H(l),n=C(),i=H(o),m=C(),b=h("td"),J=H(L),x=C(),B=h("td"),D.c(),X=C(),Q&&Q.c(),j=C(),T=h("td"),R=h("div"),I=h("button"),d=h("span"),d.textContent=U,Y=C(),oe(N.$$.fragment),y=C(),g=h("button"),O=h("span"),O.textContent=P,v=C(),oe(k.$$.fragment),G=C(),this.h()},l(z){e=p(z,"TR",{class:!0});var A=w(e);s=p(A,"TD",{class:!0});var me=w(s);t=p(me,"TIME",{datetime:!0,class:!0});var de=w(t);r=K(de,l),n=S(de),i=K(de,o),de.forEach(_),me.forEach(_),m=S(A),b=p(A,"TD",{class:!0});var Le=w(b);J=K(Le,L),Le.forEach(_),x=S(A),B=p(A,"TD",{class:!0});var ge=w(B);D.l(ge),X=S(ge),Q&&Q.l(ge),ge.forEach(_),j=S(A),T=p(A,"TD",{class:!0});var De=w(T);R=p(De,"DIV",{class:!0});var ve=w(R);I=p(ve,"BUTTON",{type:!0,class:!0,title:!0});var be=w(I);d=p(be,"SPAN",{class:!0,"data-svelte-h":!0}),le(d)!=="svelte-1qjln59"&&(d.textContent=U),Y=S(be),ie(N.$$.fragment,be),be.forEach(_),y=S(ve),g=p(ve,"BUTTON",{type:!0,class:!0,title:!0});var ke=w(g);O=p(ke,"SPAN",{class:!0,"data-svelte-h":!0}),le(O)!=="svelte-yzd8i4"&&(O.textContent=P),v=S(ke),ie(k.$$.fragment,ke),ke.forEach(_),ve.forEach(_),De.forEach(_),G=S(A),A.forEach(_),this.h()},h(){c(t,"datetime",u=a[21].created_at),c(t,"class","svelte-1psu8mw"),c(s,"class","date svelte-1psu8mw"),c(b,"class","logType svelte-1psu8mw"),c(B,"class","message svelte-1psu8mw"),c(d,"class","label"),c(I,"type","button"),c(I,"class","button svelte-1psu8mw"),c(I,"title","Copy message"),c(O,"class","label"),c(g,"type","button"),c(g,"class","button svelte-1psu8mw"),c(g,"title","Pin this log"),ne(g,"active",a[2].find(Ce)),c(R,"class","svelte-1psu8mw"),c(T,"class","actions svelte-1psu8mw"),c(e,"class","svelte-1psu8mw"),ne(e,"hidden",a[1]&&a[5](a[21])||a[21].hidden),ne(e,"error",a[21].error_type.match(/error/i)),ne(e,"fresh",a[21].downloaded_at>a[4].logs.downloaded_at[0])},m(z,A){F(z,e,A),f(e,s),f(s,t),f(t,r),f(t,n),f(t,i),f(e,m),f(e,b),f(b,J),f(e,x),f(e,B),se[$].m(B,null),f(B,X),Q&&Q.m(B,null),f(e,j),f(e,T),f(T,R),f(R,I),f(I,d),f(I,Y),ue(N,I,null),f(R,y),f(R,g),f(g,O),f(g,v),ue(k,g,null),f(e,G),M=!0,Z||(ce=[te(I,"click",We),te(g,"click",nt(Ye))],Z=!0)},p(z,A){var de;a=z,(!M||A&16)&&l!==(l=new Date(a[21].created_at).toLocaleDateString(void 0,{})+"")&&W(r,l),(!M||A&16)&&o!==(o=new Date(a[21].created_at).toLocaleTimeString(void 0,{})+"")&&W(i,o),(!M||A&16&&u!==(u=a[21].created_at))&&c(t,"datetime",u),(!M||A&16)&&L!==(L=a[21].error_type+"")&&W(J,L);let me=$;$=Te(a),$===me?se[$].p(a,A):(re(),V(se[me],1,1,()=>{se[me]=null}),ae(),D=se[$],D?D.p(a,A):(D=se[$]=_e[$](a),D.c()),E(D,1),D.m(B,X)),(de=a[21].data)!=null&&de.url?Q?Q.p(a,A):(Q=Ve(a),Q.c(),Q.m(B,null)):Q&&(Q.d(1),Q=null),(!M||A&20)&&ne(g,"active",a[2].find(Ce)),(!M||A&50)&&ne(e,"hidden",a[1]&&a[5](a[21])||a[21].hidden),(!M||A&16)&&ne(e,"error",a[21].error_type.match(/error/i)),(!M||A&16)&&ne(e,"fresh",a[21].downloaded_at>a[4].logs.downloaded_at[0])},i(z){M||(E(D),E(N.$$.fragment,z),E(k.$$.fragment,z),z&&(q||at(()=>{q=ft(e,_t,{duration:200}),q.start()})),M=!0)},o(z){V(D),V(N.$$.fragment,z),V(k.$$.fragment,z),M=!1},d(z){z&&_(e),se[$].d(),Q&&Q.d(),fe(N),fe(k),Z=!1,Ke(ce)}}}function Me(a){let e,s="No newer logs to show<br/>Checking every 3 seconds";return{c(){e=h("footer"),e.innerHTML=s,this.h()},l(t){e=p(t,"FOOTER",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-akhvzo"&&(e.innerHTML=s),this.h()},h(){c(e,"class","svelte-1psu8mw")},m(t,l){F(t,e,l)},d(t){t&&_(e)}}}function ze(a){let e,s;return e=new dt({props:{$$slots:{default:[$t]},$$scope:{ctx:a}}}),{c(){oe(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){ue(e,t,l),s=!0},p(t,l){const r={};l&134217732&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){V(e.$$.fragment,t),s=!1},d(t){fe(e,t)}}}function Je(a){let e,s,t=$e(a[2]),l=[];for(let n=0;n<t.length;n+=1)l[n]=He(Oe(a,t,n));const r=n=>V(l[n],1,1,()=>{l[n]=null});return{c(){e=h("ul");for(let n=0;n<l.length;n+=1)l[n].c()},l(n){e=p(n,"UL",{});var o=w(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(_)},m(n,o){F(n,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);s=!0},p(n,o){if(o&68){t=$e(n[2]);let i;for(i=0;i<t.length;i+=1){const u=Oe(n,t,i);l[i]?(l[i].p(u,o),E(l[i],1)):(l[i]=He(u),l[i].c(),E(l[i],1),l[i].m(e,null))}for(re(),i=t.length;i<l.length;i+=1)r(i);ae()}},i(n){if(!s){for(let o=0;o<t.length;o+=1)E(l[o]);s=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)V(l[o]);s=!1},d(n){n&&_(e),Xe(l,n)}}}function Re(a){let e,s=a[21].data.url+"",t;return{c(){e=h("div"),t=H(s),this.h()},l(l){e=p(l,"DIV",{class:!0});var r=w(e);t=K(r,s),r.forEach(_),this.h()},h(){c(e,"class","url svelte-1psu8mw")},m(l,r){F(l,e,r),f(e,t)},p(l,r){r&4&&s!==(s=l[21].data.url+"")&&W(t,s)},d(l){l&&_(e)}}}function vt(a){let e;function s(r,n){return r[21].showFull?wt:kt}let t=s(a),l=t(a);return{c(){e=h("div"),l.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var n=w(e);l.l(n),n.forEach(_),this.h()},h(){c(e,"class","pre svelte-1psu8mw")},m(r,n){F(r,e,n),l.m(e,null)},p(r,n){t===(t=s(r))&&l?l.p(r,n):(l.d(1),l=t(r),l&&(l.c(),l.m(e,null)))},i:he,o:he,d(r){r&&_(e),l.d()}}}function bt(a){let e,s;return e=new Qe({props:{value:a[22],showFullLines:!0}}),{c(){oe(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){ue(e,t,l),s=!0},p(t,l){const r={};l&4&&(r.value=t[22]),e.$set(r)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){V(e.$$.fragment,t),s=!1},d(t){fe(e,t)}}}function kt(a){let e=a[21].message.substr(0,ee)+"",s,t,l,r=a[21].message.length>ee&&qe(a);return{c(){s=H(e),t=C(),r&&r.c(),l=we()},l(n){s=K(n,e),t=S(n),r&&r.l(n),l=we()},m(n,o){F(n,s,o),F(n,t,o),r&&r.m(n,o),F(n,l,o)},p(n,o){o&4&&e!==(e=n[21].message.substr(0,ee)+"")&&W(s,e),n[21].message.length>ee?r?r.p(n,o):(r=qe(n),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(n){n&&(_(s),_(t),_(l)),r&&r.d(n)}}}function wt(a){let e=a[21].message+"",s;return{c(){s=H(e)},l(t){s=K(t,e)},m(t,l){F(t,s,l)},p(t,l){l&4&&e!==(e=t[21].message+"")&&W(s,e)},d(t){t&&_(s)}}}function qe(a){let e,s=a[21].message.length-ee+"",t,l,r,n;function o(){return a[17](a[21],a[23],a[24])}return{c(){e=h("button"),t=H(s),l=H(" more characters"),this.h()},l(i){e=p(i,"BUTTON",{type:!0,class:!0});var u=w(e);t=K(u,s),l=K(u," more characters"),u.forEach(_),this.h()},h(){c(e,"type","button"),c(e,"class","svelte-1psu8mw")},m(i,u){F(i,e,u),f(e,t),f(e,l),r||(n=te(e,"click",o),r=!0)},p(i,u){a=i,u&4&&s!==(s=a[21].message.length-ee+"")&&W(t,s)},d(i){i&&_(e),r=!1,n()}}}function He(a){var P;let e,s,t,l=new Date(a[21].created_at).toLocaleDateString(void 0,{})+"",r,n,o=new Date(a[21].created_at).toLocaleTimeString(void 0,{})+"",i,u,m,b,L,J="Remove log from pinned panel",x,B,$,D,X,j,T,R,I,d,U;B=new pe({props:{icon:"trash",size:"18"}});function Y(){return a[16](a[21])}let N=((P=a[21].data)==null?void 0:P.url)&&Re(a);const y=[bt,vt],g=[];function O(v,k){return v[22]?0:1}return j=O(a),T=g[j]=y[j](a),{c(){e=h("li"),s=h("div"),t=h("time"),r=H(l),n=C(),i=H(o),m=C(),b=h("button"),L=h("span"),L.textContent=J,x=C(),oe(B.$$.fragment),$=C(),N&&N.c(),D=C(),X=h("div"),T.c(),R=C(),this.h()},l(v){e=p(v,"LI",{class:!0});var k=w(e);s=p(k,"DIV",{class:!0});var G=w(s);t=p(G,"TIME",{class:!0,datetime:!0});var q=w(t);r=K(q,l),n=S(q),i=K(q,o),q.forEach(_),m=S(G),b=p(G,"BUTTON",{type:!0,title:!0,class:!0});var M=w(b);L=p(M,"SPAN",{class:!0,"data-svelte-h":!0}),le(L)!=="svelte-flzfhp"&&(L.textContent=J),x=S(M),ie(B.$$.fragment,M),M.forEach(_),G.forEach(_),$=S(k),N&&N.l(k),D=S(k),X=p(k,"DIV",{class:!0});var Z=w(X);T.l(Z),Z.forEach(_),R=S(k),k.forEach(_),this.h()},h(){c(t,"class","date svelte-1psu8mw"),c(t,"datetime",u=a[21].created_at),c(L,"class","label"),c(b,"type","button"),c(b,"title","Remove log from pinned panel"),c(b,"class","svelte-1psu8mw"),c(s,"class","info svelte-1psu8mw"),c(X,"class","message svelte-1psu8mw"),c(e,"class","svelte-1psu8mw")},m(v,k){F(v,e,k),f(e,s),f(s,t),f(t,r),f(t,n),f(t,i),f(s,m),f(s,b),f(b,L),f(b,x),ue(B,b,null),f(e,$),N&&N.m(e,null),f(e,D),f(e,X),g[j].m(X,null),f(e,R),I=!0,d||(U=te(b,"click",Y),d=!0)},p(v,k){var q;a=v,(!I||k&4)&&l!==(l=new Date(a[21].created_at).toLocaleDateString(void 0,{})+"")&&W(r,l),(!I||k&4)&&o!==(o=new Date(a[21].created_at).toLocaleTimeString(void 0,{})+"")&&W(i,o),(!I||k&4&&u!==(u=a[21].created_at))&&c(t,"datetime",u),(q=a[21].data)!=null&&q.url?N?N.p(a,k):(N=Re(a),N.c(),N.m(e,D)):N&&(N.d(1),N=null);let G=j;j=O(a),j===G?g[j].p(a,k):(re(),V(g[G],1,1,()=>{g[G]=null}),ae(),T=g[j],T?T.p(a,k):(T=g[j]=y[j](a),T.c()),E(T,1),T.m(X,null))},i(v){I||(E(B.$$.fragment,v),E(T),I=!0)},o(v){V(B.$$.fragment,v),V(T),I=!1},d(v){v&&_(e),fe(B),N&&N.d(),g[j].d(),d=!1,U()}}}function $t(a){let e,s,t,l="Clear pinned logs",r,n,o,i,u=a[2]&&Je(a);return{c(){e=h("div"),s=h("nav"),t=h("button"),t.textContent=l,r=C(),u&&u.c(),this.h()},l(m){e=p(m,"DIV",{class:!0});var b=w(e);s=p(b,"NAV",{class:!0});var L=w(s);t=p(L,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(t)!=="svelte-eeid91"&&(t.textContent=l),L.forEach(_),r=S(b),u&&u.l(b),b.forEach(_),this.h()},h(){c(t,"type","button"),c(t,"class","button svelte-1psu8mw"),c(s,"class","asideNav svelte-1psu8mw"),c(e,"class","pins svelte-1psu8mw")},m(m,b){F(m,e,b),f(e,s),f(s,t),f(e,r),u&&u.m(e,null),n=!0,o||(i=te(t,"click",a[15]),o=!0)},p(m,b){m[2]?u?(u.p(m,b),b&4&&E(u,1)):(u=Je(m),u.c(),E(u,1),u.m(e,null)):u&&(re(),V(u,1,1,()=>{u=null}),ae())},i(m){n||(E(u),n=!0)},o(m){V(u),n=!1},d(m){m&&_(e),u&&u.d(),o=!1,i()}}}function Et(a){let e,s,t,l,r,n,o="Filter:",i,u,m,b,L,J,x="Clear screen",B,$,D,X="Toggle pinned logs panel",j,T,R,I,d,U,Y,N,y=a[1]&&Ue(a);T=new pe({props:{icon:"pin"}});let g=a[4].logs.logs&&Be(a),O=!a[1]&&Me(),P=a[3]&&ze(a);return{c(){e=C(),s=h("div"),t=h("section"),l=h("nav"),r=h("form"),n=h("label"),n.textContent=o,i=C(),u=h("input"),m=C(),y&&y.c(),b=C(),L=h("div"),J=h("button"),J.textContent=x,B=C(),$=h("button"),D=h("span"),D.textContent=X,j=C(),oe(T.$$.fragment),R=C(),g&&g.c(),I=C(),O&&O.c(),d=C(),P&&P.c(),this.h()},l(v){xe("svelte-1xj5d21",Ie.head).forEach(_),e=S(v),s=p(v,"DIV",{class:!0});var G=w(s);t=p(G,"SECTION",{class:!0});var q=w(t);l=p(q,"NAV",{class:!0});var M=w(l);r=p(M,"FORM",{});var Z=w(r);n=p(Z,"LABEL",{for:!0,"data-svelte-h":!0}),le(n)!=="svelte-kf6j7o"&&(n.textContent=o),i=S(Z),u=p(Z,"INPUT",{type:!0,id:!0,class:!0}),m=S(Z),y&&y.l(Z),Z.forEach(_),b=S(M),L=p(M,"DIV",{class:!0});var ce=w(L);J=p(ce,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(J)!=="svelte-1hlqgjb"&&(J.textContent=x),B=S(ce),$=p(ce,"BUTTON",{type:!0,title:!0,class:!0});var _e=w($);D=p(_e,"SPAN",{class:!0,"data-svelte-h":!0}),le(D)!=="svelte-1o6petk"&&(D.textContent=X),j=S(_e),ie(T.$$.fragment,_e),_e.forEach(_),ce.forEach(_),M.forEach(_),R=S(q),g&&g.l(q),I=S(q),O&&O.l(q),q.forEach(_),d=S(G),P&&P.l(G),G.forEach(_),this.h()},h(){Ie.title="Logs | platformOS",c(n,"for","filter"),c(u,"type","text"),c(u,"id","filter"),c(u,"class","svelte-1psu8mw"),c(J,"type","button"),c(J,"class","button"),c(D,"class","label"),c($,"type","button"),c($,"title","Toggle pinned logs panel"),c($,"class","button"),c(L,"class","svelte-1psu8mw"),c(l,"class","svelte-1psu8mw"),c(t,"class","logs svelte-1psu8mw"),c(s,"class","container svelte-1psu8mw")},m(v,k){F(v,e,k),F(v,s,k),f(s,t),f(t,l),f(l,r),f(r,n),f(r,i),f(r,u),Ne(u,a[1]),f(r,m),y&&y.m(r,null),f(l,b),f(l,L),f(L,J),f(L,B),f(L,$),f($,D),f($,j),ue(T,$,null),f(t,R),g&&g.m(t,null),f(t,I),O&&O.m(t,null),f(s,d),P&&P.m(s,null),a[18](s),U=!0,Y||(N=[te(u,"input",a[8]),te(J,"click",a[10]),te($,"click",a[7])],Y=!0)},p(v,[k]){k&2&&u.value!==v[1]&&Ne(u,v[1]),v[1]?y?(y.p(v,k),k&2&&E(y,1)):(y=Ue(v),y.c(),E(y,1),y.m(r,null)):y&&(re(),V(y,1,1,()=>{y=null}),ae()),v[4].logs.logs?g?(g.p(v,k),k&16&&E(g,1)):(g=Be(v),g.c(),E(g,1),g.m(t,I)):g&&(re(),V(g,1,1,()=>{g=null}),ae()),v[1]?O&&(O.d(1),O=null):O||(O=Me(),O.c(),O.m(t,null)),v[3]?P?(P.p(v,k),k&8&&E(P,1)):(P=ze(v),P.c(),E(P,1),P.m(s,null)):P&&(re(),V(P,1,1,()=>{P=null}),ae())},i(v){U||(E(y),E(T.$$.fragment,v),E(g),E(P),U=!0)},o(v){V(y),V(T.$$.fragment,v),V(g),V(P),U=!1},d(v){v&&(_(e),_(s)),y&&y.d(),fe(T),g&&g.d(),O&&O.d(),P&&P.d(),a[18](null),Y=!1,Ke(N)}}}let ee=262144;function Tt(a,e,s){let t;et(a,Ee,d=>s(4,t=d));let l,r="",n=[],o;const i=d=>d.hidden===!0||d.error_type.toLowerCase().indexOf(r)===-1&&d.message.toLowerCase().indexOf(r)===-1;let u=!1;tt(()=>{{const d=document.querySelector(".logs");d&&Math.abs(d.scrollHeight-d.scrollTop-d.clientHeight)<10&&(u=!1)}}),lt(async()=>{var d;u||(await rt(),document.querySelector("footer").scrollIntoView(),(d=t.logs.logs)!=null&&d.length&&(u=!0))}),st(()=>{s(3,o=localStorage.pinnedPanel==="true"),s(2,n=localStorage.pinnedLogs?JSON.parse(localStorage.pinnedLogs):[])});const m=d=>{n.find(U=>U.id===d.id)?s(2,n=n.filter(U=>U.id!==d.id)):s(2,n=[...n,d]),localStorage.pinnedLogs=JSON.stringify(n)},b=()=>{o?(s(3,o=!1),localStorage.pinnedPanel=!1):(s(3,o=!0),localStorage.pinnedPanel=!0)};function L(){r=this.value,s(1,r)}const J=()=>s(1,r=""),x=()=>t.logs.logs.forEach((d,U)=>ye(Ee,t.logs.logs[U].hidden=!0,t)),B=(d,U,Y)=>ye(Ee,U[Y].showFull=!0,t),$=(d,U)=>navigator.clipboard.writeText(d.message).then(()=>{U.target.classList.add("confirmation"),setTimeout(()=>U.target.classList.remove("confirmation"),1e3)}),D=d=>m(d),X=(d,U)=>U.id===d.id,j=()=>{localStorage.pinnedLogs=[],s(2,n=[])},T=d=>m(d),R=(d,U,Y)=>s(2,U[Y].showFull=!0,n);function I(d){ot[d?"unshift":"push"](()=>{l=d,s(0,l)})}return[l,r,n,o,t,i,m,b,L,J,x,B,$,D,X,j,T,R,I]}class Bt extends it{constructor(e){super(),ut(this,e,Tt,Et,Ze,{})}}export{Bt as component};
