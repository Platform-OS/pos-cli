import{s as qe,p as Se,f as d,l as X,a as O,g as v,h as A,m as Y,r as z,d as k,c as P,K as ae,j as c,B as we,i as be,u as r,L as ke,x as W,M as Be,n as me,N as Me,y as He,v as Re,o as Ue,A as Ve,D as je,E as ze,F as Ge,G as Ke,P as Je}from"../chunks/scheduler.a497d5ec.js";import{S as Qe,i as We,h as Xe,b as pe,d as de,m as ve,a as F,t as R,c as Ne,e as ge,f as $e,g as Le}from"../chunks/index.ca999c64.js";import{e as ye}from"../chunks/each.1577bad0.js";import{q as Ye}from"../chunks/index.50c00146.js";import{p as Ze}from"../chunks/stores.be7e9141.js";import{u as xe}from"../chunks/user.6e03625a.js";import{I as De}from"../chunks/Icon.93862610.js";import{N as et}from"../chunks/Number.700ab724.js";function Ae(l,e,t){const n=l.slice();return n[17]=e[t],n}function Oe(l){let e,t,n="Clear filters",a,_,o,u,N,i;return _=new De({props:{icon:"x",size:"14"}}),{c(){e=d("button"),t=d("span"),t.textContent=n,a=O(),pe(_.$$.fragment),this.h()},l(h){e=v(h,"BUTTON",{type:!0,class:!0});var E=A(e);t=v(E,"SPAN",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-ki22n5"&&(t.textContent=n),a=P(E),de(_.$$.fragment,E),E.forEach(k),this.h()},h(){c(t,"class","label svelte-1t95hr7"),c(e,"type","button"),c(e,"class","clear svelte-1t95hr7")},m(h,E){be(h,e,E),r(e,t),r(e,a),ve(_,e,null),u=!0,N||(i=W(e,"click",l[13]),N=!0)},p:Ve,i(h){u||(F(_.$$.fragment,h),h&&we(()=>{u&&(o||(o=$e(e,l[7],{},!0)),o.run(1))}),u=!0)},o(h){R(_.$$.fragment,h),h&&(o||(o=$e(e,l[7],{},!1)),o.run(0)),u=!1},d(h){h&&k(e),ge(_),h&&o&&o.end(),N=!1,i()}}}function Pe(l){let e,t,n=l[17].id+"",a,_,o,u,N=l[17].email+"",i,h,E;return{c(){e=d("tr"),t=d("td"),a=X(n),_=O(),o=d("td"),u=d("a"),i=X(N),E=O(),this.h()},l(p){e=v(p,"TR",{});var f=A(e);t=v(f,"TD",{class:!0});var M=A(t);a=Y(M,n),M.forEach(k),_=P(f),o=v(f,"TD",{class:!0});var H=A(o);u=v(H,"A",{href:!0});var y=A(u);i=Y(y,N),y.forEach(k),H.forEach(k),E=P(f),f.forEach(k),this.h()},h(){c(t,"class","svelte-1t95hr7"),c(u,"href",h="/users/"+l[17].id),c(o,"class","svelte-1t95hr7")},m(p,f){be(p,e,f),r(e,t),r(t,a),r(e,_),r(e,o),r(o,u),r(u,i),r(e,E)},p(p,f){f&2&&n!==(n=p[17].id+"")&&me(a,n),f&2&&N!==(N=p[17].email+"")&&me(i,N),f&2&&h!==(h="/users/"+p[17].id)&&c(u,"href",h)},d(p){p&&k(e)}}}function Ie(l){let e;const t=l[9].default,n=je(t,l,l[8],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,_){n&&n.m(a,_),e=!0},p(a,_){n&&n.p&&(!e||_&256)&&ze(n,t,a,a[8],e?Ke(t,a[8],_,null):Ge(a[8]),null)},i(a){e||(F(n,a),e=!0)},o(a){R(n,a),e=!1},d(a){n&&n.d(a)}}}function tt(l){let e,t,n,a,_,o,u,N="email",i,h="id",E,p,f,M,H,y,q,Z="Apply filter",G,m,K,I,B,se='<tr><th class="svelte-1t95hr7">id</th> <th class="svelte-1t95hr7">email</th></tr>',ne,re,S,U,Ee="Page:",oe,w,ie,ue,J=(l[3]||1)+"",x,fe,Q,ce,Ce,g=l[2].value&&Oe(l);m=new De({props:{icon:"arrowRight"}});let V=ye(l[1]),T=[];for(let s=0;s<V.length;s+=1)T[s]=Pe(Ae(l,V,s));function Fe(s){l[16](s)}let Te={form:"filters",name:"page",min:1,max:l[3],step:1,decreaseLabel:"Previous page",increaseLabel:"Next page",style:"navigation"};l[2].page!==void 0&&(Te.value=l[2].page),w=new et({props:Te}),Se.push(()=>Xe(w,"value",Fe)),w.$on("input",l[6]);let b=l[4].params.id&&Ie(l);return{c(){e=d("div"),t=d("section"),n=d("nav"),a=d("form"),_=X(`Filter by
        `),o=d("select"),u=d("option"),u.textContent=N,i=d("option"),i.textContent=h,E=O(),p=d("fieldset"),f=d("input"),M=O(),g&&g.c(),H=O(),y=d("button"),q=d("span"),q.textContent=Z,G=O(),pe(m.$$.fragment),K=O(),I=d("table"),B=d("thead"),B.innerHTML=se,ne=O();for(let s=0;s<T.length;s+=1)T[s].c();re=O(),S=d("nav"),U=d("label"),U.textContent=Ee,oe=O(),pe(w.$$.fragment),ue=X(`
      of `),x=X(J),fe=O(),b&&b.c(),this.h()},l(s){e=v(s,"DIV",{class:!0});var C=A(e);t=v(C,"SECTION",{class:!0});var $=A(t);n=v($,"NAV",{class:!0});var L=A(n);a=v(L,"FORM",{id:!0,class:!0});var D=A(a);_=Y(D,`Filter by
        `),o=v(D,"SELECT",{name:!0});var _e=A(o);u=v(_e,"OPTION",{"data-svelte-h":!0}),z(u)!=="svelte-51kto6"&&(u.textContent=N),i=v(_e,"OPTION",{"data-svelte-h":!0}),z(i)!=="svelte-ns3pfu"&&(i.textContent=h),_e.forEach(k),E=P(D),p=v(D,"FIELDSET",{class:!0});var ee=A(p);f=v(ee,"INPUT",{type:!0,name:!0,class:!0}),M=P(ee),g&&g.l(ee),ee.forEach(k),H=P(D),y=v(D,"BUTTON",{type:!0,class:!0});var te=A(y);q=v(te,"SPAN",{class:!0,"data-svelte-h":!0}),z(q)!=="svelte-ctu7wl"&&(q.textContent=Z),G=P(te),de(m.$$.fragment,te),te.forEach(k),D.forEach(k),L.forEach(k),K=P($),I=v($,"TABLE",{class:!0});var le=A(I);B=v(le,"THEAD",{class:!0,"data-svelte-h":!0}),z(B)!=="svelte-128602a"&&(B.innerHTML=se),ne=P(le);for(let he=0;he<T.length;he+=1)T[he].l(le);le.forEach(k),re=P($),S=v($,"NAV",{class:!0});var j=A(S);U=v(j,"LABEL",{for:!0,"data-svelte-h":!0}),z(U)!=="svelte-1r8oyu6"&&(U.textContent=Ee),oe=P(j),de(w.$$.fragment,j),ue=Y(j,`
      of `),x=Y(j,J),j.forEach(k),$.forEach(k),fe=P(C),b&&b.l(C),C.forEach(k),this.h()},h(){u.__value="email",ae(u,u.__value),i.__value="id",ae(i,i.__value),c(o,"name","attribute"),l[2].attribute===void 0&&we(()=>l[10].call(o)),c(f,"type","text"),c(f,"name","value"),c(f,"class","svelte-1t95hr7"),c(p,"class","svelte-1t95hr7"),c(q,"class","label svelte-1t95hr7"),c(y,"type","submit"),c(y,"class","button submit"),c(a,"id","filters"),c(a,"class","svelte-1t95hr7"),c(n,"class","filters svelte-1t95hr7"),c(B,"class","svelte-1t95hr7"),c(I,"class","svelte-1t95hr7"),c(U,"for","page"),c(S,"class","pagination svelte-1t95hr7"),c(t,"class","svelte-1t95hr7"),c(e,"class","container svelte-1t95hr7")},m(s,C){be(s,e,C),r(e,t),r(t,n),r(n,a),r(a,_),r(a,o),r(o,u),r(o,i),ke(o,l[2].attribute,!0),r(a,E),r(a,p),r(p,f),ae(f,l[2].value),r(p,M),g&&g.m(p,null),r(a,H),r(a,y),r(y,q),r(y,G),ve(m,y,null),l[14](a),r(t,K),r(t,I),r(I,B),r(I,ne);for(let $=0;$<T.length;$+=1)T[$]&&T[$].m(I,null);r(t,re),r(t,S),r(S,U),r(S,oe),ve(w,S,null),r(S,ue),r(S,x),r(e,fe),b&&b.m(e,null),Q=!0,ce||(Ce=[W(o,"change",l[10]),W(o,"change",l[11]),W(f,"input",l[12]),W(a,"submit",l[15])],ce=!0)},p(s,[C]){if(C&4&&ke(o,s[2].attribute),C&4&&f.value!==s[2].value&&ae(f,s[2].value),s[2].value?g?(g.p(s,C),C&4&&F(g,1)):(g=Oe(s),g.c(),F(g,1),g.m(p,null)):g&&(Le(),R(g,1,1,()=>{g=null}),Ne()),C&2){V=ye(s[1]);let L;for(L=0;L<V.length;L+=1){const D=Ae(s,V,L);T[L]?T[L].p(D,C):(T[L]=Pe(D),T[L].c(),T[L].m(I,null))}for(;L<T.length;L+=1)T[L].d(1);T.length=V.length}const $={};C&8&&($.max=s[3]),!ie&&C&4&&(ie=!0,$.value=s[2].page,Be(()=>ie=!1)),w.$set($),(!Q||C&8)&&J!==(J=(s[3]||1)+"")&&me(x,J),s[4].params.id?b?(b.p(s,C),C&16&&F(b,1)):(b=Ie(s),b.c(),F(b,1),b.m(e,null)):b&&(Le(),R(b,1,1,()=>{b=null}),Ne())},i(s){Q||(F(g),F(m.$$.fragment,s),F(w.$$.fragment,s),F(b),Q=!0)},o(s){R(g),R(m.$$.fragment,s),R(w.$$.fragment,s),R(b),Q=!1},d(s){s&&k(e),g&&g.d(),ge(m),l[14](null),Me(T,s),ge(w),b&&b.d(),ce=!1,He(Ce)}}}function lt(l,e,t){let n;Re(l,Ze,m=>t(4,n=m));let{$$slots:a={},$$scope:_}=e,o,u=[],N={page:1,attribute:"email",value:""},i={...N,...Object.fromEntries(n.url.searchParams)},h=1;const E=async()=>{await xe.get(i).then(m=>{t(1,u=m.results),t(3,h=m.total_pages)})};Ue(()=>{E()});const p=function(m,{delay:K=0,duration:I=150}){return{delay:K,duration:I,css:B=>`scale: ${Ye(B)};`}};function f(){i.attribute=Je(this),t(2,i)}const M=()=>t(2,i.value="",i);function H(){i.value=this.value,t(2,i)}const y=()=>{t(2,i={...N}),o.requestSubmit()};function q(m){Se[m?"unshift":"push"](()=>{o=m,t(0,o)})}const Z=()=>{t(2,i.page=1,i),E()};function G(m){l.$$.not_equal(i.page,m)&&(i.page=m,t(2,i))}return l.$$set=m=>{"$$scope"in m&&t(8,_=m.$$scope)},[o,u,i,h,n,N,E,p,_,a,f,M,H,y,q,Z,G]}class ct extends Qe{constructor(e){super(),We(this,e,lt,tt,qe,{})}}export{ct as component};
