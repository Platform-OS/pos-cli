import{s as se,l as re,e as $,c as q,b as j,f as d,y as C,i as m,h as _,u as oe,m as fe,o as ce,S as ue,T as de,F as _e,a as w,p as me,z as P,g as D,V as pe,k as he,v as I,t as H,d as V,n as G,j as A}from"../chunks/scheduler.XoNWsti8.js";import{S as ae,i as ne,t as T,a as N,c as M,b as z,m as B,e as F,g as R,d as y}from"../chunks/index.tx27_CoG.js";import{p as ve}from"../chunks/stores.cMC3O047.js";import{b as be}from"../chunks/backgroundJob.6WsQLD6d.js";import{A as ge}from"../chunks/Aside.cjCRsQL-.js";import{J as $e}from"../chunks/JSONTree.9wTpXHGU.js";function qe(f){let e,s,r,i,o,t;const a=f[3].default,l=re(a,f,f[2],null);return{c(){e=$("template"),s=$("pre"),r=$("code"),l&&l.c(),this.h()},l(n){e=q(n,"TEMPLATE",{});var c=j(e.content);s=q(c,"PRE",{class:!0});var p=j(s);r=q(p,"CODE",{class:!0});var v=j(r);l&&l.l(v),v.forEach(d),p.forEach(d),c.forEach(d),this.h()},h(){C(r,"class",i="language-"+f[0]),C(s,"class",o="line-numbers language-"+f[0])},m(n,c){m(n,e,c),_(e.content,s),_(s,r),l&&l.m(r,null),f[4](e),t=!0},p(n,[c]){l&&l.p&&(!t||c&4)&&oe(l,a,n,n[2],t?ce(a,n[2],c,null):fe(n[2]),null),(!t||c&1&&i!==(i="language-"+n[0]))&&C(r,"class",i),(!t||c&1&&o!==(o="line-numbers language-"+n[0]))&&C(s,"class",o)},i(n){t||(T(l,n),t=!0)},o(n){N(l,n),t=!1},d(n){n&&d(e),l&&l.d(n),f[4](null)}}}function ke(f,e,s){let{$$slots:r={},$$scope:i}=e,{language:o}=e,t;ue(async()=>{var n;await de(),(n=document.querySelector("#code"))==null||n.remove();const l=t.content.cloneNode(!0);l.firstChild.id="code",t.after(l),Prism.highlightAll()});function a(l){_e[l?"unshift":"push"](()=>{t=l,s(1,t)})}return f.$$set=l=>{"language"in l&&s(0,o=l.language),"$$scope"in l&&s(2,i=l.$$scope)},[o,t,i,r,a]}class ie extends ae{constructor(e){super(),ne(this,e,ke,qe,se,{language:0})}}function Ce(f){let e,s,r,i,o,t,a,l,n=f[1].source_name&&W(f),c=f[1].id&&X(f),p=f[1].error_message&&x(f),v=f[1].liquid_body&&ee(f),b=f[1].partial_name&&te(f),g=f[1].arguments&&le(f);return{c(){e=$("dl"),n&&n.c(),s=I(),c&&c.c(),r=w(),p&&p.c(),i=w(),v&&v.c(),o=w(),b&&b.c(),t=w(),g&&g.c(),a=I(),this.h()},l(u){e=q(u,"DL",{class:!0});var h=j(e);n&&n.l(h),s=I(),c&&c.l(h),h.forEach(d),r=D(u),p&&p.l(u),i=D(u),v&&v.l(u),o=D(u),b&&b.l(u),t=D(u),g&&g.l(u),a=I(),this.h()},h(){C(e,"class","info svelte-7qclwq")},m(u,h){m(u,e,h),n&&n.m(e,null),_(e,s),c&&c.m(e,null),m(u,r,h),p&&p.m(u,h),m(u,i,h),v&&v.m(u,h),m(u,o,h),b&&b.m(u,h),m(u,t,h),g&&g.m(u,h),m(u,a,h),l=!0},p(u,h){u[1].source_name?n?n.p(u,h):(n=W(u),n.c(),n.m(e,s)):n&&(n.d(1),n=null),u[1].id?c?c.p(u,h):(c=X(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null),u[1].error_message?p?p.p(u,h):(p=x(u),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null),u[1].liquid_body?v?(v.p(u,h),h&2&&T(v,1)):(v=ee(u),v.c(),T(v,1),v.m(o.parentNode,o)):v&&(R(),N(v,1,1,()=>{v=null}),y()),u[1].partial_name?b?(b.p(u,h),h&2&&T(b,1)):(b=te(u),b.c(),T(b,1),b.m(t.parentNode,t)):b&&(R(),N(b,1,1,()=>{b=null}),y()),u[1].arguments?g?(g.p(u,h),h&2&&T(g,1)):(g=le(u),g.c(),T(g,1),g.m(a.parentNode,a)):g&&(R(),N(g,1,1,()=>{g=null}),y())},i(u){l||(T(v),T(b),T(g),l=!0)},o(u){N(v),N(b),N(g),l=!1},d(u){u&&(d(e),d(r),d(i),d(o),d(t),d(a)),n&&n.d(),c&&c.d(),p&&p.d(u),v&&v.d(u),b&&b.d(u),g&&g.d(u)}}}function we(f){let e;return{c(){e=H("There is no such background job")},l(s){e=V(s,"There is no such background job")},m(s,r){m(s,e,r)},p:G,i:G,o:G,d(s){s&&d(e)}}}function W(f){let e,s,r="ID:",i,o,t=f[1].id+"",a,l;return{c(){e=$("div"),s=$("dt"),s.textContent=r,i=w(),o=$("dd"),a=H(t),l=w(),this.h()},l(n){e=q(n,"DIV",{class:!0});var c=j(e);s=q(c,"DT",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-179gw2t"&&(s.textContent=r),i=D(c),o=q(c,"DD",{});var p=j(o);a=V(p,t),p.forEach(d),l=D(c),c.forEach(d),this.h()},h(){C(s,"class","svelte-7qclwq"),C(e,"class","svelte-7qclwq")},m(n,c){m(n,e,c),_(e,s),_(e,i),_(e,o),_(o,a),_(e,l)},p(n,c){c&2&&t!==(t=n[1].id+"")&&A(a,t)},d(n){n&&d(e)}}}function X(f){let e,s,r="Created at:",i,o,t=new Date(f[1].created_at).toLocaleString()+"",a,l,n,c,p="Run at:",v,b,g=new Date(f[1].run_at).toLocaleString()+"",u,h,J,U,L=f[1].dead_at&&Y(f),S=f[1].arguments.url&&Z(f);return{c(){e=$("div"),s=$("dt"),s.textContent=r,i=w(),o=$("dd"),a=H(t),l=w(),n=$("div"),c=$("dt"),c.textContent=p,v=w(),b=$("dd"),u=H(g),h=w(),L&&L.c(),J=I(),S&&S.c(),U=I(),this.h()},l(k){e=q(k,"DIV",{class:!0});var E=j(e);s=q(E,"DT",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-psrdxl"&&(s.textContent=r),i=D(E),o=q(E,"DD",{});var K=j(o);a=V(K,t),K.forEach(d),l=D(E),E.forEach(d),n=q(k,"DIV",{class:!0});var O=j(n);c=q(O,"DT",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-u0lbhu"&&(c.textContent=p),v=D(O),b=q(O,"DD",{});var Q=j(b);u=V(Q,g),Q.forEach(d),h=D(O),O.forEach(d),L&&L.l(k),J=I(),S&&S.l(k),U=I(),this.h()},h(){C(s,"class","svelte-7qclwq"),C(e,"class","svelte-7qclwq"),C(c,"class","svelte-7qclwq"),C(n,"class","svelte-7qclwq")},m(k,E){m(k,e,E),_(e,s),_(e,i),_(e,o),_(o,a),_(e,l),m(k,n,E),_(n,c),_(n,v),_(n,b),_(b,u),_(n,h),L&&L.m(k,E),m(k,J,E),S&&S.m(k,E),m(k,U,E)},p(k,E){E&2&&t!==(t=new Date(k[1].created_at).toLocaleString()+"")&&A(a,t),E&2&&g!==(g=new Date(k[1].run_at).toLocaleString()+"")&&A(u,g),k[1].dead_at?L?L.p(k,E):(L=Y(k),L.c(),L.m(J.parentNode,J)):L&&(L.d(1),L=null),k[1].arguments.url?S?S.p(k,E):(S=Z(k),S.c(),S.m(U.parentNode,U)):S&&(S.d(1),S=null)},d(k){k&&(d(e),d(n),d(J),d(U)),L&&L.d(k),S&&S.d(k)}}}function Y(f){let e,s,r="Dead at:",i,o,t=new Date(f[1].dead_at).toLocaleString()+"",a,l;return{c(){e=$("div"),s=$("dt"),s.textContent=r,i=w(),o=$("dd"),a=H(t),l=w(),this.h()},l(n){e=q(n,"DIV",{class:!0});var c=j(e);s=q(c,"DT",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-1gjx1j5"&&(s.textContent=r),i=D(c),o=q(c,"DD",{class:!0});var p=j(o);a=V(p,t),p.forEach(d),l=D(c),c.forEach(d),this.h()},h(){C(s,"class","svelte-7qclwq"),C(o,"class","error svelte-7qclwq"),C(e,"class","svelte-7qclwq")},m(n,c){m(n,e,c),_(e,s),_(e,i),_(e,o),_(o,a),_(e,l)},p(n,c){c&2&&t!==(t=new Date(n[1].dead_at).toLocaleString()+"")&&A(a,t)},d(n){n&&d(e)}}}function Z(f){let e,s,r="URL:",i,o,t=(f[1].arguments.context.location.href||"/")+"",a;return{c(){e=$("div"),s=$("dt"),s.textContent=r,i=w(),o=$("dd"),a=H(t),this.h()},l(l){e=q(l,"DIV",{class:!0});var n=j(e);s=q(n,"DT",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-vrqyfv"&&(s.textContent=r),i=D(n),o=q(n,"DD",{});var c=j(o);a=V(c,t),c.forEach(d),n.forEach(d),this.h()},h(){C(s,"class","svelte-7qclwq"),C(e,"class","svelte-7qclwq")},m(l,n){m(l,e,n),_(e,s),_(e,i),_(e,o),_(o,a)},p(l,n){n&2&&t!==(t=(l[1].arguments.context.location.href||"/")+"")&&A(a,t)},d(l){l&&d(e)}}}function x(f){let e,s="Error message",r,i,o=f[1].error_message+"",t;return{c(){e=$("h2"),e.textContent=s,r=w(),i=$("code"),t=H(o),this.h()},l(a){e=q(a,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-46lcxd"&&(e.textContent=s),r=D(a),i=q(a,"CODE",{class:!0});var l=j(i);t=V(l,o),l.forEach(d),this.h()},h(){C(e,"class","svelte-7qclwq"),C(i,"class","svelte-7qclwq")},m(a,l){m(a,e,l),m(a,r,l),m(a,i,l),_(i,t)},p(a,l){l&2&&o!==(o=a[1].error_message+"")&&A(t,o)},d(a){a&&(d(e),d(r),d(i))}}}function ee(f){let e,s="Background job code:",r,i,o;return i=new ie({props:{language:"liquid",$$slots:{default:[De]},$$scope:{ctx:f}}}),{c(){e=$("h2"),e.textContent=s,r=w(),M(i.$$.fragment),this.h()},l(t){e=q(t,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-dymu4w"&&(e.textContent=s),r=D(t),z(i.$$.fragment,t),this.h()},h(){C(e,"class","svelte-7qclwq")},m(t,a){m(t,e,a),m(t,r,a),B(i,t,a),o=!0},p(t,a){const l={};a&10&&(l.$$scope={dirty:a,ctx:t}),i.$set(l)},i(t){o||(T(i.$$.fragment,t),o=!0)},o(t){N(i.$$.fragment,t),o=!1},d(t){t&&(d(e),d(r)),F(i,t)}}}function De(f){let e=f[1].liquid_body+"",s;return{c(){s=H(e)},l(r){s=V(r,e)},m(r,i){m(r,s,i)},p(r,i){i&2&&e!==(e=r[1].liquid_body+"")&&A(s,e)},d(r){r&&d(s)}}}function te(f){let e,s="Background function name:",r,i,o;return i=new ie({props:{$$slots:{default:[Ee]},$$scope:{ctx:f}}}),{c(){e=$("h2"),e.textContent=s,r=w(),M(i.$$.fragment),this.h()},l(t){e=q(t,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1qty0jf"&&(e.textContent=s),r=D(t),z(i.$$.fragment,t),this.h()},h(){C(e,"class","svelte-7qclwq")},m(t,a){m(t,e,a),m(t,r,a),B(i,t,a),o=!0},p(t,a){const l={};a&10&&(l.$$scope={dirty:a,ctx:t}),i.$set(l)},i(t){o||(T(i.$$.fragment,t),o=!0)},o(t){N(i.$$.fragment,t),o=!1},d(t){t&&(d(e),d(r)),F(i,t)}}}function Ee(f){let e=f[1].partial_name+"",s;return{c(){s=H(e)},l(r){s=V(r,e)},m(r,i){m(r,s,i)},p(r,i){i&2&&e!==(e=r[1].partial_name+"")&&A(s,e)},d(r){r&&d(s)}}}function le(f){let e,s="Arguments",r,i,o,t;return o=new $e({props:{value:f[1].arguments,expandedLines:1,showFullLines:!0}}),{c(){e=$("h2"),e.textContent=s,r=w(),i=$("code"),M(o.$$.fragment),this.h()},l(a){e=q(a,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-h49jwy"&&(e.textContent=s),r=D(a),i=q(a,"CODE",{class:!0});var l=j(i);z(o.$$.fragment,l),l.forEach(d),this.h()},h(){C(e,"class","svelte-7qclwq"),C(i,"class","svelte-7qclwq")},m(a,l){m(a,e,l),m(a,r,l),m(a,i,l),B(o,i,null),t=!0},p(a,l){const n={};l&2&&(n.value=a[1].arguments),o.$set(n)},i(a){t||(T(o.$$.fragment,a),t=!0)},o(a){N(o.$$.fragment,a),t=!1},d(a){a&&(d(e),d(r),d(i)),F(o)}}}function Le(f){let e,s,r,i;const o=[we,Ce],t=[];function a(l,n){return l[1]===null?0:1}return e=a(f),s=t[e]=o[e](f),{c(){s.c(),r=I()},l(l){s.l(l),r=I()},m(l,n){t[e].m(l,n),m(l,r,n),i=!0},p(l,n){let c=e;e=a(l),e===c?t[e].p(l,n):(R(),N(t[c],1,1,()=>{t[c]=null}),y(),s=t[e],s?s.p(l,n):(s=t[e]=o[e](l),s.c()),T(s,1),s.m(r.parentNode,r))},i(l){i||(T(s),i=!0)},o(l){N(s),i=!1},d(l){l&&d(r),t[e].d(l)}}}function Se(f){let e,s="",r,i,o,t;return o=new ge({props:{title:f[1].source_name||f[1].id||"Loading…",closeUrl:"/backgroundJobs?"+f[0].url.searchParams.toString(),$$slots:{default:[Le]},$$scope:{ctx:f}}}),{c(){e=$("script"),e.innerHTML=s,i=w(),M(o.$$.fragment),this.h()},l(a){const l=me("svelte-1pgpgj4",document.head);e=q(l,"SCRIPT",{src:!0,"data-manual":!0,"data-svelte-h":!0}),P(e)!=="svelte-6mxszl"&&(e.innerHTML=s),l.forEach(d),i=D(a),z(o.$$.fragment,a),this.h()},h(){pe(e.src,r="/prism.js")||C(e,"src",r),C(e,"data-manual","")},m(a,l){_(document.head,e),m(a,i,l),B(o,a,l),t=!0},p(a,[l]){const n={};l&2&&(n.title=a[1].source_name||a[1].id||"Loading…"),l&1&&(n.closeUrl="/backgroundJobs?"+a[0].url.searchParams.toString()),l&10&&(n.$$scope={dirty:l,ctx:a}),o.$set(n)},i(a){t||(T(o.$$.fragment,a),t=!0)},o(a){N(o.$$.fragment,a),t=!1},d(a){a&&d(i),d(e),F(o,a)}}}function Te(f,e,s){let r;he(f,ve,t=>s(0,r=t));let i={};const o=async()=>{await be.get({id:r.params.id,type:r.params.type.toUpperCase()}).then(t=>{t.results.length?s(1,i=t.results[0]):s(1,i=null)})};return f.$$.update=()=>{f.$$.dirty&1&&r.params.id&&o(r.params.id)},[r,i]}class Ae extends ae{constructor(e){super(),ne(this,e,Te,Se,se,{})}}export{Ae as component};
