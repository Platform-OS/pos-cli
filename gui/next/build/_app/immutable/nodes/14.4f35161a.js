import{s as Ze,a as C,f as m,J as xe,d as _,c as w,g as p,h as $,r as le,j as c,i as A,u,K as De,x as te,y as Ke,v as et,$ as tt,b as lt,o as st,A as me,N as Ge,l as H,m as K,w as ne,V as nt,n as X,B as rt,t as at,z as Ne,p as ot,e as $e}from"../chunks/scheduler.bed694a1.js";import{S as it,i as ft,b as oe,d as ie,m as fe,a as E,t as V,c as re,e as ue,g as ae,j as ut}from"../chunks/index.606d5641.js";import{g as ct}from"../chunks/globals.7f7f1b26.js";import{e as je}from"../chunks/each.177d9825.js";import{f as _t}from"../chunks/index.35d92de3.js";import{s as Ee}from"../chunks/state.1edee324.js";import{t as Qe}from"../chunks/tryParseJSON.f125f883.js";import{J as We}from"../chunks/JSONTree.8295de84.js";import{I as pe}from"../chunks/Icon.62ba3e81.js";import{A as dt}from"../chunks/Aside.8596a5fb.js";const{document:ye}=ct;function Ie(r,e,s){const t=r.slice();t[20]=e[s],t[22]=e,t[23]=s;const l=t[20].message.length<262144&&Qe(t[20].message);return t[21]=l,t}function Oe(r,e,s){const t=r.slice();t[20]=e[s],t[24]=e,t[25]=s;const l=t[20].message.length<262144&&Qe(t[20].message);return t[21]=l,t}function Pe(r){let e,s,t="Clear filter",l,a,n,o,i;return a=new pe({props:{icon:"x",size:"12"}}),{c(){e=m("button"),s=m("span"),s.textContent=t,l=C(),oe(a.$$.fragment),this.h()},l(f){e=p(f,"BUTTON",{class:!0});var h=$(e);s=p(h,"SPAN",{class:!0,"data-svelte-h":!0}),le(s)!=="svelte-1bu6mgu"&&(s.textContent=t),l=w(h),ie(a.$$.fragment,h),h.forEach(_),this.h()},h(){c(s,"class","label svelte-9rjk6l"),c(e,"class","clearFilter svelte-9rjk6l")},m(f,h){A(f,e,h),u(e,s),u(e,l),fe(a,e,null),n=!0,o||(i=te(e,"click",r[9]),o=!0)},p:me,i(f){n||(E(a.$$.fragment,f),n=!0)},o(f){V(a.$$.fragment,f),n=!1},d(f){f&&_(e),ue(a),o=!1,i()}}}function Ue(r){let e,s,t=je(r[4].logs.logs),l=[];for(let n=0;n<t.length;n+=1)l[n]=Fe(Oe(r,t,n));const a=n=>V(l[n],1,1,()=>{l[n]=null});return{c(){e=m("table");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=p(n,"TABLE",{class:!0});var o=$(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(_),this.h()},h(){c(e,"class","svelte-9rjk6l")},m(n,o){A(n,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);s=!0},p(n,o){if(o&118){t=je(n[4].logs.logs);let i;for(i=0;i<t.length;i+=1){const f=Oe(n,t,i);l[i]?(l[i].p(f,o),E(l[i],1)):(l[i]=Fe(f),l[i].c(),E(l[i],1),l[i].m(e,null))}for(ae(),i=t.length;i<l.length;i+=1)a(i);re()}},i(n){if(!s){for(let o=0;o<t.length;o+=1)E(l[o]);s=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)V(l[o]);s=!1},d(n){n&&_(e),Ge(l,n)}}}function ht(r){let e;function s(a,n){return a[20].showFull?gt:pt}let t=s(r),l=t(r);return{c(){e=m("div"),l.c(),this.h()},l(a){e=p(a,"DIV",{class:!0});var n=$(e);l.l(n),n.forEach(_),this.h()},h(){c(e,"class","pre svelte-9rjk6l")},m(a,n){A(a,e,n),l.m(e,null)},p(a,n){t===(t=s(a))&&l?l.p(a,n):(l.d(1),l=t(a),l&&(l.c(),l.m(e,null)))},i:me,o:me,d(a){a&&_(e),l.d()}}}function mt(r){let e,s;return e=new We({props:{value:r[21],showFullLines:!0}}),{c(){oe(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){fe(e,t,l),s=!0},p(t,l){const a={};l&16&&(a.value=t[21]),e.$set(a)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){V(e.$$.fragment,t),s=!1},d(t){ue(e,t)}}}function pt(r){let e=r[20].message.substr(0,ee)+"",s,t,l,a=r[20].message.length>ee&&Be(r);return{c(){s=H(e),t=C(),a&&a.c(),l=$e()},l(n){s=K(n,e),t=w(n),a&&a.l(n),l=$e()},m(n,o){A(n,s,o),A(n,t,o),a&&a.m(n,o),A(n,l,o)},p(n,o){o&16&&e!==(e=n[20].message.substr(0,ee)+"")&&X(s,e),n[20].message.length>ee?a?a.p(n,o):(a=Be(n),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(n){n&&(_(s),_(t),_(l)),a&&a.d(n)}}}function gt(r){let e=r[20].message+"",s;return{c(){s=H(e)},l(t){s=K(t,e)},m(t,l){A(t,s,l)},p(t,l){l&16&&e!==(e=t[20].message+"")&&X(s,e)},d(t){t&&_(s)}}}function Be(r){let e,s,t=r[20].message.length-ee+"",l,a,n,o;function i(){return r[11](r[20],r[24],r[25])}return{c(){e=m("div"),s=m("button"),l=H(t),a=H(" more characters"),this.h()},l(f){e=p(f,"DIV",{class:!0});var h=$(e);s=p(h,"BUTTON",{type:!0,class:!0});var b=$(s);l=K(b,t),a=K(b," more characters"),b.forEach(_),h.forEach(_),this.h()},h(){c(s,"type","button"),c(s,"class","svelte-9rjk6l"),c(e,"class","longStringInfo svelte-9rjk6l")},m(f,h){A(f,e,h),u(e,s),u(s,l),u(s,a),n||(o=te(s,"click",i),n=!0)},p(f,h){r=f,h&16&&t!==(t=r[20].message.length-ee+"")&&X(l,t)},d(f){f&&_(e),n=!1,o()}}}function Ve(r){let e,s,t,l=r[20].data.url+"",a,n,o=r[20].data.user&&Ae(r);return{c(){e=m("ul"),s=m("li"),t=H("Page: "),a=H(l),n=C(),o&&o.c(),this.h()},l(i){e=p(i,"UL",{class:!0});var f=$(e);s=p(f,"LI",{});var h=$(s);t=K(h,"Page: "),a=K(h,l),h.forEach(_),n=w(f),o&&o.l(f),f.forEach(_),this.h()},h(){c(e,"class","info svelte-9rjk6l")},m(i,f){A(i,e,f),u(e,s),u(s,t),u(s,a),u(e,n),o&&o.m(e,null)},p(i,f){f&16&&l!==(l=i[20].data.url+"")&&X(a,l),i[20].data.user?o?o.p(i,f):(o=Ae(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&_(e),o&&o.d()}}}function Ae(r){let e,s,t,l=r[20].data.user.id+"",a,n;return{c(){e=m("li"),s=H("User ID: "),t=m("a"),a=H(l),this.h()},l(o){e=p(o,"LI",{});var i=$(e);s=K(i,"User ID: "),t=p(i,"A",{href:!0,class:!0});var f=$(t);a=K(f,l),f.forEach(_),i.forEach(_),this.h()},h(){c(t,"href",n="/users/"+r[20].data.user.id),c(t,"class","svelte-9rjk6l")},m(o,i){A(o,e,i),u(e,s),u(e,t),u(t,a)},p(o,i){i&16&&l!==(l=o[20].data.user.id+"")&&X(a,l),i&16&&n!==(n="/users/"+o[20].data.user.id)&&c(t,"href",n)},d(o){o&&_(e)}}}function Fe(r){var we;let e,s,t,l=new Date(r[20].created_at).toLocaleDateString(void 0,{})+"",a,n,o=new Date(r[20].created_at).toLocaleTimeString(void 0,{})+"",i,f,h,b,S=r[20].error_type+"",J,x,U,j,L,G,F,T,q,y,d,P="Copy message",Y,D,N,g,I,O="Pin this log",v,k,Q,R,M,Z,ce;const _e=[mt,ht],se=[];function Te(z,B){return z[21]?0:1}j=Te(r),L=se[j]=_e[j](r);let W=((we=r[20].data)==null?void 0:we.url)&&Ve(r);D=new pe({props:{icon:"copy"}});function Xe(...z){return r[12](r[20],...z)}k=new pe({props:{icon:"pin"}});function Ye(){return r[13](r[20])}function Ce(...z){return r[14](r[20],...z)}return{c(){e=m("tr"),s=m("td"),t=m("time"),a=H(l),n=C(),i=H(o),h=C(),b=m("td"),J=H(S),x=C(),U=m("td"),L.c(),G=C(),W&&W.c(),F=C(),T=m("td"),q=m("div"),y=m("button"),d=m("span"),d.textContent=P,Y=C(),oe(D.$$.fragment),N=C(),g=m("button"),I=m("span"),I.textContent=O,v=C(),oe(k.$$.fragment),Q=C(),this.h()},l(z){e=p(z,"TR",{class:!0});var B=$(e);s=p(B,"TD",{class:!0});var he=$(s);t=p(he,"TIME",{datetime:!0,class:!0});var de=$(t);a=K(de,l),n=w(de),i=K(de,o),de.forEach(_),he.forEach(_),h=w(B),b=p(B,"TD",{class:!0});var Se=$(b);J=K(Se,S),Se.forEach(_),x=w(B),U=p(B,"TD",{class:!0});var ge=$(U);L.l(ge),G=w(ge),W&&W.l(ge),ge.forEach(_),F=w(B),T=p(B,"TD",{class:!0});var Le=$(T);q=p(Le,"DIV",{class:!0});var ve=$(q);y=p(ve,"BUTTON",{type:!0,class:!0,title:!0});var be=$(y);d=p(be,"SPAN",{class:!0,"data-svelte-h":!0}),le(d)!=="svelte-1qjln59"&&(d.textContent=P),Y=w(be),ie(D.$$.fragment,be),be.forEach(_),N=w(ve),g=p(ve,"BUTTON",{type:!0,class:!0,title:!0});var ke=$(g);I=p(ke,"SPAN",{class:!0,"data-svelte-h":!0}),le(I)!=="svelte-yzd8i4"&&(I.textContent=O),v=w(ke),ie(k.$$.fragment,ke),ke.forEach(_),ve.forEach(_),Le.forEach(_),Q=w(B),B.forEach(_),this.h()},h(){c(t,"datetime",f=r[20].created_at),c(t,"class","svelte-9rjk6l"),c(s,"class","date svelte-9rjk6l"),c(b,"class","logType svelte-9rjk6l"),c(U,"class","message svelte-9rjk6l"),c(d,"class","label"),c(y,"type","button"),c(y,"class","button svelte-9rjk6l"),c(y,"title","Copy message"),c(I,"class","label"),c(g,"type","button"),c(g,"class","button svelte-9rjk6l"),c(g,"title","Pin this log"),ne(g,"active",r[2].find(Ce)),c(q,"class","svelte-9rjk6l"),c(T,"class","actions svelte-9rjk6l"),c(e,"class","svelte-9rjk6l"),ne(e,"hidden",r[1]&&r[5](r[20])||r[20].hidden),ne(e,"error",r[20].error_type.match(/error/i)),ne(e,"fresh",r[20].downloaded_at>r[4].logs.downloaded_at[0])},m(z,B){A(z,e,B),u(e,s),u(s,t),u(t,a),u(t,n),u(t,i),u(e,h),u(e,b),u(b,J),u(e,x),u(e,U),se[j].m(U,null),u(U,G),W&&W.m(U,null),u(e,F),u(e,T),u(T,q),u(q,y),u(y,d),u(y,Y),fe(D,y,null),u(q,N),u(q,g),u(g,I),u(g,v),fe(k,g,null),u(e,Q),M=!0,Z||(ce=[te(y,"click",Xe),te(g,"click",nt(Ye))],Z=!0)},p(z,B){var de;r=z,(!M||B&16)&&l!==(l=new Date(r[20].created_at).toLocaleDateString(void 0,{})+"")&&X(a,l),(!M||B&16)&&o!==(o=new Date(r[20].created_at).toLocaleTimeString(void 0,{})+"")&&X(i,o),(!M||B&16&&f!==(f=r[20].created_at))&&c(t,"datetime",f),(!M||B&16)&&S!==(S=r[20].error_type+"")&&X(J,S);let he=j;j=Te(r),j===he?se[j].p(r,B):(ae(),V(se[he],1,1,()=>{se[he]=null}),re(),L=se[j],L?L.p(r,B):(L=se[j]=_e[j](r),L.c()),E(L,1),L.m(U,G)),(de=r[20].data)!=null&&de.url?W?W.p(r,B):(W=Ve(r),W.c(),W.m(U,null)):W&&(W.d(1),W=null),(!M||B&20)&&ne(g,"active",r[2].find(Ce)),(!M||B&50)&&ne(e,"hidden",r[1]&&r[5](r[20])||r[20].hidden),(!M||B&16)&&ne(e,"error",r[20].error_type.match(/error/i)),(!M||B&16)&&ne(e,"fresh",r[20].downloaded_at>r[4].logs.downloaded_at[0])},i(z){M||(E(L),E(D.$$.fragment,z),E(k.$$.fragment,z),z&&(R||rt(()=>{R=ut(e,_t,{duration:200}),R.start()})),M=!0)},o(z){V(L),V(D.$$.fragment,z),V(k.$$.fragment,z),M=!1},d(z){z&&_(e),se[j].d(),W&&W.d(),ue(D),ue(k),Z=!1,Ke(ce)}}}function Me(r){let e,s="No newer logs to show<br/>Checking every 3 seconds";return{c(){e=m("footer"),e.innerHTML=s,this.h()},l(t){e=p(t,"FOOTER",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-akhvzo"&&(e.innerHTML=s),this.h()},h(){c(e,"class","svelte-9rjk6l")},m(t,l){A(t,e,l)},d(t){t&&_(e)}}}function ze(r){let e,s;return e=new dt({props:{$$slots:{default:[jt]},$$scope:{ctx:r}}}),{c(){oe(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){fe(e,t,l),s=!0},p(t,l){const a={};l&67108868&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){V(e.$$.fragment,t),s=!1},d(t){ue(e,t)}}}function Je(r){let e,s,t=je(r[2]),l=[];for(let n=0;n<t.length;n+=1)l[n]=He(Ie(r,t,n));const a=n=>V(l[n],1,1,()=>{l[n]=null});return{c(){e=m("ul");for(let n=0;n<l.length;n+=1)l[n].c()},l(n){e=p(n,"UL",{});var o=$(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(_)},m(n,o){A(n,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);s=!0},p(n,o){if(o&68){t=je(n[2]);let i;for(i=0;i<t.length;i+=1){const f=Ie(n,t,i);l[i]?(l[i].p(f,o),E(l[i],1)):(l[i]=He(f),l[i].c(),E(l[i],1),l[i].m(e,null))}for(ae(),i=t.length;i<l.length;i+=1)a(i);re()}},i(n){if(!s){for(let o=0;o<t.length;o+=1)E(l[o]);s=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)V(l[o]);s=!1},d(n){n&&_(e),Ge(l,n)}}}function qe(r){let e,s=r[20].data.url+"",t;return{c(){e=m("div"),t=H(s),this.h()},l(l){e=p(l,"DIV",{class:!0});var a=$(e);t=K(a,s),a.forEach(_),this.h()},h(){c(e,"class","url svelte-9rjk6l")},m(l,a){A(l,e,a),u(e,t)},p(l,a){a&4&&s!==(s=l[20].data.url+"")&&X(t,s)},d(l){l&&_(e)}}}function vt(r){let e;function s(a,n){return a[20].showFull?$t:kt}let t=s(r),l=t(r);return{c(){e=m("div"),l.c(),this.h()},l(a){e=p(a,"DIV",{class:!0});var n=$(e);l.l(n),n.forEach(_),this.h()},h(){c(e,"class","pre svelte-9rjk6l")},m(a,n){A(a,e,n),l.m(e,null)},p(a,n){t===(t=s(a))&&l?l.p(a,n):(l.d(1),l=t(a),l&&(l.c(),l.m(e,null)))},i:me,o:me,d(a){a&&_(e),l.d()}}}function bt(r){let e,s;return e=new We({props:{value:r[21],showFullLines:!0}}),{c(){oe(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){fe(e,t,l),s=!0},p(t,l){const a={};l&4&&(a.value=t[21]),e.$set(a)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){V(e.$$.fragment,t),s=!1},d(t){ue(e,t)}}}function kt(r){let e=r[20].message.substr(0,ee)+"",s,t,l,a=r[20].message.length>ee&&Re(r);return{c(){s=H(e),t=C(),a&&a.c(),l=$e()},l(n){s=K(n,e),t=w(n),a&&a.l(n),l=$e()},m(n,o){A(n,s,o),A(n,t,o),a&&a.m(n,o),A(n,l,o)},p(n,o){o&4&&e!==(e=n[20].message.substr(0,ee)+"")&&X(s,e),n[20].message.length>ee?a?a.p(n,o):(a=Re(n),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(n){n&&(_(s),_(t),_(l)),a&&a.d(n)}}}function $t(r){let e=r[20].message+"",s;return{c(){s=H(e)},l(t){s=K(t,e)},m(t,l){A(t,s,l)},p(t,l){l&4&&e!==(e=t[20].message+"")&&X(s,e)},d(t){t&&_(s)}}}function Re(r){let e,s=r[20].message.length-ee+"",t,l,a,n;function o(){return r[17](r[20],r[22],r[23])}return{c(){e=m("button"),t=H(s),l=H(" more characters"),this.h()},l(i){e=p(i,"BUTTON",{type:!0,class:!0});var f=$(e);t=K(f,s),l=K(f," more characters"),f.forEach(_),this.h()},h(){c(e,"type","button"),c(e,"class","svelte-9rjk6l")},m(i,f){A(i,e,f),u(e,t),u(e,l),a||(n=te(e,"click",o),a=!0)},p(i,f){r=i,f&4&&s!==(s=r[20].message.length-ee+"")&&X(t,s)},d(i){i&&_(e),a=!1,n()}}}function He(r){var O;let e,s,t,l=new Date(r[20].created_at).toLocaleDateString(void 0,{})+"",a,n,o=new Date(r[20].created_at).toLocaleTimeString(void 0,{})+"",i,f,h,b,S,J="Remove log from pinned panel",x,U,j,L,G,F,T,q,y,d,P;U=new pe({props:{icon:"trash",size:"16"}});function Y(){return r[16](r[20])}let D=((O=r[20].data)==null?void 0:O.url)&&qe(r);const N=[bt,vt],g=[];function I(v,k){return v[21]?0:1}return F=I(r),T=g[F]=N[F](r),{c(){e=m("li"),s=m("div"),t=m("time"),a=H(l),n=C(),i=H(o),h=C(),b=m("button"),S=m("span"),S.textContent=J,x=C(),oe(U.$$.fragment),j=C(),D&&D.c(),L=C(),G=m("div"),T.c(),q=C(),this.h()},l(v){e=p(v,"LI",{class:!0});var k=$(e);s=p(k,"DIV",{class:!0});var Q=$(s);t=p(Q,"TIME",{class:!0,datetime:!0});var R=$(t);a=K(R,l),n=w(R),i=K(R,o),R.forEach(_),h=w(Q),b=p(Q,"BUTTON",{type:!0,title:!0,class:!0});var M=$(b);S=p(M,"SPAN",{class:!0,"data-svelte-h":!0}),le(S)!=="svelte-flzfhp"&&(S.textContent=J),x=w(M),ie(U.$$.fragment,M),M.forEach(_),Q.forEach(_),j=w(k),D&&D.l(k),L=w(k),G=p(k,"DIV",{class:!0});var Z=$(G);T.l(Z),Z.forEach(_),q=w(k),k.forEach(_),this.h()},h(){c(t,"class","date svelte-9rjk6l"),c(t,"datetime",f=r[20].created_at),c(S,"class","label"),c(b,"type","button"),c(b,"title","Remove log from pinned panel"),c(b,"class","svelte-9rjk6l"),c(s,"class","info svelte-9rjk6l"),c(G,"class","message svelte-9rjk6l"),c(e,"class","svelte-9rjk6l")},m(v,k){A(v,e,k),u(e,s),u(s,t),u(t,a),u(t,n),u(t,i),u(s,h),u(s,b),u(b,S),u(b,x),fe(U,b,null),u(e,j),D&&D.m(e,null),u(e,L),u(e,G),g[F].m(G,null),u(e,q),y=!0,d||(P=te(b,"click",Y),d=!0)},p(v,k){var R;r=v,(!y||k&4)&&l!==(l=new Date(r[20].created_at).toLocaleDateString(void 0,{})+"")&&X(a,l),(!y||k&4)&&o!==(o=new Date(r[20].created_at).toLocaleTimeString(void 0,{})+"")&&X(i,o),(!y||k&4&&f!==(f=r[20].created_at))&&c(t,"datetime",f),(R=r[20].data)!=null&&R.url?D?D.p(r,k):(D=qe(r),D.c(),D.m(e,L)):D&&(D.d(1),D=null);let Q=F;F=I(r),F===Q?g[F].p(r,k):(ae(),V(g[Q],1,1,()=>{g[Q]=null}),re(),T=g[F],T?T.p(r,k):(T=g[F]=N[F](r),T.c()),E(T,1),T.m(G,null))},i(v){y||(E(U.$$.fragment,v),E(T),y=!0)},o(v){V(U.$$.fragment,v),V(T),y=!1},d(v){v&&_(e),ue(U),D&&D.d(),g[F].d(),d=!1,P()}}}function jt(r){let e,s,t,l="Clear pinned logs",a,n,o,i,f=r[2]&&Je(r);return{c(){e=m("div"),s=m("nav"),t=m("button"),t.textContent=l,a=C(),f&&f.c(),this.h()},l(h){e=p(h,"DIV",{class:!0});var b=$(e);s=p(b,"NAV",{class:!0});var S=$(s);t=p(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(t)!=="svelte-eeid91"&&(t.textContent=l),S.forEach(_),a=w(b),f&&f.l(b),b.forEach(_),this.h()},h(){c(t,"type","button"),c(t,"class","button svelte-9rjk6l"),c(s,"class","asideNav svelte-9rjk6l"),c(e,"class","pins svelte-9rjk6l")},m(h,b){A(h,e,b),u(e,s),u(s,t),u(e,a),f&&f.m(e,null),n=!0,o||(i=te(t,"click",r[15]),o=!0)},p(h,b){h[2]?f?(f.p(h,b),b&4&&E(f,1)):(f=Je(h),f.c(),E(f,1),f.m(e,null)):f&&(ae(),V(f,1,1,()=>{f=null}),re())},i(h){n||(E(f),n=!0)},o(h){V(f),n=!1},d(h){h&&_(e),f&&f.d(),o=!1,i()}}}function Et(r){let e,s,t,l,a,n,o="Filter:",i,f,h,b,S,J,x="Clear screen",U,j,L,G="Toggle pinned logs panel",F,T,q,y,d,P,Y,D,N=r[1]&&Pe(r);T=new pe({props:{icon:"pin"}});let g=r[4].logs.logs&&Ue(r),I=!r[1]&&Me(),O=r[3]&&ze(r);return{c(){e=C(),s=m("div"),t=m("section"),l=m("nav"),a=m("form"),n=m("label"),n.textContent=o,i=C(),f=m("input"),h=C(),N&&N.c(),b=C(),S=m("div"),J=m("button"),J.textContent=x,U=C(),j=m("button"),L=m("span"),L.textContent=G,F=C(),oe(T.$$.fragment),q=C(),g&&g.c(),y=C(),I&&I.c(),d=C(),O&&O.c(),this.h()},l(v){xe("svelte-1xj5d21",ye.head).forEach(_),e=w(v),s=p(v,"DIV",{class:!0});var Q=$(s);t=p(Q,"SECTION",{class:!0});var R=$(t);l=p(R,"NAV",{class:!0});var M=$(l);a=p(M,"FORM",{});var Z=$(a);n=p(Z,"LABEL",{for:!0,"data-svelte-h":!0}),le(n)!=="svelte-kf6j7o"&&(n.textContent=o),i=w(Z),f=p(Z,"INPUT",{type:!0,id:!0,class:!0}),h=w(Z),N&&N.l(Z),Z.forEach(_),b=w(M),S=p(M,"DIV",{class:!0});var ce=$(S);J=p(ce,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(J)!=="svelte-1hlqgjb"&&(J.textContent=x),U=w(ce),j=p(ce,"BUTTON",{type:!0,title:!0,class:!0});var _e=$(j);L=p(_e,"SPAN",{class:!0,"data-svelte-h":!0}),le(L)!=="svelte-1o6petk"&&(L.textContent=G),F=w(_e),ie(T.$$.fragment,_e),_e.forEach(_),ce.forEach(_),M.forEach(_),q=w(R),g&&g.l(R),y=w(R),I&&I.l(R),R.forEach(_),d=w(Q),O&&O.l(Q),Q.forEach(_),this.h()},h(){ye.title="Logs | platformOS",c(n,"for","filter"),c(f,"type","text"),c(f,"id","filter"),c(f,"class","svelte-9rjk6l"),c(J,"type","button"),c(J,"class","button"),c(L,"class","label"),c(j,"type","button"),c(j,"title","Toggle pinned logs panel"),c(j,"class","button"),c(S,"class","svelte-9rjk6l"),c(l,"class","svelte-9rjk6l"),c(t,"class","logs svelte-9rjk6l"),c(s,"class","container svelte-9rjk6l")},m(v,k){A(v,e,k),A(v,s,k),u(s,t),u(t,l),u(l,a),u(a,n),u(a,i),u(a,f),De(f,r[1]),u(a,h),N&&N.m(a,null),u(l,b),u(l,S),u(S,J),u(S,U),u(S,j),u(j,L),u(j,F),fe(T,j,null),u(t,q),g&&g.m(t,null),u(t,y),I&&I.m(t,null),u(s,d),O&&O.m(s,null),r[18](s),P=!0,Y||(D=[te(f,"input",r[8]),te(J,"click",r[10]),te(j,"click",r[7])],Y=!0)},p(v,[k]){k&2&&f.value!==v[1]&&De(f,v[1]),v[1]?N?(N.p(v,k),k&2&&E(N,1)):(N=Pe(v),N.c(),E(N,1),N.m(a,null)):N&&(ae(),V(N,1,1,()=>{N=null}),re()),v[4].logs.logs?g?(g.p(v,k),k&16&&E(g,1)):(g=Ue(v),g.c(),E(g,1),g.m(t,y)):g&&(ae(),V(g,1,1,()=>{g=null}),re()),v[1]?I&&(I.d(1),I=null):I||(I=Me(),I.c(),I.m(t,null)),v[3]?O?(O.p(v,k),k&8&&E(O,1)):(O=ze(v),O.c(),E(O,1),O.m(s,null)):O&&(ae(),V(O,1,1,()=>{O=null}),re())},i(v){P||(E(N),E(T.$$.fragment,v),E(g),E(O),P=!0)},o(v){V(N),V(T.$$.fragment,v),V(g),V(O),P=!1},d(v){v&&(_(e),_(s)),N&&N.d(),ue(T),g&&g.d(),I&&I.d(),O&&O.d(),r[18](null),Y=!1,Ke(D)}}}let ee=262144;function Tt(r,e,s){let t;et(r,Ee,d=>s(4,t=d));let l,a="",n=[],o;const i=d=>d.hidden===!0||d.error_type.toLowerCase().indexOf(a)===-1&&d.message.toLowerCase().indexOf(a)===-1;let f=!1;tt(()=>{{const d=document.querySelector(".logs");d&&Math.abs(d.scrollHeight-d.scrollTop-d.clientHeight)<10&&(f=!1)}}),lt(async()=>{var d;f||(await at(),document.querySelector("footer").scrollIntoView(),(d=t.logs.logs)!=null&&d.length&&(f=!0))}),st(()=>{s(3,o=localStorage.pinnedPanel==="true"),s(2,n=localStorage.pinnedLogs?JSON.parse(localStorage.pinnedLogs):[])});const h=d=>{n.find(P=>P.id===d.id)?s(2,n=n.filter(P=>P.id!==d.id)):s(2,n=[...n,d]),localStorage.pinnedLogs=JSON.stringify(n)},b=()=>{o?(s(3,o=!1),localStorage.pinnedPanel=!1):(s(3,o=!0),localStorage.pinnedPanel=!0)};function S(){a=this.value,s(1,a)}const J=()=>s(1,a=""),x=()=>t.logs.logs.forEach((d,P)=>Ne(Ee,t.logs.logs[P].hidden=!0,t)),U=(d,P,Y)=>Ne(Ee,P[Y].showFull=!0,t),j=(d,P)=>navigator.clipboard.writeText(d.message).then(()=>{P.target.classList.add("confirmation"),setTimeout(()=>P.target.classList.remove("confirmation"),1e3)}),L=d=>h(d),G=(d,P)=>P.id===d.id,F=()=>{localStorage.pinnedLogs=[],s(2,n=[])},T=d=>h(d),q=(d,P,Y)=>s(2,P[Y].showFull=!0,n);function y(d){ot[d?"unshift":"push"](()=>{l=d,s(0,l)})}return[l,a,n,o,t,i,h,b,S,J,x,U,j,L,G,F,T,q,y]}class Ut extends it{constructor(e){super(),ft(this,e,Tt,Et,Ze,{})}}export{Ut as component};
