import{s as Ke,e as $,c as k,b as I,f as p,i as L,B as Q,N as _t,k as Ae,v as je,C as Qe,a as P,z as ne,g as F,y as d,A as x,G as dt,h as _,H as Ge,r as nt,M as Fe,K as gt,F as rt,t as J,d as W,j as _e,n as Le,P as Ct,aa as bl,ab as jt,D as ye,ac as gl,J as yl,T as El,p as Tl,I as Cl,E as Nl}from"../chunks/scheduler.XoNWsti8.js";import{S as Xe,i as Ye,t as D,g as ge,a as j,d as $e,c as se,b as ie,m as oe,e as ue,h as Rt,f as Sl}from"../chunks/index.tx27_CoG.js";import{g as Ol}from"../chunks/globals.0cDDIVm6.js";import{p as kt}from"../chunks/stores.yrcX_QYv.js";import{s as H}from"../chunks/state.MezN31W7.js";import{g as ut}from"../chunks/graphql.vANW7X3L.js";import{I as Se}from"../chunks/Icon.kG__kIFo.js";import{e as Ee,u as Il,o as Dl}from"../chunks/each.njyuMQuv.js";import{t as Tt}from"../chunks/tryParseJSON.KtkvGy73.js";import{J as Ll}from"../chunks/JSONTree.9wTpXHGU.js";import{q as Pl}from"../chunks/index.yKNLBoKC.js";import{N as Fl}from"../chunks/Number.YLNzmRn9.js";const Al={array:"value_array",boolean:"value_boolean",date:"value",datetime:"value",float:"value_float",integer:"value_int",string:"value",text:"value",upload:"value",json:"value_json"},$l={string:"String",integer:"Int",float:"Float",boolean:"Boolean",array:"[String!]",json:"JSONPayload",range:"RangeFilter"},jl=(r=[])=>{let e="",l={},t="";const n={string:["array_contains","not_array_contains","contains","ends_with","not_contains","not_ends_with","not_starts_with","not_value","starts_with","value"],int:["value_int","not_value_int"],float:["not_value_float","value_float"],bool:["exists","not_value_boolean","value_boolean"],range:["range"],array:["value_array","not_value_array","value_in","not_value_in","array_overlaps","not_array_overlaps"]};for(const a of r){if(!a.minFilterValue&&!a.maxFilterValue&&!a.value)break;let s="",i="";n.int.includes(a.operation)?(s="integer",i=parseInt(a.value)):n.float.includes(a.operation)?(s="float",i=parseFloat(a.value)):n.bool.includes(a.operation)?(s="boolean",i=a.value==="true"):n.range.includes(a.operation)?(s="range",i={},i[a.minFilter]=a.minFilterValue,i[a.maxFilter]=a.maxFilterValue):n.array.includes(a.operation)?(s="array",i=JSON.parse(a.value)):(s="string",i=a.value),a.name!=="id"&&(e+=`, $${a.name}: ${$l[s]||"String"}`,l[a.name]=i,t+=`{
        name: "${a.name}",
        ${a.operation}: $${a.name}
      }`)}return e.length&&(e=e.slice(2),e=`(${e})`),t=`
    properties: [${t}]
  `,{variablesDefinition:e,variables:l,propertiesFilter:t}},Ut=r=>{const e=r.entries();let l="",t={},n="",a={};function s(i,o){return o===""?null:i==="integer"?parseInt(o):i==="float"?parseFloat(o):i==="boolean"?o==="true":i==="array"||i==="json"?JSON.parse(o):o}for(const[i,o]of e)if(i.indexOf("[")>=0){let u=i.slice(0,i.indexOf("[")),c=i.slice(i.indexOf("[")+1,i.indexOf("]"));(a[u]??(a[u]={}))[c]=o}for(const i in a)l+=`, $${i}: ${$l[a[i].type]||"String"}`,t[i]=s(a[i].type,a[i].value),n+=`{ name: "${i}", ${Al[a[i].type]}: $${i} }`;return l.length&&(l=l.slice(2),l=`(${l})`),{variablesDefinition:l,variables:t,properties:n}},Ne={get:r=>{var c,f,m;const l={...{deleted:!1,filters:{page:1}},...r},t=l.table?`table_id: { value: ${l.table} }`:"",n=(f=(c=l.filters)==null?void 0:c.attributes)==null?void 0:f.findIndex(g=>g.name==="id");let a="";n>=0&&l.filters.attributes[n].value&&(a=`id: { ${l.filters.attributes[n].operation}: ${l.filters.attributes[n].value} }`);let s="";l.sort?l.sort.by==="id"||l.sort.by==="created_at"||l.sort.by==="updated_at"?s=`${l.sort.by}: { order: ${l.sort.order} }`:s=`properties: { name: "${l.sort.by}", order: ${l.sort.order} }`:s="created_at: { order: DESC }";const i=l.deleted==="true"?"deleted_at: { exists: true }":"",o=jl((m=l.filters)==null?void 0:m.attributes),u=`
      query${o.variablesDefinition} {
        records(
          page: ${l.filters.page}
          per_page: 20,
          sort: { ${s} },
          filter: {
            ${t}
            ${a}
            ${i}
            ${o.propertiesFilter}
          }
        ) {
          current_page
          total_pages
          results {
            id
            created_at
            updated_at
            deleted_at
            properties
          }
        }
      }`;return ut({query:u,variables:o.variables}).then(g=>{H.data("records",g.records)})},create:r=>{const l=Object.fromEntries(r.properties.entries()).tableName,t=Ut(r.properties),n=`
      mutation${t.variablesDefinition} {
        record_create(record: {
          table: "${l}",
          properties: [${t.properties}]
        }) {
          id
        }
      }`;return ut({query:n,variables:t.variables})},edit:r=>{let e=Object.fromEntries(r.properties.entries());const l=e.tableName,t=e.recordId,n=Ut(r.properties),a=`
      mutation${n.variablesDefinition} {
        record_update(
          id: ${t},
          record: {
            table: "${l}"
            properties: [${n.properties}]
          }
        ) {
          id
        }
      }`;return ut({query:a,variables:n.variables})},delete:r=>{let e=Object.fromEntries(r.properties.entries());const l=e.tableName,t=e.recordId,n=`
      mutation {
        record_delete(table: "${l}", id: ${t}) {
          id
        }
      }`;return ut({query:n})},restore:r=>{let e=Object.fromEntries(r.properties.entries());const l=e.tableName,n=`
      mutation {
        record_update(
          id: ${e.recordId},
          record: {
            table: "${l}",
            deleted_at: null
          }
        ) {
          id
        }
      }`;return ut({query:n})}};function Vt(r,e,l){const t=r.slice();return t[10]=e[l],t[11]=e,t[12]=l,t}function Bt(r,e,l){const t=r.slice();return t[13]=e[l],t}function zt(r,e,l){const t=r.slice();return t[16]=e[l],t}function Mt(r){let e,l,t=Ee(r[1].filters.attributes),n=[];for(let s=0;s<t.length;s+=1)n[s]=Jt(Vt(r,t,s));const a=s=>j(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=je()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=je()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);L(s,e,i),l=!0},p(s,i){if(i&6){t=Ee(s[1].filters.attributes);let o;for(o=0;o<t.length;o+=1){const u=Vt(s,t,o);n[o]?(n[o].p(u,i),D(n[o],1)):(n[o]=Jt(u),n[o].c(),D(n[o],1),n[o].m(e.parentNode,e))}for(ge(),o=t.length;o<n.length;o+=1)a(o);$e()}},i(s){if(!l){for(let i=0;i<t.length;i+=1)D(n[i]);l=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)j(n[i]);l=!1},d(s){s&&p(e),Qe(n,s)}}}function qt(r){let e,l=r[16].name+"",t,n,a;return{c(){e=$("option"),t=J(l),n=P(),this.h()},l(s){e=k(s,"OPTION",{});var i=I(e);t=W(i,l),n=F(i),i.forEach(p),this.h()},h(){e.__value=a=r[16].name,x(e,e.__value)},m(s,i){L(s,e,i),_(e,t),_(e,n)},p(s,i){i&2&&l!==(l=s[16].name+"")&&_e(t,l),i&2&&a!==(a=s[16].name)&&(e.__value=a,x(e,e.__value))},d(s){s&&p(e)}}}function Rl(r){let e,l,t=r[10].attribute_type+"",n;return{c(){e=J("Unknow property type: "),l=$("code"),n=J(t)},l(a){e=W(a,"Unknow property type: "),l=k(a,"CODE",{});var s=I(l);n=W(s,t),s.forEach(p)},m(a,s){L(a,e,s),L(a,l,s),_(l,n)},p(a,s){s&2&&t!==(t=a[10].attribute_type+"")&&_e(n,t)},i:Le,o:Le,d(a){a&&(p(e),p(l))}}}function Ul(r){let e,l,t,n,a,s="Apply filters",i,o,u,c,f,m=Ee(r[2][r[10].attribute_type]),g=[];for(let h=0;h<m.length;h+=1)g[h]=Ht(Bt(r,m,h));function y(){r[7].call(e,r[11],r[12])}function C(h,w){return h[10].operation==="exists"?zl:h[10].operation==="range"?Bl:Vl}let b=C(r),T=b(r);return o=new Se({props:{icon:"arrowRight"}}),{c(){e=$("select");for(let h=0;h<g.length;h+=1)g[h].c();l=P(),T.c(),t=P(),n=$("button"),a=$("span"),a.textContent=s,i=P(),se(o.$$.fragment),this.h()},l(h){e=k(h,"SELECT",{name:!0,class:!0});var w=I(e);for(let B=0;B<g.length;B+=1)g[B].l(w);w.forEach(p),l=F(h),T.l(h),t=F(h),n=k(h,"BUTTON",{type:!0,class:!0});var N=I(n);a=k(N,"SPAN",{class:!0,"data-svelte-h":!0}),ne(a)!=="svelte-6jbkuq"&&(a.textContent=s),i=F(N),ie(o.$$.fragment,N),N.forEach(p),this.h()},h(){d(e,"name","operation"),d(e,"class","svelte-y4u12o"),r[10].operation===void 0&&dt(y),d(a,"class","label"),d(n,"type","submit"),d(n,"class","button svelte-y4u12o")},m(h,w){L(h,e,w);for(let N=0;N<g.length;N+=1)g[N]&&g[N].m(e,null);Ge(e,r[10].operation,!0),L(h,l,w),T.m(h,w),L(h,t,w),L(h,n,w),_(n,a),_(n,i),oe(o,n,null),u=!0,c||(f=Q(e,"change",y),c=!0)},p(h,w){if(r=h,w&6){m=Ee(r[2][r[10].attribute_type]);let N;for(N=0;N<m.length;N+=1){const B=Bt(r,m,N);g[N]?g[N].p(B,w):(g[N]=Ht(B),g[N].c(),g[N].m(e,null))}for(;N<g.length;N+=1)g[N].d(1);g.length=m.length}w&2&&Ge(e,r[10].operation),b===(b=C(r))&&T?T.p(r,w):(T.d(1),T=b(r),T&&(T.c(),T.m(t.parentNode,t)))},i(h){u||(D(o.$$.fragment,h),u=!0)},o(h){j(o.$$.fragment,h),u=!1},d(h){h&&(p(e),p(l),p(t),p(n)),Qe(g,h),T.d(h),ue(o),c=!1,f()}}}function Ht(r){let e,l=r[13]+"",t,n;return{c(){e=$("option"),t=J(l),this.h()},l(a){e=k(a,"OPTION",{});var s=I(e);t=W(s,l),s.forEach(p),this.h()},h(){e.__value=n=r[13],x(e,e.__value)},m(a,s){L(a,e,s),_(e,t)},p(a,s){s&2&&l!==(l=a[13]+"")&&_e(t,l),s&2&&n!==(n=a[13])&&(e.__value=n,x(e,e.__value))},d(a){a&&p(e)}}}function Vl(r){let e,l,t;function n(){r[8].call(e,r[11],r[12])}return{c(){e=$("input"),this.h()},l(a){e=k(a,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),this.h()},h(){d(e,"type","text"),d(e,"name","value"),d(e,"placeholder","filter value"),d(e,"class","svelte-y4u12o")},m(a,s){L(a,e,s),x(e,r[10].value),l||(t=Q(e,"input",n),l=!0)},p(a,s){r=a,s&2&&e.value!==r[10].value&&x(e,r[10].value)},d(a){a&&p(e),l=!1,t()}}}function Bl(r){let e,l,t=">",n,a="≥",s,i,o,u,c,f,m="<",g,y="≤",C,b,T;return{c(){e=$("select"),l=$("option"),l.textContent=t,n=$("option"),n.textContent=a,s=P(),i=$("input"),u=P(),c=$("select"),f=$("option"),f.textContent=m,g=$("option"),g.textContent=y,C=P(),b=$("input"),this.h()},l(h){e=k(h,"SELECT",{name:!0,class:!0});var w=I(e);l=k(w,"OPTION",{"data-svelte-h":!0}),ne(l)!=="svelte-1xj81f9"&&(l.textContent=t),n=k(w,"OPTION",{"data-svelte-h":!0}),ne(n)!=="svelte-w6lec5"&&(n.textContent=a),w.forEach(p),s=F(h),i=k(h,"INPUT",{type:!0,name:!0,class:!0}),u=F(h),c=k(h,"SELECT",{name:!0,class:!0});var N=I(c);f=k(N,"OPTION",{"data-svelte-h":!0}),ne(f)!=="svelte-1kxptxj"&&(f.textContent=m),g=k(N,"OPTION",{"data-svelte-h":!0}),ne(g)!=="svelte-1juwqhl"&&(g.textContent=y),N.forEach(p),C=F(h),b=k(h,"INPUT",{type:!0,name:!0,class:!0}),this.h()},h(){l.__value="gt",x(l,l.__value),n.__value="gte",x(n,n.__value),d(e,"name","maxFilter"),d(e,"class","svelte-y4u12o"),d(i,"type","number"),d(i,"name","maxFilterValue"),i.value=o=r[10].maxFilterValue,d(i,"class","svelte-y4u12o"),f.__value="lt",x(f,f.__value),g.__value="lte",x(g,g.__value),d(c,"name","minFilter"),d(c,"class","svelte-y4u12o"),d(b,"type","number"),d(b,"name","minFilterValue"),b.value=T=r[10].minFilterValue,d(b,"class","svelte-y4u12o")},m(h,w){L(h,e,w),_(e,l),_(e,n),L(h,s,w),L(h,i,w),L(h,u,w),L(h,c,w),_(c,f),_(c,g),L(h,C,w),L(h,b,w)},p(h,w){w&2&&o!==(o=h[10].maxFilterValue)&&i.value!==o&&(i.value=o),w&2&&T!==(T=h[10].minFilterValue)&&b.value!==T&&(b.value=T)},d(h){h&&(p(e),p(s),p(i),p(u),p(c),p(C),p(b))}}}function zl(r){let e,l,t="true",n,a="false";return{c(){e=$("select"),l=$("option"),l.textContent=t,n=$("option"),n.textContent=a,this.h()},l(s){e=k(s,"SELECT",{name:!0,class:!0});var i=I(e);l=k(i,"OPTION",{"data-svelte-h":!0}),ne(l)!=="svelte-ogzxji"&&(l.textContent=t),n=k(i,"OPTION",{"data-svelte-h":!0}),ne(n)!=="svelte-gyv02o"&&(n.textContent=a),i.forEach(p),this.h()},h(){l.__value="true",x(l,l.__value),n.__value="false",x(n,n.__value),d(e,"name","value"),d(e,"class","svelte-y4u12o")},m(s,i){L(s,e,i),_(e,l),_(e,n)},p:Le,d(s){s&&p(e)}}}function Jt(r){let e,l,t="Filter by:",n,a,s,i="id",o,u,c,f,m,g,y,C,b,T=Ee(r[1].table.properties),h=[];for(let S=0;S<T.length;S+=1)h[S]=qt(zt(r,T,S));function w(){r[4].call(a,r[11],r[12])}function N(){return r[5](r[10],r[11],r[12])}function B(){r[6].call(u,r[11],r[12])}const z=[Ul,Rl],O=[];function V(S,v){return S[2][S[10].attribute_type]?0:1}return f=V(r),m=O[f]=z[f](r),{c(){e=$("fieldset"),l=$("label"),l.textContent=t,n=P(),a=$("select"),s=$("option"),s.textContent=i;for(let S=0;S<h.length;S+=1)h[S].c();o=P(),u=$("input"),c=P(),m.c(),g=P(),this.h()},l(S){e=k(S,"FIELDSET",{class:!0});var v=I(e);l=k(v,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ne(l)!=="svelte-1adf875"&&(l.textContent=t),n=F(v),a=k(v,"SELECT",{name:!0,class:!0});var E=I(a);s=k(E,"OPTION",{"data-svelte-h":!0}),ne(s)!=="svelte-ns3pfu"&&(s.textContent=i);for(let A=0;A<h.length;A+=1)h[A].l(E);E.forEach(p),o=F(v),u=k(v,"INPUT",{type:!0,name:!0}),c=F(v),m.l(v),g=F(v),v.forEach(p),this.h()},h(){d(l,"for",""),d(l,"class","svelte-y4u12o"),s.__value="id",x(s,s.__value),d(a,"name","name"),d(a,"class","svelte-y4u12o"),r[10].name===void 0&&dt(w),d(u,"type","hidden"),d(u,"name","attribute_type"),d(e,"class","svelte-y4u12o")},m(S,v){L(S,e,v),_(e,l),_(e,n),_(e,a),_(a,s);for(let E=0;E<h.length;E+=1)h[E]&&h[E].m(a,null);Ge(a,r[10].name,!0),_(e,o),_(e,u),x(u,r[10].attribute_type),_(e,c),O[f].m(e,null),_(e,g),y=!0,C||(b=[Q(a,"change",w),Q(a,"change",N),Q(u,"input",B)],C=!0)},p(S,v){if(r=S,v&2){T=Ee(r[1].table.properties);let A;for(A=0;A<T.length;A+=1){const q=zt(r,T,A);h[A]?h[A].p(q,v):(h[A]=qt(q),h[A].c(),h[A].m(a,null))}for(;A<h.length;A+=1)h[A].d(1);h.length=T.length}v&2&&Ge(a,r[10].name),v&2&&x(u,r[10].attribute_type);let E=f;f=V(r),f===E?O[f].p(r,v):(ge(),j(O[E],1,1,()=>{O[E]=null}),$e(),m=O[f],m?m.p(r,v):(m=O[f]=z[f](r),m.c()),D(m,1),m.m(e,g))},i(S){y||(D(m),y=!0)},o(S){j(m),y=!1},d(S){S&&p(e),Qe(h,S),O[f].d(),C=!1,nt(b)}}}function Ml(r){var s;let e,l,t,n,a=((s=r[1].table)==null?void 0:s.properties)&&Mt(r);return{c(){e=$("form"),a&&a.c()},l(i){e=k(i,"FORM",{});var o=I(e);a&&a.l(o),o.forEach(p)},m(i,o){L(i,e,o),a&&a.m(e,null),r[9](e),l=!0,t||(n=Q(e,"submit",_t(r[3])),t=!0)},p(i,[o]){var u;(u=i[1].table)!=null&&u.properties?a?(a.p(i,o),o&2&&D(a,1)):(a=Mt(i),a.c(),D(a,1),a.m(e,null)):a&&(ge(),j(a,1,1,()=>{a=null}),$e())},i(i){l||(D(a),l=!0)},o(i){j(a),l=!1},d(i){i&&p(e),a&&a.d(),r[9](null),t=!1,n()}}}function ql(r,e,l){let t;Ae(r,H,g=>l(1,t=g));let n;const a={id:["value"],string:["value","exists","contains","ends_with","not_contains","not_ends_with","not_starts_with","not_value","starts_with"],text:["value","exists","not_value"],array:["array_contains","value_array","value_in","exists","array_overlaps","not_array_contains","not_array_overlaps","not_value_array","not_value_in"],boolean:["value_boolean","exists","not_value_boolean"],integer:["value_int","exists","not_value_int","range"],float:["value_float","exists","not_value_float","range"],upload:["value","exists","not_value"],datetime:["value","exists","contains","ends_with","not_contains","not_ends_with","not_starts_with","not_value","starts_with"],date:["value","exists","contains","ends_with","not_contains","not_ends_with","not_starts_with","not_value","starts_with"]},s=()=>{Fe(H,t.filters={page:1,attributes:[Object.fromEntries(new FormData(n).entries())],deleted:t.filters.deleted},t),Ne.get({table:t.table.id,filters:t.filters,sort:t.sort,deleted:t.filters.deleted})};function i(g,y){g[y].name=gt(this),H.set(t)}const o=(g,y,C)=>{var b;Fe(H,y[C].attribute_type=((b=t.table.properties.find(T=>T.name===g.name))==null?void 0:b.attribute_type)||"id",t)};function u(g,y){g[y].attribute_type=this.value,H.set(t)}function c(g,y){g[y].operation=gt(this),H.set(t)}function f(g,y){g[y].value=this.value,H.set(t)}function m(g){rt[g?"unshift":"push"](()=>{n=g,l(0,n)})}return[n,t,a,s,i,o,u,c,f,m]}class Hl extends Xe{constructor(e){super(),Ye(this,e,ql,Ml,Ke,{})}}function Wt(r,e,l){const t=r.slice();return t[8]=e[l],t}function Kt(r){let e,l,t="created at",n,a="updated at",s,i="id",o,u,c,f="DESC [Z→A]",m,g="ASC [A→Z]",y,C,b,T,h,w,N,B=Ee(r[1].table.properties),z=[];for(let v=0;v<B.length;v+=1)z[v]=Xt(Wt(r,B,v));const O=[Wl,Jl],V=[];function S(v,E){return v[1].sort.order==="DESC"?0:1}return b=S(r),T=V[b]=O[b](r),{c(){e=$("select"),l=$("option"),l.textContent=t,n=$("option"),n.textContent=a,s=$("option"),s.textContent=i;for(let v=0;v<z.length;v+=1)z[v].c();o=P(),u=$("select"),c=$("option"),c.textContent=f,m=$("option"),m.textContent=g,y=P(),C=$("label"),T.c(),this.h()},l(v){e=k(v,"SELECT",{name:!0,id:!0,class:!0});var E=I(e);l=k(E,"OPTION",{"data-svelte-h":!0}),ne(l)!=="svelte-waq5ct"&&(l.textContent=t),n=k(E,"OPTION",{"data-svelte-h":!0}),ne(n)!=="svelte-msojyp"&&(n.textContent=a),s=k(E,"OPTION",{"data-svelte-h":!0}),ne(s)!=="svelte-ns3pfu"&&(s.textContent=i);for(let Z=0;Z<z.length;Z+=1)z[Z].l(E);E.forEach(p),o=F(v),u=k(v,"SELECT",{name:!0,id:!0,class:!0});var A=I(u);c=k(A,"OPTION",{"data-svelte-h":!0}),ne(c)!=="svelte-1soe6tv"&&(c.textContent=f),m=k(A,"OPTION",{"data-svelte-h":!0}),ne(m)!=="svelte-ih5v4p"&&(m.textContent=g),A.forEach(p),y=F(v),C=k(v,"LABEL",{for:!0,class:!0});var q=I(C);T.l(q),q.forEach(p),this.h()},h(){l.__value="created_at",x(l,l.__value),n.__value="updated_at",x(n,n.__value),s.__value="id",x(s,s.__value),d(e,"name","by"),d(e,"id","sort_by"),d(e,"class","svelte-yzlk61"),r[1].sort.by===void 0&&dt(()=>r[3].call(e)),c.__value="DESC",x(c,c.__value),m.__value="ASC",x(m,m.__value),d(u,"name","order"),d(u,"id","sort_order"),d(u,"class","svelte-yzlk61"),r[1].sort.order===void 0&&dt(()=>r[5].call(u)),d(C,"for","sort_order"),d(C,"class","button svelte-yzlk61")},m(v,E){L(v,e,E),_(e,l),_(e,n),_(e,s);for(let A=0;A<z.length;A+=1)z[A]&&z[A].m(e,null);Ge(e,r[1].sort.by,!0),L(v,o,E),L(v,u,E),_(u,c),_(u,m),Ge(u,r[1].sort.order,!0),L(v,y,E),L(v,C,E),V[b].m(C,null),h=!0,w||(N=[Q(e,"change",r[3]),Q(e,"change",r[4]),Q(u,"change",r[5]),Q(u,"change",r[6])],w=!0)},p(v,E){if(E&2){B=Ee(v[1].table.properties);let q;for(q=0;q<B.length;q+=1){const Z=Wt(v,B,q);z[q]?z[q].p(Z,E):(z[q]=Xt(Z),z[q].c(),z[q].m(e,null))}for(;q<z.length;q+=1)z[q].d(1);z.length=B.length}E&2&&Ge(e,v[1].sort.by),E&2&&Ge(u,v[1].sort.order);let A=b;b=S(v),b!==A&&(ge(),j(V[A],1,1,()=>{V[A]=null}),$e(),T=V[b],T||(T=V[b]=O[b](v),T.c()),D(T,1),T.m(C,null))},i(v){h||(D(T),h=!0)},o(v){j(T),h=!1},d(v){v&&(p(e),p(o),p(u),p(y),p(C)),Qe(z,v),V[b].d(),w=!1,nt(N)}}}function Xt(r){let e,l=r[8].name+"",t,n,a;return{c(){e=$("option"),t=J(l),n=P(),this.h()},l(s){e=k(s,"OPTION",{});var i=I(e);t=W(i,l),n=F(i),i.forEach(p),this.h()},h(){e.__value=a=r[8].name,x(e,e.__value)},m(s,i){L(s,e,i),_(e,t),_(e,n)},p(s,i){i&2&&l!==(l=s[8].name+"")&&_e(t,l),i&2&&a!==(a=s[8].name)&&(e.__value=a,x(e,e.__value))},d(s){s&&p(e)}}}function Jl(r){let e,l;return e=new Se({props:{icon:"sortAZ"}}),{c(){se(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,n){oe(e,t,n),l=!0},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ue(e,t)}}}function Wl(r){let e,l;return e=new Se({props:{icon:"sortZA"}}),{c(){se(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,n){oe(e,t,n),l=!0},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ue(e,t)}}}function Kl(r){var s;let e,l,t,n,a=((s=r[1].table)==null?void 0:s.properties)&&Kt(r);return{c(){e=$("form"),a&&a.c(),this.h()},l(i){e=k(i,"FORM",{class:!0});var o=I(e);a&&a.l(o),o.forEach(p),this.h()},h(){d(e,"class","svelte-yzlk61")},m(i,o){L(i,e,o),a&&a.m(e,null),r[7](e),l=!0,t||(n=Q(e,"submit",_t(r[2])),t=!0)},p(i,[o]){var u;(u=i[1].table)!=null&&u.properties?a?(a.p(i,o),o&2&&D(a,1)):(a=Kt(i),a.c(),D(a,1),a.m(e,null)):a&&(ge(),j(a,1,1,()=>{a=null}),$e())},i(i){l||(D(a),l=!0)},o(i){j(a),l=!1},d(i){i&&p(e),a&&a.d(),r[7](null),t=!1,n()}}}function Xl(r,e,l){let t;Ae(r,H,f=>l(1,t=f));let n;const a=()=>{Fe(H,t.filters.page=1,t),Ne.get({table:t.table.id,filters:t.filters,sort:Object.fromEntries(new FormData(n).entries()),deleted:t.filters.deleted})};function s(){t.sort.by=gt(this),H.set(t)}const i=()=>n.requestSubmit();function o(){t.sort.order=gt(this),H.set(t)}const u=()=>n.requestSubmit();function c(f){rt[f?"unshift":"push"](()=>{n=f,l(0,n)})}return[n,t,a,s,i,o,u,c]}class Yl extends Xe{constructor(e){super(),Ye(this,e,Xl,Kl,Ke,{})}}const kl=(r,e)=>{let l={value:r,type:e};return r===null?(l.value=null,l.type="null",{...l}):(e==="boolean"&&(r===!0?l.value="true":r===void 0?(l.value=null,l.type="null"):l.value="false"),typeof r=="object"?(l.value=r,l.type="json",{...l}):Tt(r)?(l.value=Tt(r),l.type="jsonEscaped",{...l}):{...l,original:{value:r,type:e}})},Zl=(r,e)=>{const l=t=>{t.composedPath().includes(r)||e()};return document.addEventListener("mousedown",l),{destroy(){document.removeEventListener("mousedown",l)}}};function Gl(r){let e,l,t,n,a,s,i,o,u,c,f,m,g;return u=new Se({props:{icon:"x",size:"22"}}),{c(){e=$("form"),l=$("input"),n=P(),a=$("input"),s=P(),i=$("button"),o=$("i"),se(u.$$.fragment),c=J(`\r
    Delete record`),this.h()},l(y){e=k(y,"FORM",{});var C=I(e);l=k(C,"INPUT",{type:!0,name:!0}),n=F(C),a=k(C,"INPUT",{type:!0,name:!0}),s=F(C),i=k(C,"BUTTON",{class:!0});var b=I(i);o=k(b,"I",{class:!0});var T=I(o);ie(u.$$.fragment,T),T.forEach(p),c=W(b,`\r
    Delete record`),b.forEach(p),C.forEach(p),this.h()},h(){d(l,"type","hidden"),d(l,"name","tableName"),l.value=t=r[0].name,d(a,"type","hidden"),d(a,"name","recordId"),a.value=r[1],d(o,"class","svelte-ooaugn"),d(i,"class","danger")},m(y,C){L(y,e,C),_(e,l),_(e,n),_(e,a),_(e,s),_(e,i),_(i,o),oe(u,o,null),_(i,c),r[4](e),f=!0,m||(g=Q(e,"submit",r[3]),m=!0)},p(y,[C]){(!f||C&1&&t!==(t=y[0].name))&&(l.value=t),(!f||C&2)&&(a.value=y[1])},i(y){f||(D(u.$$.fragment,y),f=!0)},o(y){j(u.$$.fragment,y),f=!1},d(y){y&&p(e),ue(u),r[4](null),m=!1,g()}}}function Ql(r,e,l){let t,n;Ae(r,H,f=>l(5,t=f)),Ae(r,kt,f=>l(6,n=f));let{table:a}=e,{id:s}=e,i,o=Ct();const u=async f=>{if(f.preventDefault(),confirm("Are you sure you want to delete this record?")){o("success");const m=await Ne.delete({table:a.name,properties:new FormData(i)});m.errors?H.notification.create("error",`Record ${m.record_delete.id} could not be deleted`):(Ne.get({table:n.params.id,filters:t.filters,sort:t.sort,deleted:t.filters.deleted}),H.notification.create("success",`Record ${m.record_delete.id} deleted`))}};function c(f){rt[f?"unshift":"push"](()=>{i=f,l(2,i)})}return r.$$set=f=>{"table"in f&&l(0,a=f.table),"id"in f&&l(1,s=f.id)},[a,s,i,u,c]}class xl extends Xe{constructor(e){super(),Ye(this,e,Ql,Gl,Ke,{table:0,id:1})}}function er(r){let e,l,t,n,a,s,i,o,u,c,f,m,g;return u=new Se({props:{icon:"recycleRefresh"}}),{c(){e=$("form"),l=$("input"),n=P(),a=$("input"),s=P(),i=$("button"),o=$("i"),se(u.$$.fragment),c=J(`\r
    Restore record`),this.h()},l(y){e=k(y,"FORM",{});var C=I(e);l=k(C,"INPUT",{type:!0,name:!0}),n=F(C),a=k(C,"INPUT",{type:!0,name:!0}),s=F(C),i=k(C,"BUTTON",{});var b=I(i);o=k(b,"I",{});var T=I(o);ie(u.$$.fragment,T),T.forEach(p),c=W(b,`\r
    Restore record`),b.forEach(p),C.forEach(p),this.h()},h(){d(l,"type","hidden"),d(l,"name","tableName"),l.value=t=r[0].name,d(a,"type","hidden"),d(a,"name","recordId"),a.value=r[1]},m(y,C){L(y,e,C),_(e,l),_(e,n),_(e,a),_(e,s),_(e,i),_(i,o),oe(u,o,null),_(i,c),r[4](e),f=!0,m||(g=Q(e,"submit",r[3]),m=!0)},p(y,[C]){(!f||C&1&&t!==(t=y[0].name))&&(l.value=t),(!f||C&2)&&(a.value=y[1])},i(y){f||(D(u.$$.fragment,y),f=!0)},o(y){j(u.$$.fragment,y),f=!1},d(y){y&&p(e),ue(u),r[4](null),m=!1,g()}}}function tr(r,e,l){let t,n;Ae(r,H,f=>l(5,t=f)),Ae(r,kt,f=>l(6,n=f));let{table:a}=e,{id:s}=e,i,o=Ct();const u=async f=>{f.preventDefault(),o("success");const m=await Ne.restore({table:a.name,properties:new FormData(i)});m.errors?H.notification.create("error",`Record ${m.record_update.id} could not be restored`):(Ne.get({table:n.params.id,filters:t.filters,sort:t.sort,deleted:t.filters.deleted}),H.notification.create("success",`Record ${m.record_update.id} restored`))};function c(f){rt[f?"unshift":"push"](()=>{i=f,l(2,i)})}return r.$$set=f=>{"table"in f&&l(0,a=f.table),"id"in f&&l(1,s=f.id)},[a,s,i,u,c]}class lr extends Xe{constructor(e){super(),Ye(this,e,tr,er,Ke,{table:0,id:1})}}function rr(r){let e,l;return e=new xl({props:{table:r[1].table,id:r[0].id}}),e.$on("success",r[6]),{c(){se(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,n){oe(e,t,n),l=!0},p(t,n){const a={};n&2&&(a.table=t[1].table),n&1&&(a.id=t[0].id),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ue(e,t)}}}function nr(r){let e,l;return e=new lr({props:{table:r[1].table,id:r[0].id}}),e.$on("success",r[5]),{c(){se(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,n){oe(e,t,n),l=!0},p(t,n){const a={};n&2&&(a.table=t[1].table),n&1&&(a.id=t[0].id),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ue(e,t)}}}function ar(r){let e,l,t,n,a,s,i,o,u,c,f,m,g;a=new Se({props:{icon:"copy",size:"22"}});const y=[nr,rr],C=[];function b(T,h){return T[1].filters.deleted==="true"?0:1}return u=b(r),c=C[u]=y[u](r),{c(){e=$("menu"),l=$("ul"),t=$("li"),n=$("button"),se(a.$$.fragment),s=J(`\r
        Copy record`),i=P(),o=$("li"),c.c(),this.h()},l(T){e=k(T,"MENU",{class:!0});var h=I(e);l=k(h,"UL",{});var w=I(l);t=k(w,"LI",{class:!0});var N=I(t);n=k(N,"BUTTON",{type:!0});var B=I(n);ie(a.$$.fragment,B),s=W(B,`\r
        Copy record`),B.forEach(p),N.forEach(p),i=F(w),o=k(w,"LI",{class:!0});var z=I(o);c.l(z),z.forEach(p),w.forEach(p),h.forEach(p),this.h()},h(){d(n,"type","button"),d(t,"class","svelte-1tht2a1"),d(o,"class","svelte-1tht2a1"),d(e,"class","content-context svelte-1tht2a1")},m(T,h){L(T,e,h),_(e,l),_(l,t),_(t,n),oe(a,n,null),_(n,s),_(l,i),_(l,o),C[u].m(o,null),f=!0,m||(g=[Q(window,"keyup",r[3]),Q(n,"click",r[4]),bl(Zl.call(null,e,r[7]))],m=!0)},p(T,[h]){let w=u;u=b(T),u===w?C[u].p(T,h):(ge(),j(C[w],1,1,()=>{C[w]=null}),$e(),c=C[u],c?c.p(T,h):(c=C[u]=y[u](T),c.c()),D(c,1),c.m(o,null))},i(T){f||(D(a.$$.fragment,T),D(c),f=!0)},o(T){j(a.$$.fragment,T),j(c),f=!1},d(T){T&&p(e),ue(a),C[u].d(),m=!1,nt(g)}}}function sr(r,e,l){let t;Ae(r,H,f=>l(1,t=f));let{record:n}=e;const a=Ct(),s=f=>{f.key==="Escape"&&a("close")},i=()=>{a("close"),Fe(H,t.record={...n},t),Fe(H,t.record.id=null,t)},o=()=>a("close"),u=()=>a("close"),c=()=>a("close");return r.$$set=f=>{"record"in f&&l(0,n=f.record)},[n,t,a,s,i,o,u,c]}class ir extends Xe{constructor(e){super(),Ye(this,e,sr,ar,Ke,{record:0})}}function Yt(r,e,l){const t=r.slice();return t[5]=e[l],t}function Zt(r,e,l){const t=r.slice();t[8]=e[l];const n=kl(t[5].properties[t[8].name],t[8].attribute_type);return t[9]=n,t}function Gt(r,e,l){const t=r.slice();return t[8]=e[l],t}function Qt(r){var B,z;let e,l,t,n,a="id",s,i,o,u="created at",c,f,m="updated at",g,y,C,b,T=Ee(r[1].table.properties),h=[];for(let O=0;O<T.length;O+=1)h[O]=xt(Gt(r,T,O));let w=r[1].filters.deleted==="true"&&el(),N=((z=(B=r[1].records)==null?void 0:B.results)==null?void 0:z.length)&&tl(r);return{c(){e=$("table"),l=$("thead"),t=$("tr"),n=$("th"),n.textContent=a,s=P();for(let O=0;O<h.length;O+=1)h[O].c();i=P(),o=$("th"),o.textContent=u,c=P(),f=$("th"),f.textContent=m,g=P(),w&&w.c(),y=P(),N&&N.c(),this.h()},l(O){e=k(O,"TABLE",{class:!0});var V=I(e);l=k(V,"THEAD",{class:!0});var S=I(l);t=k(S,"TR",{});var v=I(t);n=k(v,"TH",{class:!0,"data-svelte-h":!0}),ne(n)!=="svelte-1i366gx"&&(n.textContent=a),s=F(v);for(let E=0;E<h.length;E+=1)h[E].l(v);i=F(v),o=k(v,"TH",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-g832ob"&&(o.textContent=u),c=F(v),f=k(v,"TH",{class:!0,"data-svelte-h":!0}),ne(f)!=="svelte-1dvr12"&&(f.textContent=m),g=F(v),w&&w.l(v),v.forEach(p),S.forEach(p),y=F(V),N&&N.l(V),V.forEach(p),this.h()},h(){d(n,"class","id svelte-1bwwtph"),d(o,"class","svelte-1bwwtph"),d(f,"class","svelte-1bwwtph"),d(l,"class","svelte-1bwwtph"),d(e,"class",C=jt(r[1].view.tableStyle)+" svelte-1bwwtph")},m(O,V){L(O,e,V),_(e,l),_(l,t),_(t,n),_(t,s);for(let S=0;S<h.length;S+=1)h[S]&&h[S].m(t,null);_(t,i),_(t,o),_(t,c),_(t,f),_(t,g),w&&w.m(t,null),_(e,y),N&&N.m(e,null),b=!0},p(O,V){var S,v;if(V&2){T=Ee(O[1].table.properties);let E;for(E=0;E<T.length;E+=1){const A=Gt(O,T,E);h[E]?h[E].p(A,V):(h[E]=xt(A),h[E].c(),h[E].m(t,i))}for(;E<h.length;E+=1)h[E].d(1);h.length=T.length}O[1].filters.deleted==="true"?w||(w=el(),w.c(),w.m(t,null)):w&&(w.d(1),w=null),(v=(S=O[1].records)==null?void 0:S.results)!=null&&v.length?N?(N.p(O,V),V&2&&D(N,1)):(N=tl(O),N.c(),D(N,1),N.m(e,null)):N&&(ge(),j(N,1,1,()=>{N=null}),$e()),(!b||V&2&&C!==(C=jt(O[1].view.tableStyle)+" svelte-1bwwtph"))&&d(e,"class",C)},i(O){b||(D(N),b=!0)},o(O){j(N),b=!1},d(O){O&&p(e),Qe(h,O),w&&w.d(),N&&N.d()}}}function xt(r){let e,l=r[8].name+"",t,n,a,s,i=r[8].attribute_type+"",o,u;return{c(){e=$("th"),t=J(l),n=P(),a=$("small"),s=J("("),o=J(i),u=J(")"),this.h()},l(c){e=k(c,"TH",{class:!0});var f=I(e);t=W(f,l),n=F(f),a=k(f,"SMALL",{class:!0});var m=I(a);s=W(m,"("),o=W(m,i),u=W(m,")"),m.forEach(p),f.forEach(p),this.h()},h(){d(a,"class","type svelte-1bwwtph"),d(e,"class","svelte-1bwwtph")},m(c,f){L(c,e,f),_(e,t),_(e,n),_(e,a),_(a,s),_(a,o),_(a,u)},p(c,f){f&2&&l!==(l=c[8].name+"")&&_e(t,l),f&2&&i!==(i=c[8].attribute_type+"")&&_e(o,i)},d(c){c&&p(e)}}}function el(r){let e,l="deleted at";return{c(){e=$("th"),e.textContent=l,this.h()},l(t){e=k(t,"TH",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1jwm27o"&&(e.textContent=l),this.h()},h(){d(e,"class","svelte-1bwwtph")},m(t,n){L(t,e,n)},d(t){t&&p(e)}}}function tl(r){var i;let e=[],l=new Map,t,n,a=Ee((i=r[1].records)==null?void 0:i.results);const s=o=>o[5].id;for(let o=0;o<a.length;o+=1){let u=Yt(r,a,o),c=s(u);l.set(c,e[o]=sl(c,u))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=je()},l(o){for(let u=0;u<e.length;u+=1)e[u].l(o);t=je()},m(o,u){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,u);L(o,t,u),n=!0},p(o,u){var c;u&3&&(a=Ee((c=o[1].records)==null?void 0:c.results),ge(),e=Il(e,u,s,1,o,a,l,t.parentNode,Dl,sl,t,Yt),$e())},i(o){if(!n){for(let u=0;u<a.length;u+=1)D(e[u]);n=!0}},o(o){for(let u=0;u<e.length;u+=1)j(e[u]);n=!1},d(o){o&&p(t);for(let u=0;u<e.length;u+=1)e[u].d(o)}}}function ll(r){let e,l;return e=new ir({props:{record:r[5]}}),e.$on("close",r[4]),{c(){se(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,n){oe(e,t,n),l=!0},p(t,n){const a={};n&2&&(a.record=t[5]),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ue(e,t)}}}function rl(r){let e,l,t,n;const a=[ur,or],s=[];function i(o,u){return o[9].type==="json"||o[9].type==="jsonEscaped"?0:1}return e=i(r),l=s[e]=a[e](r),{c(){l.c(),t=je()},l(o){l.l(o),t=je()},m(o,u){s[e].m(o,u),L(o,t,u),n=!0},p(o,u){let c=e;e=i(o),e===c?s[e].p(o,u):(ge(),j(s[c],1,1,()=>{s[c]=null}),$e(),l=s[e],l?l.p(o,u):(l=s[e]=a[e](o),l.c()),D(l,1),l.m(t.parentNode,t))},i(o){n||(D(l),n=!0)},o(o){j(l),n=!1},d(o){o&&p(t),s[e].d(o)}}}function or(r){let e=r[9].value+"",l;return{c(){l=J(e)},l(t){l=W(t,e)},m(t,n){L(t,l,n)},p(t,n){n&2&&e!==(e=t[9].value+"")&&_e(l,e)},i:Le,o:Le,d(t){t&&p(l)}}}function ur(r){let e,l,t,n;const a=[cr,fr],s=[];function i(o,u){return o[1].view.tableStyle==="expanded"?0:1}return e=i(r),l=s[e]=a[e](r),{c(){l.c(),t=je()},l(o){l.l(o),t=je()},m(o,u){s[e].m(o,u),L(o,t,u),n=!0},p(o,u){let c=e;e=i(o),e===c?s[e].p(o,u):(ge(),j(s[c],1,1,()=>{s[c]=null}),$e(),l=s[e],l?l.p(o,u):(l=s[e]=a[e](o),l.c()),D(l,1),l.m(t.parentNode,t))},i(o){n||(D(l),n=!0)},o(o){j(l),n=!1},d(o){o&&p(t),s[e].d(o)}}}function fr(r){let e=JSON.stringify(r[9].value)+"",l;return{c(){l=J(e)},l(t){l=W(t,e)},m(t,n){L(t,l,n)},p(t,n){n&2&&e!==(e=JSON.stringify(t[9].value)+"")&&_e(l,e)},i:Le,o:Le,d(t){t&&p(l)}}}function cr(r){let e,l;return e=new Ll({props:{value:r[9].value}}),{c(){se(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,n){oe(e,t,n),l=!0},p(t,n){const a={};n&2&&(a.value=t[9].value),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ue(e,t)}}}function nl(r){let e,l,t=r[9].value!==void 0&&rl(r);return{c(){e=$("td"),t&&t.c(),this.h()},l(n){e=k(n,"TD",{class:!0});var a=I(e);t&&t.l(a),a.forEach(p),this.h()},h(){d(e,"class","svelte-1bwwtph"),ye(e,"value-null",r[9].type==="null")},m(n,a){L(n,e,a),t&&t.m(e,null),l=!0},p(n,a){n[9].value!==void 0?t?(t.p(n,a),a&2&&D(t,1)):(t=rl(n),t.c(),D(t,1),t.m(e,null)):t&&(ge(),j(t,1,1,()=>{t=null}),$e()),(!l||a&2)&&ye(e,"value-null",n[9].type==="null")},i(n){l||(D(t),l=!0)},o(n){j(t),l=!1},d(n){n&&p(e),t&&t.d()}}}function al(r){var o,u;let e,l=new Date((o=r[5])==null?void 0:o.deleted_at).toLocaleDateString(void 0,{})+"",t,n,a,s=new Date((u=r[5])==null?void 0:u.deleted_at).toLocaleTimeString(void 0,{})+"",i;return{c(){e=$("td"),t=J(l),n=P(),a=$("span"),i=J(s),this.h()},l(c){e=k(c,"TD",{class:!0});var f=I(e);t=W(f,l),n=F(f),a=k(f,"SPAN",{class:!0});var m=I(a);i=W(m,s),m.forEach(p),f.forEach(p),this.h()},h(){d(a,"class","svelte-1bwwtph"),d(e,"class","date svelte-1bwwtph")},m(c,f){L(c,e,f),_(e,t),_(e,n),_(e,a),_(a,i)},p(c,f){var m,g;f&2&&l!==(l=new Date((m=c[5])==null?void 0:m.deleted_at).toLocaleDateString(void 0,{})+"")&&_e(t,l),f&2&&s!==(s=new Date((g=c[5])==null?void 0:g.deleted_at).toLocaleTimeString(void 0,{})+"")&&_e(i,s)},d(c){c&&p(e)}}}function sl(r,e){var at,we,Be,st;let l,t,n,a,s,i,o="More options",u,c,f,m,g,y="Edit record",C,b,T,h,w=e[5].id+"",N,B,z,O,V=new Date((at=e[5])==null?void 0:at.created_at).toLocaleDateString(void 0,{})+"",S,v,E,A=new Date((we=e[5])==null?void 0:we.created_at).toLocaleTimeString(void 0,{})+"",q,Z,G,R=new Date((Be=e[5])==null?void 0:Be.updated_at).toLocaleDateString(void 0,{})+"",Y,M,ae,Ce=new Date((st=e[5])==null?void 0:st.updated_at).toLocaleTimeString(void 0,{})+"",ve,le,Oe,fe,ke,Ue;c=new Se({props:{icon:"navigationMenuVertical",size:"16"}});function it(){return e[2](e[5])}b=new Se({props:{icon:"pencil",size:"16"}});function Ve(){return e[3](e[5])}let ce=e[0].id===e[5].id&&ll(e),De=Ee(e[1].table.properties),ee=[];for(let X=0;X<De.length;X+=1)ee[X]=nl(Zt(e,De,X));const ot=X=>j(ee[X],1,1,()=>{ee[X]=null});let pe=e[1].filters.deleted==="true"&&al(e);return{key:r,first:null,c(){l=$("tr"),t=$("td"),n=$("div"),a=$("div"),s=$("button"),i=$("span"),i.textContent=o,u=P(),se(c.$$.fragment),f=P(),m=$("button"),g=$("span"),g.textContent=y,C=P(),se(b.$$.fragment),T=P(),ce&&ce.c(),h=P(),N=J(w),B=P();for(let X=0;X<ee.length;X+=1)ee[X].c();z=P(),O=$("td"),S=J(V),v=P(),E=$("span"),q=J(A),Z=P(),G=$("td"),Y=J(R),M=P(),ae=$("span"),ve=J(Ce),le=P(),pe&&pe.c(),Oe=P(),this.h()},l(X){l=k(X,"TR",{class:!0});var K=I(l);t=k(K,"TD",{class:!0});var Te=I(t);n=k(Te,"DIV",{class:!0});var Ie=I(n);a=k(Ie,"DIV",{class:!0});var Re=I(a);s=k(Re,"BUTTON",{class:!0});var Pe=I(s);i=k(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),ne(i)!=="svelte-1agpmtc"&&(i.textContent=o),u=F(Pe),ie(c.$$.fragment,Pe),Pe.forEach(p),f=F(Re),m=k(Re,"BUTTON",{class:!0,title:!0});var de=I(m);g=k(de,"SPAN",{class:!0,"data-svelte-h":!0}),ne(g)!=="svelte-1qpnaf4"&&(g.textContent=y),C=F(de),ie(b.$$.fragment,de),de.forEach(p),Re.forEach(p),T=F(Ie),ce&&ce.l(Ie),h=F(Ie),N=W(Ie,w),Ie.forEach(p),Te.forEach(p),B=F(K);for(let he=0;he<ee.length;he+=1)ee[he].l(K);z=F(K),O=k(K,"TD",{class:!0});var re=I(O);S=W(re,V),v=F(re),E=k(re,"SPAN",{class:!0});var xe=I(E);q=W(xe,A),xe.forEach(p),re.forEach(p),Z=F(K),G=k(K,"TD",{class:!0});var qe=I(G);Y=W(qe,R),M=F(qe),ae=k(qe,"SPAN",{class:!0});var He=I(ae);ve=W(He,Ce),He.forEach(p),qe.forEach(p),le=F(K),pe&&pe.l(K),Oe=F(K),K.forEach(p),this.h()},h(){d(i,"class","label svelte-1bwwtph"),d(s,"class","button compact more svelte-1bwwtph"),ye(s,"active",e[0].id===e[5].id),d(g,"class","label svelte-1bwwtph"),d(m,"class","button compact edit svelte-1bwwtph"),d(m,"title","Edit record"),d(a,"class","combo svelte-1bwwtph"),d(n,"class","id svelte-1bwwtph"),d(t,"class","svelte-1bwwtph"),d(E,"class","svelte-1bwwtph"),d(O,"class","date svelte-1bwwtph"),d(ae,"class","svelte-1bwwtph"),d(G,"class","date svelte-1bwwtph"),d(l,"class","svelte-1bwwtph"),ye(l,"highlighted",e[1].highlighted.record===e[5].id),ye(l,"hasContextMenu",e[0].id===e[5].id),this.first=l},m(X,K){L(X,l,K),_(l,t),_(t,n),_(n,a),_(a,s),_(s,i),_(s,u),oe(c,s,null),_(a,f),_(a,m),_(m,g),_(m,C),oe(b,m,null),_(n,T),ce&&ce.m(n,null),_(n,h),_(n,N),_(l,B);for(let Te=0;Te<ee.length;Te+=1)ee[Te]&&ee[Te].m(l,null);_(l,z),_(l,O),_(O,S),_(O,v),_(O,E),_(E,q),_(l,Z),_(l,G),_(G,Y),_(G,M),_(G,ae),_(ae,ve),_(l,le),pe&&pe.m(l,null),_(l,Oe),fe=!0,ke||(Ue=[Q(s,"click",it),Q(m,"click",Ve)],ke=!0)},p(X,K){var Te,Ie,Re,Pe;if(e=X,(!fe||K&3)&&ye(s,"active",e[0].id===e[5].id),e[0].id===e[5].id?ce?(ce.p(e,K),K&3&&D(ce,1)):(ce=ll(e),ce.c(),D(ce,1),ce.m(n,h)):ce&&(ge(),j(ce,1,1,()=>{ce=null}),$e()),(!fe||K&2)&&w!==(w=e[5].id+"")&&_e(N,w),K&2){De=Ee(e[1].table.properties);let de;for(de=0;de<De.length;de+=1){const re=Zt(e,De,de);ee[de]?(ee[de].p(re,K),D(ee[de],1)):(ee[de]=nl(re),ee[de].c(),D(ee[de],1),ee[de].m(l,z))}for(ge(),de=De.length;de<ee.length;de+=1)ot(de);$e()}(!fe||K&2)&&V!==(V=new Date((Te=e[5])==null?void 0:Te.created_at).toLocaleDateString(void 0,{})+"")&&_e(S,V),(!fe||K&2)&&A!==(A=new Date((Ie=e[5])==null?void 0:Ie.created_at).toLocaleTimeString(void 0,{})+"")&&_e(q,A),(!fe||K&2)&&R!==(R=new Date((Re=e[5])==null?void 0:Re.updated_at).toLocaleDateString(void 0,{})+"")&&_e(Y,R),(!fe||K&2)&&Ce!==(Ce=new Date((Pe=e[5])==null?void 0:Pe.updated_at).toLocaleTimeString(void 0,{})+"")&&_e(ve,Ce),e[1].filters.deleted==="true"?pe?pe.p(e,K):(pe=al(e),pe.c(),pe.m(l,Oe)):pe&&(pe.d(1),pe=null),(!fe||K&2)&&ye(l,"highlighted",e[1].highlighted.record===e[5].id),(!fe||K&3)&&ye(l,"hasContextMenu",e[0].id===e[5].id)},i(X){if(!fe){D(c.$$.fragment,X),D(b.$$.fragment,X),D(ce);for(let K=0;K<De.length;K+=1)D(ee[K]);fe=!0}},o(X){j(c.$$.fragment,X),j(b.$$.fragment,X),j(ce),ee=ee.filter(Boolean);for(let K=0;K<ee.length;K+=1)j(ee[K]);fe=!1},d(X){X&&p(l),ue(c),ue(b),ce&&ce.d(),Qe(ee,X),pe&&pe.d(),ke=!1,nt(Ue)}}}function dr(r){var n;let e,l,t=((n=r[1].table)==null?void 0:n.properties)&&Qt(r);return{c(){t&&t.c(),e=je()},l(a){t&&t.l(a),e=je()},m(a,s){t&&t.m(a,s),L(a,e,s),l=!0},p(a,[s]){var i;(i=a[1].table)!=null&&i.properties?t?(t.p(a,s),s&2&&D(t,1)):(t=Qt(a),t.c(),D(t,1),t.m(e.parentNode,e)):t&&(ge(),j(t,1,1,()=>{t=null}),$e())},i(a){l||(D(t),l=!0)},o(a){j(t),l=!1},d(a){a&&p(e),t&&t.d(a)}}}function _r(r,e,l){let t;Ae(r,H,o=>l(1,t=o));let n={id:null};return[n,t,o=>l(0,n.id=o.id,n),o=>{Fe(H,t.record=o,t)},()=>l(0,n.id=null,n)]}class pr extends Xe{constructor(e){super(),Ye(this,e,_r,dr,Ke,{})}}var ct=new Map;function hr(r){var e=ct.get(r);e&&e.destroy()}function vr(r){var e=ct.get(r);e&&e.update()}var ft=null;typeof window>"u"?((ft=function(r){return r}).destroy=function(r){return r},ft.update=function(r){return r}):((ft=function(r,e){return r&&Array.prototype.forEach.call(r.length?r:[r],function(l){return function(t){if(t&&t.nodeName&&t.nodeName==="TEXTAREA"&&!ct.has(t)){var n,a=null,s=window.getComputedStyle(t),i=(n=t.value,function(){u({testForHeightReduction:n===""||!t.value.startsWith(n),restoreTextAlign:null}),n=t.value}),o=(function(f){t.removeEventListener("autosize:destroy",o),t.removeEventListener("autosize:update",c),t.removeEventListener("input",i),window.removeEventListener("resize",c),Object.keys(f).forEach(function(m){return t.style[m]=f[m]}),ct.delete(t)}).bind(t,{height:t.style.height,resize:t.style.resize,textAlign:t.style.textAlign,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",o),t.addEventListener("autosize:update",c),t.addEventListener("input",i),window.addEventListener("resize",c),t.style.overflowX="hidden",t.style.wordWrap="break-word",ct.set(t,{destroy:o,update:c}),c()}function u(f){var m,g,y=f.restoreTextAlign,C=y===void 0?null:y,b=f.testForHeightReduction,T=b===void 0||b,h=s.overflowY;if(t.scrollHeight!==0&&(s.resize==="vertical"?t.style.resize="none":s.resize==="both"&&(t.style.resize="horizontal"),T&&(m=function(N){for(var B=[];N&&N.parentNode&&N.parentNode instanceof Element;)N.parentNode.scrollTop&&B.push([N.parentNode,N.parentNode.scrollTop]),N=N.parentNode;return function(){return B.forEach(function(z){var O=z[0],V=z[1];O.style.scrollBehavior="auto",O.scrollTop=V,O.style.scrollBehavior=null})}}(t),t.style.height=""),g=s.boxSizing==="content-box"?t.scrollHeight-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)):t.scrollHeight+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),s.maxHeight!=="none"&&g>parseFloat(s.maxHeight)?(s.overflowY==="hidden"&&(t.style.overflow="scroll"),g=parseFloat(s.maxHeight)):s.overflowY!=="hidden"&&(t.style.overflow="hidden"),t.style.height=g+"px",C&&(t.style.textAlign=C),m&&m(),a!==g&&(t.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),a=g),h!==s.overflow&&!C)){var w=s.textAlign;s.overflow==="hidden"&&(t.style.textAlign=w==="start"?"end":"start"),u({restoreTextAlign:w,testForHeightReduction:!0})}}function c(){u({testForHeightReduction:!0,restoreTextAlign:null})}}(l)}),r}).destroy=function(r){return r&&Array.prototype.forEach.call(r.length?r:[r],hr),r},ft.update=function(r){return r&&Array.prototype.forEach.call(r.length?r:[r],vr),r});var $t=ft;const Nt=r=>($t(r),{destroy(){$t.destroy(r)}});Nt.update=$t.update;Nt.destroy=$t.destroy;function il(r){let e,l,t=!1,n,a,s,i=r[1][0].label+"",o,u,c,f,m,g,y,C,b=!1,T,h,w,N=r[1][1].label+"",B,z,O,V,S;return O=gl(r[5][0]),{c(){e=$("input"),a=P(),s=$("label"),o=J(i),c=P(),f=$("label"),g=P(),y=$("input"),h=P(),w=$("label"),B=J(N),this.h()},l(v){e=k(v,"INPUT",{type:!0,name:!0,id:!0,class:!0}),a=F(v),s=k(v,"LABEL",{for:!0,class:!0});var E=I(s);o=W(E,i),E.forEach(p),c=F(v),f=k(v,"LABEL",{for:!0,class:!0}),I(f).forEach(p),g=F(v),y=k(v,"INPUT",{type:!0,name:!0,id:!0,class:!0}),h=F(v),w=k(v,"LABEL",{for:!0,class:!0});var A=I(w);B=W(A,N),A.forEach(p),this.h()},h(){d(e,"type","radio"),d(e,"name",r[0]),e.__value=l=r[1][0].value,x(e,e.__value),d(e,"id",n="toggle-"+r[0]+"-"+r[1][0].value),d(e,"class","svelte-1dpe1av"),d(s,"for",u="toggle-"+r[0]+"-"+r[1][0].value),d(s,"class","svelte-1dpe1av"),d(f,"for",m="toggle-"+r[0]+"-"+(r[2]===r[1][0].value?r[1][1].value:r[1][0].value)),d(f,"class","switcher svelte-1dpe1av"),d(y,"type","radio"),d(y,"name",r[0]),y.__value=C=r[1][1].value,x(y,y.__value),d(y,"id",T="toggle-"+r[0]+"-"+r[1][1].value),d(y,"class","svelte-1dpe1av"),d(w,"for",z="toggle-"+r[0]+"-"+r[1][1].value),d(w,"class","svelte-1dpe1av"),O.p(e,y)},m(v,E){L(v,e,E),e.checked=e.__value===r[2],L(v,a,E),L(v,s,E),_(s,o),L(v,c,E),L(v,f,E),L(v,g,E),L(v,y,E),y.checked=y.__value===r[2],L(v,h,E),L(v,w,E),_(w,B),V||(S=[Q(e,"change",r[4]),Q(e,"keydown",r[6]),Q(y,"change",r[7]),Q(y,"keydown",r[8])],V=!0)},p(v,E){E&1&&d(e,"name",v[0]),E&2&&l!==(l=v[1][0].value)&&(e.__value=l,x(e,e.__value),t=!0),E&3&&n!==(n="toggle-"+v[0]+"-"+v[1][0].value)&&d(e,"id",n),(t||E&4)&&(e.checked=e.__value===v[2]),E&2&&i!==(i=v[1][0].label+"")&&_e(o,i),E&3&&u!==(u="toggle-"+v[0]+"-"+v[1][0].value)&&d(s,"for",u),E&7&&m!==(m="toggle-"+v[0]+"-"+(v[2]===v[1][0].value?v[1][1].value:v[1][0].value))&&d(f,"for",m),E&1&&d(y,"name",v[0]),E&2&&C!==(C=v[1][1].value)&&(y.__value=C,x(y,y.__value),b=!0),E&3&&T!==(T="toggle-"+v[0]+"-"+v[1][1].value)&&d(y,"id",T),(b||E&4)&&(y.checked=y.__value===v[2]),E&2&&N!==(N=v[1][1].label+"")&&_e(B,N),E&3&&z!==(z="toggle-"+v[0]+"-"+v[1][1].value)&&d(w,"for",z)},d(v){v&&(p(e),p(a),p(s),p(c),p(f),p(g),p(y),p(h),p(w)),O.r(),V=!1,nt(S)}}}function mr(r){let e,l=r[1].length===2&&il(r);return{c(){e=$("div"),l&&l.c(),this.h()},l(t){e=k(t,"DIV",{class:!0});var n=I(e);l&&l.l(n),n.forEach(p),this.h()},h(){d(e,"class","toggle svelte-1dpe1av")},m(t,n){L(t,e,n),l&&l.m(e,null)},p(t,[n]){t[1].length===2?l?l.p(t,n):(l=il(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:Le,o:Le,d(t){t&&p(e),l&&l.d()}}}function br(r,e,l){let{name:t}=e,{options:n=[]}=e,{checked:a=n[0].value}=e,s=(" "+a).slice(1);const i=[[]];function o(){s=this.__value,l(2,s)}const u=m=>{m.code==="Space"&&(m.preventDefault(),l(2,s=s===n[0].value?n[1].value:n[0].value))};function c(){s=this.__value,l(2,s)}const f=m=>{m.code==="Space"&&(m.preventDefault(),l(2,s=s===n[0].value?n[1].value:n[0].value))};return r.$$set=m=>{"name"in m&&l(0,t=m.name),"options"in m&&l(1,n=m.options),"checked"in m&&l(3,a=m.checked)},[t,n,s,a,o,i,u,c,f]}class gr extends Xe{constructor(e){super(),Ye(this,e,br,mr,Ke,{name:0,options:1,checked:3})}}function ol(r,e,l){const t=r.slice();return t[13]=e[l],t}function ul(r,e,l){const t=r.slice();t[16]=e[l];const n=t[1].properties?kl(t[1].properties[t[16].name],t[16].attribute_type):{type:t[16].attribute_type,value:""};return t[17]=n,t}function fl(r){let e,l;return{c(){e=$("input"),this.h()},l(t){e=k(t,"INPUT",{type:!0,name:!0}),this.h()},h(){d(e,"type","hidden"),d(e,"name","recordId"),e.value=l=r[1].id},m(t,n){L(t,e,n)},p(t,n){n&2&&l!==(l=t[1].id)&&(e.value=l)},d(t){t&&p(e)}}}function $r(r){let e=r[16].attribute_type+"",l,t,n,a,s;return{c(){l=J(e),t=P(),n=$("input"),this.h()},l(i){l=W(i,e),t=F(i),n=k(i,"INPUT",{type:!0,name:!0}),this.h()},h(){d(n,"type","hidden"),d(n,"name",a=r[16].name+"[type]"),n.value=s=r[16].attribute_type},m(i,o){L(i,l,o),L(i,t,o),L(i,n,o)},p(i,o){o&1&&e!==(e=i[16].attribute_type+"")&&_e(l,e),o&1&&a!==(a=i[16].name+"[type]")&&d(n,"name",a),o&1&&s!==(s=i[16].attribute_type)&&(n.value=s)},i:Le,o:Le,d(i){i&&(p(l),p(t),p(n))}}}function kr(r){let e,l;return e=new gr({props:{name:r[16].name+"[type]",options:[{value:"string",label:"string"},{value:"json",label:"json"}],checked:r[17].type==="json"?"json":"string"}}),{c(){se(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,n){oe(e,t,n),l=!0},p(t,n){const a={};n&1&&(a.name=t[16].name+"[type]"),n&3&&(a.checked=t[17].type==="json"?"json":"string"),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ue(e,t)}}}function cl(r){let e;return{c(){e=J("(non editable)")},l(l){e=W(l,"(non editable)")},m(l,t){L(l,e,t)},d(l){l&&p(e)}}}function wr(r){let e,l,t,n,a,s,i;return{c(){e=$("textarea"),this.h()},l(o){e=k(o,"TEXTAREA",{rows:!0,name:!0,id:!0,class:!0}),I(e).forEach(p),this.h()},h(){d(e,"rows","1"),d(e,"name",l=r[16].name+"[value]"),d(e,"id",t="edit_"+r[16].name),e.disabled=n=r[16].attribute_type==="upload",e.value=a=r[17].type==="json"||r[17].type==="jsonEscaped"&&!hl?JSON.stringify(r[17].value,void 0,2):r[17].value,d(e,"class","svelte-1udbufw")},m(o,u){L(o,e,u),s||(i=bl(Nt.call(null,e)),s=!0)},p(o,u){u&1&&l!==(l=o[16].name+"[value]")&&d(e,"name",l),u&1&&t!==(t="edit_"+o[16].name)&&d(e,"id",t),u&1&&n!==(n=o[16].attribute_type==="upload")&&(e.disabled=n),u&3&&a!==(a=o[17].type==="json"||o[17].type==="jsonEscaped"&&!hl?JSON.stringify(o[17].value,void 0,2):o[17].value)&&(e.value=a)},d(o){o&&p(e),s=!1,i()}}}function yr(r){let e,l,t,n,a,s,i,o,u,c;return{c(){e=$("select"),l=$("option"),t=$("option"),n=J("true"),s=$("option"),i=J("false"),this.h()},l(f){e=k(f,"SELECT",{name:!0,id:!0,class:!0});var m=I(e);l=k(m,"OPTION",{class:!0}),I(l).forEach(p),t=k(m,"OPTION",{});var g=I(t);n=W(g,"true"),g.forEach(p),s=k(m,"OPTION",{});var y=I(s);i=W(y,"false"),y.forEach(p),m.forEach(p),this.h()},h(){l.__value="",x(l,l.__value),d(l,"class","value-null"),t.__value="true",x(t,t.__value),t.selected=a=r[17].value==="true",s.__value="false",x(s,s.__value),s.selected=o=r[17].value==="false",d(e,"name",u=r[16].name+"[value]"),d(e,"id",c="edit_"+r[16].name),d(e,"class","svelte-1udbufw")},m(f,m){L(f,e,m),_(e,l),_(e,t),_(t,n),_(e,s),_(s,i)},p(f,m){m&3&&a!==(a=f[17].value==="true")&&(t.selected=a),m&3&&o!==(o=f[17].value==="false")&&(s.selected=o),m&1&&u!==(u=f[16].name+"[value]")&&d(e,"name",u),m&1&&c!==(c="edit_"+f[16].name)&&d(e,"id",c)},d(f){f&&p(e)}}}function dl(r){let e=r[5][r[16].name].message+"",l;return{c(){l=J(e)},l(t){l=W(t,e)},m(t,n){L(t,l,n)},p(t,n){n&33&&e!==(e=t[5][t[16].name].message+"")&&_e(l,e)},d(t){t&&p(l)}}}function _l(r){let e,l,t,n=r[16].name+"",a,s,i,o,u,c,f,m,g,y,C,b,T;const h=[kr,$r],w=[];function N(v,E){return v[16].attribute_type==="string"?0:1}u=N(r),c=w[u]=h[u](r);let B=r[16].attribute_type==="upload"&&cl();function z(v,E){return v[16].attribute_type==="boolean"?yr:wr}let O=z(r),V=O(r),S=r[5][r[16].name]&&dl(r);return{c(){e=$("fieldset"),l=$("dir"),t=$("label"),a=J(n),s=$("br"),i=P(),o=$("div"),c.c(),f=P(),B&&B.c(),g=P(),y=$("div"),V.c(),C=P(),b=$("div"),S&&S.c(),this.h()},l(v){e=k(v,"FIELDSET",{class:!0});var E=I(e);l=k(E,"DIR",{});var A=I(l);t=k(A,"LABEL",{for:!0,class:!0});var q=I(t);a=W(q,n),s=k(q,"BR",{}),i=F(q),o=k(q,"DIV",{class:!0});var Z=I(o);c.l(Z),f=F(Z),B&&B.l(Z),Z.forEach(p),q.forEach(p),A.forEach(p),g=F(E),y=k(E,"DIV",{});var G=I(y);V.l(G),C=F(G),b=k(G,"DIV",{role:!0,class:!0});var R=I(b);S&&S.l(R),R.forEach(p),G.forEach(p),E.forEach(p),this.h()},h(){d(o,"class","type svelte-1udbufw"),d(t,"for",m="edit_"+r[16].name),d(t,"class","svelte-1udbufw"),d(b,"role","alert"),d(b,"class","svelte-1udbufw"),d(e,"class","svelte-1udbufw")},m(v,E){L(v,e,E),_(e,l),_(l,t),_(t,a),_(t,s),_(t,i),_(t,o),w[u].m(o,null),_(o,f),B&&B.m(o,null),_(e,g),_(e,y),V.m(y,null),_(y,C),_(y,b),S&&S.m(b,null),T=!0},p(v,E){(!T||E&1)&&n!==(n=v[16].name+"")&&_e(a,n);let A=u;u=N(v),u===A?w[u].p(v,E):(ge(),j(w[A],1,1,()=>{w[A]=null}),$e(),c=w[u],c?c.p(v,E):(c=w[u]=h[u](v),c.c()),D(c,1),c.m(o,f)),v[16].attribute_type==="upload"?B||(B=cl(),B.c(),B.m(o,null)):B&&(B.d(1),B=null),(!T||E&1&&m!==(m="edit_"+v[16].name))&&d(t,"for",m),O===(O=z(v))&&V?V.p(v,E):(V.d(1),V=O(v),V&&(V.c(),V.m(y,C))),v[5][v[16].name]?S?S.p(v,E):(S=dl(v),S.c(),S.m(b,null)):S&&(S.d(1),S=null)},i(v){T||(D(c),T=!0)},o(v){j(c),T=!1},d(v){v&&p(e),w[u].d(),B&&B.d(),V.d(),S&&S.d()}}}function pl(r){let e,l=JSON.stringify(r[4])+"",t,n;return{c(){e=$("li"),t=J(l),n=P(),this.h()},l(a){e=k(a,"LI",{class:!0});var s=I(e);t=W(s,l),n=F(s),s.forEach(p),this.h()},h(){d(e,"class","svelte-1udbufw")},m(a,s){L(a,e,s),_(e,t),_(e,n)},p(a,s){s&16&&l!==(l=JSON.stringify(a[4])+"")&&_e(t,l)},d(a){a&&p(e)}}}function Er(r){let e;return{c(){e=J("Create record")},l(l){e=W(l,"Create record")},m(l,t){L(l,e,t)},d(l){l&&p(e)}}}function Tr(r){let e;return{c(){e=J("Edit record")},l(l){e=W(l,"Edit record")},m(l,t){L(l,e,t)},d(l){l&&p(e)}}}function Cr(r){let e,l,t,n,a,s,i,o,u,c,f,m,g,y="Cancel",C,b,T,h,w,N,B,z,O=r[1].id&&fl(r),V=Ee(r[0]),S=[];for(let R=0;R<V.length;R+=1)S[R]=_l(ul(r,V,R));const v=R=>j(S[R],1,1,()=>{S[R]=null});let E=Ee(r[4]),A=[];for(let R=0;R<E.length;R+=1)A[R]=pl(ol(r,E,R));function q(R,Y){return R[1].id?Tr:Er}let Z=q(r),G=Z(r);return h=new Se({props:{icon:"arrowRight"}}),{c(){e=$("dialog"),l=$("div"),t=$("form"),n=$("input"),s=P(),O&&O.c(),i=P();for(let R=0;R<S.length;R+=1)S[R].c();o=P(),u=$("div"),c=$("ul");for(let R=0;R<A.length;R+=1)A[R].c();f=P(),m=$("fieldset"),g=$("button"),g.textContent=y,C=P(),b=$("button"),G.c(),T=P(),se(h.$$.fragment),this.h()},l(R){e=k(R,"DIALOG",{class:!0});var Y=I(e);l=k(Y,"DIV",{class:!0});var M=I(l);t=k(M,"FORM",{class:!0});var ae=I(t);n=k(ae,"INPUT",{type:!0,name:!0}),s=F(ae),O&&O.l(ae),i=F(ae);for(let fe=0;fe<S.length;fe+=1)S[fe].l(ae);o=F(ae),u=k(ae,"DIV",{class:!0});var Ce=I(u);c=k(Ce,"UL",{class:!0,"aria-live":!0});var ve=I(c);for(let fe=0;fe<A.length;fe+=1)A[fe].l(ve);ve.forEach(p),f=F(Ce),m=k(Ce,"FIELDSET",{class:!0});var le=I(m);g=k(le,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ne(g)!=="svelte-1oq6ax6"&&(g.textContent=y),C=F(le),b=k(le,"BUTTON",{type:!0,class:!0});var Oe=I(b);G.l(Oe),T=F(Oe),ie(h.$$.fragment,Oe),Oe.forEach(p),le.forEach(p),Ce.forEach(p),ae.forEach(p),M.forEach(p),Y.forEach(p),this.h()},h(){d(n,"type","hidden"),d(n,"name","tableName"),n.value=a=r[6].table.name,d(c,"class","error svelte-1udbufw"),d(c,"aria-live","assertive"),d(g,"type","button"),d(g,"class","button"),d(b,"type","submit"),d(b,"class","button"),d(m,"class","actions svelte-1udbufw"),d(u,"class","footer svelte-1udbufw"),d(t,"class","svelte-1udbufw"),d(l,"class","content content-context svelte-1udbufw"),d(e,"class","svelte-1udbufw")},m(R,Y){L(R,e,Y),_(e,l),_(l,t),_(t,n),_(t,s),O&&O.m(t,null),_(t,i);for(let M=0;M<S.length;M+=1)S[M]&&S[M].m(t,null);_(t,o),_(t,u),_(u,c);for(let M=0;M<A.length;M+=1)A[M]&&A[M].m(c,null);_(u,f),_(u,m),_(m,g),_(m,C),_(m,b),G.m(b,null),_(b,T),oe(h,b,null),r[10](t),r[11](e),N=!0,B||(z=[Q(g,"click",r[9]),Q(t,"submit",_t(r[8]))],B=!0)},p(R,[Y]){if((!N||Y&64&&a!==(a=R[6].table.name))&&(n.value=a),R[1].id?O?O.p(R,Y):(O=fl(R),O.c(),O.m(t,i)):O&&(O.d(1),O=null),Y&35){V=Ee(R[0]);let M;for(M=0;M<V.length;M+=1){const ae=ul(R,V,M);S[M]?(S[M].p(ae,Y),D(S[M],1)):(S[M]=_l(ae),S[M].c(),D(S[M],1),S[M].m(t,o))}for(ge(),M=V.length;M<S.length;M+=1)v(M);$e()}if(Y&16){E=Ee(R[4]);let M;for(M=0;M<E.length;M+=1){const ae=ol(R,E,M);A[M]?A[M].p(ae,Y):(A[M]=pl(ae),A[M].c(),A[M].m(c,null))}for(;M<A.length;M+=1)A[M].d(1);A.length=E.length}Z!==(Z=q(R))&&(G.d(1),G=Z(R),G&&(G.c(),G.m(b,T)))},i(R){if(!N){for(let Y=0;Y<V.length;Y+=1)D(S[Y]);D(h.$$.fragment,R),R&&dt(()=>{N&&(w||(w=Rt(e,r[7],{},!0)),w.run(1))}),N=!0}},o(R){S=S.filter(Boolean);for(let Y=0;Y<S.length;Y+=1)j(S[Y]);j(h.$$.fragment,R),R&&(w||(w=Rt(e,r[7],{},!1)),w.run(0)),N=!1},d(R){R&&p(e),O&&O.d(),Qe(S,R),Qe(A,R),G.d(),ue(h),r[10](null),r[11](null),R&&w&&w.end(),B=!1,nt(z)}}}let hl=!1;function Nr(r,e,l){let t,n;Ae(r,H,b=>l(6,t=b)),Ae(r,kt,b=>l(12,n=b));let{properties:a}=e,{editing:s}=e,i,o,u=[],c={};const f=function(b,{delay:T=0,duration:h=150}){return{delay:T,duration:h,css:w=>{const N=Pl(w);return`opacity: ${N}; transform: scale(${N});`}}};yl(()=>{setTimeout(()=>{i.showModal()},10)}),document.addEventListener("keydown",b=>{b.key==="Escape"&&(b.preventDefault(),Fe(H,t.record=null,t))},{once:!0});const m=async b=>{b.preventDefault();const T=new FormData(o);l(5,c={});for(const h of T.entries())if(h[0].endsWith("[type]")&&(h[1]==="json"||h[1]==="array")){const w=h[0].replace("[type]",""),N=T.get(w+"[value]");N!==""&&!Tt(N)&&l(5,c[w]={property:w,message:`Not a valid ${h[1]}`},c)}if(Object.keys(c).length)await El(),document.querySelector('[role="alert"]:not(:empty)').scrollIntoView({behavior:"smooth",block:"center"});else if(t.record.id){const h=await Ne.edit({table:t.table.name,id:t.record.id,properties:T});h.errors?l(4,u=h.errors):(Ne.get({table:n.params.id,filters:t.filters,sort:t.sort,deleted:t.filters.deleted}),H.highlight("record",h.record_update.id),H.notification.create("success",`Record ${h.record_update.id} updated`),Fe(H,t.record=null,t))}else{const h=await Ne.create({table:t.table.name,properties:T});h.errors?l(4,u=h.errors):(H.clearFilters(),Ne.get({table:n.params.id,filters:t.filters,sort:t.sort,deleted:t.filters.deleted}),H.highlight("record",h.record_create.id),H.notification.create("success",`Record ${h.record_create.id} created`),Fe(H,t.record=null,t))}},g=()=>Fe(H,t.record=null,t);function y(b){rt[b?"unshift":"push"](()=>{o=b,l(3,o)})}function C(b){rt[b?"unshift":"push"](()=>{i=b,l(2,i)})}return r.$$set=b=>{"properties"in b&&l(0,a=b.properties),"editing"in b&&l(1,s=b.editing)},[a,s,i,o,u,c,t,f,m,g,y,C]}class Sr extends Xe{constructor(e){super(),Ye(this,e,Nr,Cr,Ke,{properties:0,editing:1})}}const{document:Et}=Ol;function Or(r){let e;return{c(){e=J("Work in progress :)")},l(l){e=W(l,"Work in progress :)")},m(l,t){L(l,e,t)},i:Le,o:Le,d(l){l&&p(e)}}}function Ir(r){let e,l;return e=new pr({}),{c(){se(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,n){oe(e,t,n),l=!0},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ue(e,t)}}}function vl(r){let e,l,t,n,a,s,i;const o=[Lr,Dr],u=[];function c(f,m){return f[0].view.tableStyle==="collapsed"?0:1}return l=c(r),t=u[l]=o[l](r),{c(){e=$("button"),t.c(),this.h()},l(f){e=k(f,"BUTTON",{class:!0,title:!0});var m=I(e);t.l(m),m.forEach(p),this.h()},h(){d(e,"class","button"),d(e,"title",n=r[0].view.tableStyle==="expanded"?"Collapse values":"Expand values")},m(f,m){L(f,e,m),u[l].m(e,null),a=!0,s||(i=Q(e,"click",_t(function(){Nl(r[0].view.tableStyle==="collapsed"?H.setView({tableStyle:"expanded"}):H.setView({tableStyle:"collapsed"}))&&(r[0].view.tableStyle==="collapsed"?H.setView({tableStyle:"expanded"}):H.setView({tableStyle:"collapsed"})).apply(this,arguments)})),s=!0)},p(f,m){r=f;let g=l;l=c(r),l!==g&&(ge(),j(u[g],1,1,()=>{u[g]=null}),$e(),t=u[l],t||(t=u[l]=o[l](r),t.c()),D(t,1),t.m(e,null)),(!a||m&1&&n!==(n=r[0].view.tableStyle==="expanded"?"Collapse values":"Expand values"))&&d(e,"title",n)},i(f){a||(D(t),a=!0)},o(f){j(t),a=!1},d(f){f&&p(e),u[l].d(),s=!1,i()}}}function Dr(r){let e,l="Collapse values",t,n,a;return n=new Se({props:{icon:"collapse"}}),{c(){e=$("span"),e.textContent=l,t=P(),se(n.$$.fragment),this.h()},l(s){e=k(s,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-jserey"&&(e.textContent=l),t=F(s),ie(n.$$.fragment,s),this.h()},h(){d(e,"class","label")},m(s,i){L(s,e,i),L(s,t,i),oe(n,s,i),a=!0},i(s){a||(D(n.$$.fragment,s),a=!0)},o(s){j(n.$$.fragment,s),a=!1},d(s){s&&(p(e),p(t)),ue(n,s)}}}function Lr(r){let e,l="Expand values",t,n,a;return n=new Se({props:{icon:"expand"}}),{c(){e=$("span"),e.textContent=l,t=P(),se(n.$$.fragment),this.h()},l(s){e=k(s,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1tvmrgx"&&(e.textContent=l),t=F(s),ie(n.$$.fragment,s),this.h()},h(){d(e,"class","label")},m(s,i){L(s,e,i),L(s,t,i),oe(n,s,i),a=!0},i(s){a||(D(n.$$.fragment,s),a=!0)},o(s){j(n.$$.fragment,s),a=!1},d(s){s&&(p(e),p(t)),ue(n,s)}}}function ml(r){let e,l;return e=new Sr({props:{properties:r[0].table.properties,editing:r[0].record}}),{c(){se(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,n){oe(e,t,n),l=!0},p(t,n){const a={};n&1&&(a.properties=t[0].table.properties),n&1&&(a.editing=t[0].record),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){ue(e,t)}}}function Pr(r){var Lt,Pt,Ft,At;let e,l,t,n,a,s,i,o,u,c,f="Refresh current view",m,g,y,C,b,T,h,w,N,B="Page:",z,O,V,S,v=(((Lt=r[0].records)==null?void 0:Lt.total_pages)||1)+"",E,A,q,Z,G,R,Y,M="Create new record",ae,Ce,ve,le,Oe,fe,ke,Ue,it,Ve,ce,De=r[0].filters.deleted==="false"?"ing":"",ee,ot,pe,at,we,Be,st,X,K,Te=r[0].filters.deleted==="true"?"ing":"",Ie,Re,Pe,de,re,xe,qe,He,he,wt,yt,St;Et.title=e=(((Pt=r[0].table)==null?void 0:Pt.name)||"Loading…")+((Ft=r[0].online)!=null&&Ft.MPKIT_URL?": "+r[0].online.MPKIT_URL.replace("https://",""):""),a=new Hl({}),i=new Yl({}),g=new Se({props:{icon:"refresh"}});const Ot=[Ir,Or],et=[];function It(U,te){return U[0].view.database!=="tiles"?0:1}C=It(r),b=et[C]=Ot[C](r);function wl(U){r[5](U)}let Dt={name:"page",min:1,max:(At=r[0].records)==null?void 0:At.total_pages,step:1,decreaseLabel:"Previous page",increaseLabel:"Next page",style:"navigation"};r[0].filters.page!==void 0&&(Dt.value=r[0].filters.page),O=new Fl({props:Dt}),rt.push(()=>Sl(O,"value",wl)),O.$on("input",r[6]),G=new Se({props:{icon:"plus"}});let me=r[0].view.database!=="tiles"&&vl(r);Ue=new Se({props:{icon:"leaf"}}),Be=new Se({props:{icon:"recycle"}});let be=r[0].record!==null&&ml(r);return wt=gl(r[9][0]),{c(){l=P(),t=$("section"),n=$("nav"),se(a.$$.fragment),s=P(),se(i.$$.fragment),o=P(),u=$("button"),c=$("span"),c.textContent=f,m=P(),se(g.$$.fragment),y=P(),b.c(),T=P(),h=$("nav"),w=$("div"),N=$("label"),N.textContent=B,z=P(),se(O.$$.fragment),S=J(`\r
      of `),E=J(v),A=P(),q=$("div"),Z=$("button"),se(G.$$.fragment),R=P(),Y=$("span"),Y.textContent=M,ae=P(),me&&me.c(),Ce=P(),ve=$("div"),le=$("input"),fe=P(),ke=$("label"),se(Ue.$$.fragment),it=P(),Ve=$("span"),ce=J("Show"),ee=J(De),ot=J(" current database state"),at=P(),we=$("label"),se(Be.$$.fragment),st=P(),X=$("span"),K=J("Show"),Ie=J(Te),Re=J(" deleted records"),de=P(),re=$("input"),qe=P(),be&&be.c(),He=je(),this.h()},l(U){Tl("svelte-1ke6alb",Et.head).forEach(p),l=F(U),t=k(U,"SECTION",{class:!0});var ze=I(t);n=k(ze,"NAV",{class:!0});var Me=I(n);ie(a.$$.fragment,Me),s=F(Me),ie(i.$$.fragment,Me),o=F(Me),u=k(Me,"BUTTON",{class:!0,title:!0});var tt=I(u);c=k(tt,"SPAN",{class:!0,"data-svelte-h":!0}),ne(c)!=="svelte-iqo23s"&&(c.textContent=f),m=F(tt),ie(g.$$.fragment,tt),tt.forEach(p),Me.forEach(p),y=F(ze),b.l(ze),T=F(ze),h=k(ze,"NAV",{class:!0});var lt=I(h);w=k(lt,"DIV",{});var Je=I(w);N=k(Je,"LABEL",{for:!0,"data-svelte-h":!0}),ne(N)!=="svelte-1r8oyu6"&&(N.textContent=B),z=F(Je),ie(O.$$.fragment,Je),S=W(Je,`\r
      of `),E=W(Je,v),Je.forEach(p),A=F(lt),q=k(lt,"DIV",{id:!0,class:!0});var We=I(q);Z=k(We,"BUTTON",{class:!0,title:!0});var pt=I(Z);ie(G.$$.fragment,pt),R=F(pt),Y=k(pt,"SPAN",{class:!0,"data-svelte-h":!0}),ne(Y)!=="svelte-19x6y3e"&&(Y.textContent=M),pt.forEach(p),ae=F(We),me&&me.l(We),Ce=F(We),ve=k(We,"DIV",{class:!0});var Ze=I(ve);le=k(Ze,"INPUT",{type:!0,name:!0,id:!0,class:!0}),fe=F(Ze),ke=k(Ze,"LABEL",{for:!0,class:!0,title:!0});var ht=I(ke);ie(Ue.$$.fragment,ht),it=F(ht),Ve=k(ht,"SPAN",{class:!0});var vt=I(Ve);ce=W(vt,"Show"),ee=W(vt,De),ot=W(vt," current database state"),vt.forEach(p),ht.forEach(p),at=F(Ze),we=k(Ze,"LABEL",{for:!0,class:!0,title:!0});var mt=I(we);ie(Be.$$.fragment,mt),st=F(mt),X=k(mt,"SPAN",{class:!0});var bt=I(X);K=W(bt,"Show"),Ie=W(bt,Te),Re=W(bt," deleted records"),bt.forEach(p),mt.forEach(p),de=F(Ze),re=k(Ze,"INPUT",{type:!0,name:!0,id:!0,class:!0}),Ze.forEach(p),We.forEach(p),lt.forEach(p),ze.forEach(p),qe=F(U),be&&be.l(U),He=je(),this.h()},h(){d(c,"class","label"),d(u,"class","button svelte-afbo94"),d(u,"title","Refresh current view (R)"),ye(u,"refreshing",r[2]),d(n,"class","svelte-afbo94"),d(N,"for","page"),d(Y,"class","label"),d(Z,"class","button"),d(Z,"title","Create new record"),d(le,"type","radio"),d(le,"name","deleted"),d(le,"id","deletedTrue"),le.__value="false",x(le,le.__value),le.disabled=Oe=r[0].filters.deleted==="false",d(le,"class","svelte-afbo94"),d(Ve,"class","label"),d(ke,"for","deletedTrue"),d(ke,"class","button"),d(ke,"title",pe="Show"+(r[0].filters.deleted==="false"?"ing":"")+" current database state"),ye(ke,"active",r[0].filters.deleted==="false"),ye(ke,"disabled",r[0].filters.deleted==="false"),d(X,"class","label"),d(we,"for","deletedFalse"),d(we,"class","button"),d(we,"title",Pe="Show"+(r[0].filters.deleted==="true"?"ing":"")+" deleted records"),ye(we,"active",r[0].filters.deleted==="true"),ye(we,"disabled",r[0].filters.deleted==="true"),d(re,"type","radio"),d(re,"name","deleted"),d(re,"id","deletedFalse"),re.__value="true",x(re,re.__value),re.disabled=xe=r[0].filters.deleted==="true",d(re,"class","svelte-afbo94"),d(ve,"class","combo svelte-afbo94"),d(q,"id","viewOptions"),d(q,"class","svelte-afbo94"),d(h,"class","pagination svelte-afbo94"),d(t,"class","svelte-afbo94"),wt.p(le,re)},m(U,te){L(U,l,te),L(U,t,te),_(t,n),oe(a,n,null),_(n,s),oe(i,n,null),_(n,o),_(n,u),_(u,c),_(u,m),oe(g,u,null),_(t,y),et[C].m(t,null),_(t,T),_(t,h),_(h,w),_(w,N),_(w,z),oe(O,w,null),_(w,S),_(w,E),_(h,A),_(h,q),_(q,Z),oe(G,Z,null),_(Z,R),_(Z,Y),_(q,ae),me&&me.m(q,null),_(q,Ce),_(q,ve),_(ve,le),le.checked=le.__value===r[0].filters.deleted,_(ve,fe),_(ve,ke),oe(Ue,ke,null),_(ke,it),_(ke,Ve),_(Ve,ce),_(Ve,ee),_(Ve,ot),_(ve,at),_(ve,we),oe(Be,we,null),_(we,st),_(we,X),_(X,K),_(X,Ie),_(X,Re),_(ve,de),_(ve,re),re.checked=re.__value===r[0].filters.deleted,L(U,qe,te),be&&be.m(U,te),L(U,He,te),he=!0,yt||(St=[Q(window,"keypress",r[4]),Q(u,"click",r[3]),Q(Z,"click",_t(r[7])),Q(le,"change",r[8]),Q(le,"change",r[10]),Q(re,"change",r[11]),Q(re,"change",r[12])],yt=!0)},p(U,[te]){var tt,lt,Je,We;(!he||te&1)&&e!==(e=(((tt=U[0].table)==null?void 0:tt.name)||"Loading…")+((lt=U[0].online)!=null&&lt.MPKIT_URL?": "+U[0].online.MPKIT_URL.replace("https://",""):""))&&(Et.title=e),(!he||te&4)&&ye(u,"refreshing",U[2]);let ze=C;C=It(U),C!==ze&&(ge(),j(et[ze],1,1,()=>{et[ze]=null}),$e(),b=et[C],b||(b=et[C]=Ot[C](U),b.c()),D(b,1),b.m(t,T));const Me={};te&1&&(Me.max=(Je=U[0].records)==null?void 0:Je.total_pages),!V&&te&1&&(V=!0,Me.value=U[0].filters.page,Cl(()=>V=!1)),O.$set(Me),(!he||te&1)&&v!==(v=(((We=U[0].records)==null?void 0:We.total_pages)||1)+"")&&_e(E,v),U[0].view.database!=="tiles"?me?(me.p(U,te),te&1&&D(me,1)):(me=vl(U),me.c(),D(me,1),me.m(q,Ce)):me&&(ge(),j(me,1,1,()=>{me=null}),$e()),(!he||te&1&&Oe!==(Oe=U[0].filters.deleted==="false"))&&(le.disabled=Oe),te&1&&(le.checked=le.__value===U[0].filters.deleted),(!he||te&1)&&De!==(De=U[0].filters.deleted==="false"?"ing":"")&&_e(ee,De),(!he||te&1&&pe!==(pe="Show"+(U[0].filters.deleted==="false"?"ing":"")+" current database state"))&&d(ke,"title",pe),(!he||te&1)&&ye(ke,"active",U[0].filters.deleted==="false"),(!he||te&1)&&ye(ke,"disabled",U[0].filters.deleted==="false"),(!he||te&1)&&Te!==(Te=U[0].filters.deleted==="true"?"ing":"")&&_e(Ie,Te),(!he||te&1&&Pe!==(Pe="Show"+(U[0].filters.deleted==="true"?"ing":"")+" deleted records"))&&d(we,"title",Pe),(!he||te&1)&&ye(we,"active",U[0].filters.deleted==="true"),(!he||te&1)&&ye(we,"disabled",U[0].filters.deleted==="true"),(!he||te&1&&xe!==(xe=U[0].filters.deleted==="true"))&&(re.disabled=xe),te&1&&(re.checked=re.__value===U[0].filters.deleted),U[0].record!==null?be?(be.p(U,te),te&1&&D(be,1)):(be=ml(U),be.c(),D(be,1),be.m(He.parentNode,He)):be&&(ge(),j(be,1,1,()=>{be=null}),$e())},i(U){he||(D(a.$$.fragment,U),D(i.$$.fragment,U),D(g.$$.fragment,U),D(b),D(O.$$.fragment,U),D(G.$$.fragment,U),D(me),D(Ue.$$.fragment,U),D(Be.$$.fragment,U),D(be),he=!0)},o(U){j(a.$$.fragment,U),j(i.$$.fragment,U),j(g.$$.fragment,U),j(b),j(O.$$.fragment,U),j(G.$$.fragment,U),j(me),j(Ue.$$.fragment,U),j(Be.$$.fragment,U),j(be),he=!1},d(U){U&&(p(l),p(t),p(qe),p(He)),ue(a),ue(i),ue(g),et[C].d(),ue(O),ue(G),me&&me.d(),ue(Ue),ue(Be),be&&be.d(U),wt.r(),yt=!1,nt(St)}}}function Fr(r,e,l){let t,n;Ae(r,H,b=>l(0,t=b)),Ae(r,kt,b=>l(1,n=b));let a=!1;const s=()=>{l(2,a=!0),Ne.get({table:n.params.id,filters:t.filters,sort:t.sort,deleted:t.filters.deleted}).then(()=>l(2,a=!1))},i=b=>{document.activeElement===document.body&&!b.target.matches("input, textarea")&&b.key==="r"&&s()},o=[[]];function u(b){r.$$.not_equal(t.filters.page,b)&&(t.filters.page=b,H.set(t))}const c=()=>{Ne.get({table:n.params.id,filters:t.filters,sort:t.sort,deleted:t.filters.deleted})},f=()=>Fe(H,t.record={},t);function m(){t.filters.deleted=this.__value,H.set(t)}const g=()=>{Ne.get({table:n.params.id,filters:t.filters,sort:t.sort,deleted:t.filters.deleted})};function y(){t.filters.deleted=this.__value,H.set(t)}const C=()=>{Ne.get({table:n.params.id,filters:t.filters,sort:t.sort,deleted:t.filters.deleted})};return r.$$.update=()=>{r.$$.dirty&3&&Fe(H,t.table=t.tables.filter(b=>b.id===n.params.id)[0],t),r.$$.dirty&2&&n.params.id&&Ne.get({table:n.params.id})&&H.clearFilters()},[t,n,a,s,i,u,c,f,m,o,g,y,C]}class Kr extends Xe{constructor(e){super(),Ye(this,e,Fr,Pr,Ke,{})}}export{Kr as component};
