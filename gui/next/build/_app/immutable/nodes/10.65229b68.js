import{S as et,i as tt,s as lt,a as N,k as h,q as I,y as ue,$ as st,h as c,c as y,l as m,m as p,r as O,z as ce,n as _,b as j,F as f,V as ye,A as _e,G as le,g as L,d as J,f as re,B as de,H as Ke,I as nt,j as rt,o as at,a5 as ot,K as me,v as ae,W as We,E as ne,Z as it,u as X,L as Ye,Y as ft,O as Ie,t as ut,J as Oe,w as ct,e as Ee}from"../chunks/index.fee0118f.js";import{f as _t}from"../chunks/index.54b4c660.js";import{q as dt}from"../chunks/index.50c00146.js";import{s as Te}from"../chunks/state.9b2b94f5.js";import{t as Ze,J as Qe}from"../chunks/JSONTree.85453c03.js";import{I as pe}from"../chunks/Icon.3cfa8d1e.js";const{document:Pe}=ot;function Ce(r,e,n){const t=r.slice();t[21]=e[n],t[23]=e,t[24]=n;const l=t[21].message.length<262144&&Ze(t[21].message);return t[22]=l,t}function Be(r,e,n){const t=r.slice();t[21]=e[n],t[25]=e,t[26]=n;const l=t[21].message.length<262144&&Ze(t[21].message);return t[22]=l,t}function Ue(r){let e,n,t,l,a,s,o,i;return a=new pe({props:{icon:"x",size:"12"}}),{c(){e=h("button"),n=h("span"),t=I("Clear filter"),l=N(),ue(a.$$.fragment),this.h()},l(u){e=m(u,"BUTTON",{class:!0});var E=p(e);n=m(E,"SPAN",{class:!0});var d=p(n);t=O(d,"Clear filter"),d.forEach(c),l=y(E),ce(a.$$.fragment,E),E.forEach(c),this.h()},h(){_(n,"class","label svelte-24sv1t"),_(e,"class","clearFilter svelte-24sv1t")},m(u,E){j(u,e,E),f(e,n),f(n,t),f(e,l),_e(a,e,null),s=!0,o||(i=le(e,"click",r[10]),o=!0)},p:me,i(u){s||(L(a.$$.fragment,u),s=!0)},o(u){J(a.$$.fragment,u),s=!1},d(u){u&&c(e),de(a),o=!1,i()}}}function Ve(r){let e,n,t=r[4].logs.logs,l=[];for(let s=0;s<t.length;s+=1)l[s]=je(Be(r,t,s));const a=s=>J(l[s],1,1,()=>{l[s]=null});return{c(){e=h("table");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=m(s,"TABLE",{class:!0});var o=p(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(c),this.h()},h(){_(e,"class","svelte-24sv1t")},m(s,o){j(s,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);n=!0},p(s,o){if(o&118){t=s[4].logs.logs;let i;for(i=0;i<t.length;i+=1){const u=Be(s,t,i);l[i]?(l[i].p(u,o),L(l[i],1)):(l[i]=je(u),l[i].c(),L(l[i],1),l[i].m(e,null))}for(ae(),i=t.length;i<l.length;i+=1)a(i);re()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)L(l[o]);n=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)J(l[o]);n=!1},d(s){s&&c(e),We(l,s)}}}function ht(r){let e;function n(a,s){return a[21].showFull?vt:pt}let t=n(r),l=t(r);return{c(){e=h("div"),l.c(),this.h()},l(a){e=m(a,"DIV",{class:!0});var s=p(e);l.l(s),s.forEach(c),this.h()},h(){_(e,"class","pre svelte-24sv1t")},m(a,s){j(a,e,s),l.m(e,null)},p(a,s){t===(t=n(a))&&l?l.p(a,s):(l.d(1),l=t(a),l&&(l.c(),l.m(e,null)))},i:me,o:me,d(a){a&&c(e),l.d()}}}function mt(r){let e,n;return e=new Qe({props:{value:r[22]}}),{c(){ue(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,l){_e(e,t,l),n=!0},p(t,l){const a={};l&16&&(a.value=t[22]),e.$set(a)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){de(e,t)}}}function pt(r){let e=r[21].message.substr(0,ee)+"",n,t,l,a=r[21].message.length>ee&&Ae(r);return{c(){n=I(e),t=N(),a&&a.c(),l=Ee()},l(s){n=O(s,e),t=y(s),a&&a.l(s),l=Ee()},m(s,o){j(s,n,o),j(s,t,o),a&&a.m(s,o),j(s,l,o)},p(s,o){o&16&&e!==(e=s[21].message.substr(0,ee)+"")&&X(n,e),s[21].message.length>ee?a?a.p(s,o):(a=Ae(s),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(s){s&&c(n),s&&c(t),a&&a.d(s),s&&c(l)}}}function vt(r){let e=r[21].message+"",n;return{c(){n=I(e)},l(t){n=O(t,e)},m(t,l){j(t,n,l)},p(t,l){l&16&&e!==(e=t[21].message+"")&&X(n,e)},d(t){t&&c(n)}}}function Ae(r){let e,n,t=r[21].message.length-ee+"",l,a,s,o;function i(){return r[12](r[21],r[25],r[26])}return{c(){e=h("div"),n=h("button"),l=I(t),a=I(" more characters"),this.h()},l(u){e=m(u,"DIV",{class:!0});var E=p(e);n=m(E,"BUTTON",{type:!0,class:!0});var d=p(n);l=O(d,t),a=O(d," more characters"),d.forEach(c),E.forEach(c),this.h()},h(){_(n,"type","button"),_(n,"class","svelte-24sv1t"),_(e,"class","longStringInfo svelte-24sv1t")},m(u,E){j(u,e,E),f(e,n),f(n,l),f(n,a),s||(o=le(n,"click",i),s=!0)},p(u,E){r=u,E&16&&t!==(t=r[21].message.length-ee+"")&&X(l,t)},d(u){u&&c(e),s=!1,o()}}}function Fe(r){let e,n,t,l=r[21].data.url+"",a,s,o=r[21].data.user&&Re(r);return{c(){e=h("ul"),n=h("li"),t=I("Page: "),a=I(l),s=N(),o&&o.c(),this.h()},l(i){e=m(i,"UL",{class:!0});var u=p(e);n=m(u,"LI",{});var E=p(n);t=O(E,"Page: "),a=O(E,l),E.forEach(c),s=y(u),o&&o.l(u),u.forEach(c),this.h()},h(){_(e,"class","info svelte-24sv1t")},m(i,u){j(i,e,u),f(e,n),f(n,t),f(n,a),f(e,s),o&&o.m(e,null)},p(i,u){u&16&&l!==(l=i[21].data.url+"")&&X(a,l),i[21].data.user?o?o.p(i,u):(o=Re(i),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(i){i&&c(e),o&&o.d()}}}function Re(r){let e,n,t,l=r[21].data.user.id+"",a,s;return{c(){e=h("li"),n=I("User ID: "),t=h("a"),a=I(l),this.h()},l(o){e=m(o,"LI",{});var i=p(e);n=O(i,"User ID: "),t=m(i,"A",{href:!0,class:!0});var u=p(t);a=O(u,l),u.forEach(c),i.forEach(c),this.h()},h(){_(t,"href",s="/users/"+r[21].data.user.id),_(t,"class","svelte-24sv1t")},m(o,i){j(o,e,i),f(e,n),f(e,t),f(t,a)},p(o,i){i&16&&l!==(l=o[21].data.user.id+"")&&X(a,l),i&16&&s!==(s="/users/"+o[21].data.user.id)&&_(t,"href",s)},d(o){o&&c(e)}}}function je(r){var we;let e,n,t,l=new Date(r[21].created_at).toLocaleDateString(void 0,{})+"",a,s,o=new Date(r[21].created_at).toLocaleTimeString(void 0,{})+"",i,u,E,d,T=r[21].error_type+"",P,H,C,$,U,K,q,S,W,V,Q,b,A,w,D,v,F,B,g,k,Z,Y,M,x,se;const oe=[mt,ht],te=[];function ie(z,R){return z[22]?0:1}$=ie(r),U=te[$]=oe[$](r);let G=((we=r[21].data)==null?void 0:we.url)&&Fe(r);w=new pe({props:{icon:"copy"}});function Xe(...z){return r[13](r[21],...z)}k=new pe({props:{icon:"pin"}});function xe(){return r[14](r[21])}function $e(...z){return r[15](r[21],...z)}return{c(){e=h("tr"),n=h("td"),t=h("time"),a=I(l),s=N(),i=I(o),E=N(),d=h("td"),P=I(T),H=N(),C=h("td"),U.c(),K=N(),G&&G.c(),q=N(),S=h("td"),W=h("div"),V=h("button"),Q=h("span"),b=I("Copy message"),A=N(),ue(w.$$.fragment),D=N(),v=h("button"),F=h("span"),B=I("Pin this log"),g=N(),ue(k.$$.fragment),Z=N(),this.h()},l(z){e=m(z,"TR",{class:!0});var R=p(e);n=m(R,"TD",{class:!0});var he=p(n);t=m(he,"TIME",{datetime:!0,class:!0});var fe=p(t);a=O(fe,l),s=y(fe),i=O(fe,o),fe.forEach(c),he.forEach(c),E=y(R),d=m(R,"TD",{class:!0});var Se=p(d);P=O(Se,T),Se.forEach(c),H=y(R),C=m(R,"TD",{class:!0});var ve=p(C);U.l(ve),K=y(ve),G&&G.l(ve),ve.forEach(c),q=y(R),S=m(R,"TD",{class:!0});var De=p(S);W=m(De,"DIV",{class:!0});var ge=p(W);V=m(ge,"BUTTON",{type:!0,class:!0,title:!0});var be=p(V);Q=m(be,"SPAN",{class:!0});var Le=p(Q);b=O(Le,"Copy message"),Le.forEach(c),A=y(be),ce(w.$$.fragment,be),be.forEach(c),D=y(ge),v=m(ge,"BUTTON",{type:!0,class:!0,title:!0});var ke=p(v);F=m(ke,"SPAN",{class:!0});var Ne=p(F);B=O(Ne,"Pin this log"),Ne.forEach(c),g=y(ke),ce(k.$$.fragment,ke),ke.forEach(c),ge.forEach(c),De.forEach(c),Z=y(R),R.forEach(c),this.h()},h(){_(t,"datetime",u=r[21].created_at),_(t,"class","svelte-24sv1t"),_(n,"class","date svelte-24sv1t"),_(d,"class","logType svelte-24sv1t"),_(C,"class","message svelte-24sv1t"),_(Q,"class","label"),_(V,"type","button"),_(V,"class","button svelte-24sv1t"),_(V,"title","Copy message"),_(F,"class","label"),_(v,"type","button"),_(v,"class","button svelte-24sv1t"),_(v,"title","Pin this log"),ne(v,"active",r[2].find($e)),_(W,"class","svelte-24sv1t"),_(S,"class","actions svelte-24sv1t"),_(e,"class","svelte-24sv1t"),ne(e,"hidden",r[1]&&r[5](r[21])||r[21].hidden),ne(e,"error",r[21].error_type.match(/error/i)),ne(e,"fresh",r[21].downloaded_at>r[4].logs.downloaded_at[0])},m(z,R){j(z,e,R),f(e,n),f(n,t),f(t,a),f(t,s),f(t,i),f(e,E),f(e,d),f(d,P),f(e,H),f(e,C),te[$].m(C,null),f(C,K),G&&G.m(C,null),f(e,q),f(e,S),f(S,W),f(W,V),f(V,Q),f(Q,b),f(V,A),_e(w,V,null),f(W,D),f(W,v),f(v,F),f(F,B),f(v,g),_e(k,v,null),f(e,Z),M=!0,x||(se=[le(V,"click",Xe),le(v,"click",it(xe))],x=!0)},p(z,R){var fe;r=z,(!M||R&16)&&l!==(l=new Date(r[21].created_at).toLocaleDateString(void 0,{})+"")&&X(a,l),(!M||R&16)&&o!==(o=new Date(r[21].created_at).toLocaleTimeString(void 0,{})+"")&&X(i,o),(!M||R&16&&u!==(u=r[21].created_at))&&_(t,"datetime",u),(!M||R&16)&&T!==(T=r[21].error_type+"")&&X(P,T);let he=$;$=ie(r),$===he?te[$].p(r,R):(ae(),J(te[he],1,1,()=>{te[he]=null}),re(),U=te[$],U?U.p(r,R):(U=te[$]=oe[$](r),U.c()),L(U,1),U.m(C,K)),(fe=r[21].data)!=null&&fe.url?G?G.p(r,R):(G=Fe(r),G.c(),G.m(C,null)):G&&(G.d(1),G=null),(!M||R&20)&&ne(v,"active",r[2].find($e)),(!M||R&50)&&ne(e,"hidden",r[1]&&r[5](r[21])||r[21].hidden),(!M||R&16)&&ne(e,"error",r[21].error_type.match(/error/i)),(!M||R&16)&&ne(e,"fresh",r[21].downloaded_at>r[4].logs.downloaded_at[0])},i(z){M||(L(U),L(w.$$.fragment,z),L(k.$$.fragment,z),z&&(Y||Ye(()=>{Y=ft(e,_t,{duration:200}),Y.start()})),M=!0)},o(z){J(U),J(w.$$.fragment,z),J(k.$$.fragment,z),M=!1},d(z){z&&c(e),te[$].d(),G&&G.d(),de(w),de(k),x=!1,Ke(se)}}}function Je(r){let e,n,t,l;return{c(){e=h("footer"),n=I("No newer logs to show"),t=h("br"),l=I("Checking every 7 seconds"),this.h()},l(a){e=m(a,"FOOTER",{class:!0});var s=p(e);n=O(s,"No newer logs to show"),t=m(s,"BR",{}),l=O(s,"Checking every 7 seconds"),s.forEach(c),this.h()},h(){_(e,"class","svelte-24sv1t")},m(a,s){j(a,e,s),f(e,n),f(e,t),f(e,l)},d(a){a&&c(e)}}}function qe(r){let e,n,t,l,a,s,o,i,u,E,d=r[2]&&Me(r);return{c(){e=h("section"),n=h("div"),t=h("nav"),l=h("button"),a=I("Clear pinned logs"),s=N(),d&&d.c(),this.h()},l(T){e=m(T,"SECTION",{class:!0});var P=p(e);n=m(P,"DIV",{class:!0});var H=p(n);t=m(H,"NAV",{class:!0});var C=p(t);l=m(C,"BUTTON",{type:!0,class:!0});var $=p(l);a=O($,"Clear pinned logs"),$.forEach(c),C.forEach(c),s=y(H),d&&d.l(H),H.forEach(c),P.forEach(c),this.h()},h(){_(l,"type","button"),_(l,"class","button svelte-24sv1t"),_(t,"class","svelte-24sv1t"),_(n,"class","svelte-24sv1t"),_(e,"class","pins svelte-24sv1t")},m(T,P){j(T,e,P),f(e,n),f(n,t),f(t,l),f(l,a),f(n,s),d&&d.m(n,null),i=!0,u||(E=le(l,"click",r[16]),u=!0)},p(T,P){T[2]?d?(d.p(T,P),P&4&&L(d,1)):(d=Me(T),d.c(),L(d,1),d.m(n,null)):d&&(ae(),J(d,1,1,()=>{d=null}),re())},i(T){i||(L(d),Ye(()=>{i&&(o||(o=Ie(e,r[8],{},!0)),o.run(1))}),i=!0)},o(T){J(d),o||(o=Ie(e,r[8],{},!1)),o.run(0),i=!1},d(T){T&&c(e),d&&d.d(),T&&o&&o.end(),u=!1,E()}}}function Me(r){let e,n,t=r[2],l=[];for(let s=0;s<t.length;s+=1)l[s]=He(Ce(r,t,s));const a=s=>J(l[s],1,1,()=>{l[s]=null});return{c(){e=h("ul");for(let s=0;s<l.length;s+=1)l[s].c()},l(s){e=m(s,"UL",{});var o=p(e);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(c)},m(s,o){j(s,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);n=!0},p(s,o){if(o&68){t=s[2];let i;for(i=0;i<t.length;i+=1){const u=Ce(s,t,i);l[i]?(l[i].p(u,o),L(l[i],1)):(l[i]=He(u),l[i].c(),L(l[i],1),l[i].m(e,null))}for(ae(),i=t.length;i<l.length;i+=1)a(i);re()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)L(l[o]);n=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)J(l[o]);n=!1},d(s){s&&c(e),We(l,s)}}}function ze(r){let e,n=r[21].data.url+"",t;return{c(){e=h("div"),t=I(n),this.h()},l(l){e=m(l,"DIV",{class:!0});var a=p(e);t=O(a,n),a.forEach(c),this.h()},h(){_(e,"class","url svelte-24sv1t")},m(l,a){j(l,e,a),f(e,t)},p(l,a){a&4&&n!==(n=l[21].data.url+"")&&X(t,n)},d(l){l&&c(e)}}}function gt(r){let e;function n(a,s){return a[21].showFull?Et:kt}let t=n(r),l=t(r);return{c(){e=h("div"),l.c(),this.h()},l(a){e=m(a,"DIV",{class:!0});var s=p(e);l.l(s),s.forEach(c),this.h()},h(){_(e,"class","pre svelte-24sv1t")},m(a,s){j(a,e,s),l.m(e,null)},p(a,s){t===(t=n(a))&&l?l.p(a,s):(l.d(1),l=t(a),l&&(l.c(),l.m(e,null)))},i:me,o:me,d(a){a&&c(e),l.d()}}}function bt(r){let e,n;return e=new Qe({props:{value:r[22]}}),{c(){ue(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,l){_e(e,t,l),n=!0},p(t,l){const a={};l&4&&(a.value=t[22]),e.$set(a)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){de(e,t)}}}function kt(r){let e=r[21].message.substr(0,ee)+"",n,t,l,a=r[21].message.length>ee&&Ge(r);return{c(){n=I(e),t=N(),a&&a.c(),l=Ee()},l(s){n=O(s,e),t=y(s),a&&a.l(s),l=Ee()},m(s,o){j(s,n,o),j(s,t,o),a&&a.m(s,o),j(s,l,o)},p(s,o){o&4&&e!==(e=s[21].message.substr(0,ee)+"")&&X(n,e),s[21].message.length>ee?a?a.p(s,o):(a=Ge(s),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(s){s&&c(n),s&&c(t),a&&a.d(s),s&&c(l)}}}function Et(r){let e=r[21].message+"",n;return{c(){n=I(e)},l(t){n=O(t,e)},m(t,l){j(t,n,l)},p(t,l){l&4&&e!==(e=t[21].message+"")&&X(n,e)},d(t){t&&c(n)}}}function Ge(r){let e,n=r[21].message.length-ee+"",t,l,a,s;function o(){return r[18](r[21],r[23],r[24])}return{c(){e=h("button"),t=I(n),l=I(" more characters"),this.h()},l(i){e=m(i,"BUTTON",{type:!0,class:!0});var u=p(e);t=O(u,n),l=O(u," more characters"),u.forEach(c),this.h()},h(){_(e,"type","button"),_(e,"class","svelte-24sv1t")},m(i,u){j(i,e,u),f(e,t),f(e,l),a||(s=le(e,"click",o),a=!0)},p(i,u){r=i,u&4&&n!==(n=r[21].message.length-ee+"")&&X(t,n)},d(i){i&&c(e),a=!1,s()}}}function He(r){var B;let e,n,t,l=new Date(r[21].created_at).toLocaleDateString(void 0,{})+"",a,s,o=new Date(r[21].created_at).toLocaleTimeString(void 0,{})+"",i,u,E,d,T,P,H,C,$,U,K,q,S,W,V,Q,b;C=new pe({props:{icon:"trash",size:"18"}});function A(){return r[17](r[21])}let w=((B=r[21].data)==null?void 0:B.url)&&ze(r);const D=[bt,gt],v=[];function F(g,k){return g[22]?0:1}return q=F(r),S=v[q]=D[q](r),{c(){e=h("li"),n=h("div"),t=h("time"),a=I(l),s=N(),i=I(o),E=N(),d=h("button"),T=h("span"),P=I("Remove log from pinned panel"),H=N(),ue(C.$$.fragment),$=N(),w&&w.c(),U=N(),K=h("div"),S.c(),W=N(),this.h()},l(g){e=m(g,"LI",{class:!0});var k=p(e);n=m(k,"DIV",{class:!0});var Z=p(n);t=m(Z,"TIME",{class:!0,datetime:!0});var Y=p(t);a=O(Y,l),s=y(Y),i=O(Y,o),Y.forEach(c),E=y(Z),d=m(Z,"BUTTON",{type:!0,title:!0,class:!0});var M=p(d);T=m(M,"SPAN",{class:!0});var x=p(T);P=O(x,"Remove log from pinned panel"),x.forEach(c),H=y(M),ce(C.$$.fragment,M),M.forEach(c),Z.forEach(c),$=y(k),w&&w.l(k),U=y(k),K=m(k,"DIV",{class:!0});var se=p(K);S.l(se),se.forEach(c),W=y(k),k.forEach(c),this.h()},h(){_(t,"class","date svelte-24sv1t"),_(t,"datetime",u=r[21].created_at),_(T,"class","label"),_(d,"type","button"),_(d,"title","Remove log from pinned panel"),_(d,"class","svelte-24sv1t"),_(n,"class","info svelte-24sv1t"),_(K,"class","message svelte-24sv1t"),_(e,"class","svelte-24sv1t")},m(g,k){j(g,e,k),f(e,n),f(n,t),f(t,a),f(t,s),f(t,i),f(n,E),f(n,d),f(d,T),f(T,P),f(d,H),_e(C,d,null),f(e,$),w&&w.m(e,null),f(e,U),f(e,K),v[q].m(K,null),f(e,W),V=!0,Q||(b=le(d,"click",A),Q=!0)},p(g,k){var Y;r=g,(!V||k&4)&&l!==(l=new Date(r[21].created_at).toLocaleDateString(void 0,{})+"")&&X(a,l),(!V||k&4)&&o!==(o=new Date(r[21].created_at).toLocaleTimeString(void 0,{})+"")&&X(i,o),(!V||k&4&&u!==(u=r[21].created_at))&&_(t,"datetime",u),(Y=r[21].data)!=null&&Y.url?w?w.p(r,k):(w=ze(r),w.c(),w.m(e,U)):w&&(w.d(1),w=null);let Z=q;q=F(r),q===Z?v[q].p(r,k):(ae(),J(v[Z],1,1,()=>{v[Z]=null}),re(),S=v[q],S?S.p(r,k):(S=v[q]=D[q](r),S.c()),L(S,1),S.m(K,null))},i(g){V||(L(C.$$.fragment,g),L(S),V=!0)},o(g){J(C.$$.fragment,g),J(S),V=!1},d(g){g&&c(e),de(C),w&&w.d(),v[q].d(),Q=!1,b()}}}function Tt(r){let e,n,t,l,a,s,o,i,u,E,d,T,P,H,C,$,U,K,q,S,W,V,Q,b,A,w,D=r[1]&&Ue(r);S=new pe({props:{icon:"pin"}});let v=r[4].logs.logs&&Ve(r),F=!r[1]&&Je(),B=r[3]&&qe(r);return{c(){e=N(),n=h("div"),t=h("section"),l=h("nav"),a=h("form"),s=h("label"),o=I("Filter:"),i=N(),u=h("input"),E=N(),D&&D.c(),d=N(),T=h("div"),P=h("button"),H=I("Clear screen"),C=N(),$=h("button"),U=h("span"),K=I("Toggle pinned logs panel"),q=N(),ue(S.$$.fragment),W=N(),v&&v.c(),V=N(),F&&F.c(),Q=N(),B&&B.c(),this.h()},l(g){st("svelte-1xj5d21",Pe.head).forEach(c),e=y(g),n=m(g,"DIV",{class:!0});var Z=p(n);t=m(Z,"SECTION",{class:!0});var Y=p(t);l=m(Y,"NAV",{class:!0});var M=p(l);a=m(M,"FORM",{});var x=p(a);s=m(x,"LABEL",{for:!0});var se=p(s);o=O(se,"Filter:"),se.forEach(c),i=y(x),u=m(x,"INPUT",{type:!0,id:!0,class:!0}),E=y(x),D&&D.l(x),x.forEach(c),d=y(M),T=m(M,"DIV",{class:!0});var oe=p(T);P=m(oe,"BUTTON",{type:!0,class:!0});var te=p(P);H=O(te,"Clear screen"),te.forEach(c),C=y(oe),$=m(oe,"BUTTON",{type:!0,title:!0,class:!0});var ie=p($);U=m(ie,"SPAN",{class:!0});var G=p(U);K=O(G,"Toggle pinned logs panel"),G.forEach(c),q=y(ie),ce(S.$$.fragment,ie),ie.forEach(c),oe.forEach(c),M.forEach(c),W=y(Y),v&&v.l(Y),V=y(Y),F&&F.l(Y),Y.forEach(c),Q=y(Z),B&&B.l(Z),Z.forEach(c),this.h()},h(){Pe.title="Logs | platformOS",_(s,"for","filter"),_(u,"type","text"),_(u,"id","filter"),_(u,"class","svelte-24sv1t"),_(P,"type","button"),_(P,"class","button"),_(U,"class","label"),_($,"type","button"),_($,"title","Toggle pinned logs panel"),_($,"class","button"),_(T,"class","svelte-24sv1t"),_(l,"class","svelte-24sv1t"),_(t,"class","logs svelte-24sv1t"),_(n,"class","container svelte-24sv1t")},m(g,k){j(g,e,k),j(g,n,k),f(n,t),f(t,l),f(l,a),f(a,s),f(s,o),f(a,i),f(a,u),ye(u,r[1]),f(a,E),D&&D.m(a,null),f(l,d),f(l,T),f(T,P),f(P,H),f(T,C),f(T,$),f($,U),f(U,K),f($,q),_e(S,$,null),f(t,W),v&&v.m(t,null),f(t,V),F&&F.m(t,null),f(n,Q),B&&B.m(n,null),r[19](n),b=!0,A||(w=[le(u,"input",r[9]),le(P,"click",r[11]),le($,"click",r[7])],A=!0)},p(g,[k]){k&2&&u.value!==g[1]&&ye(u,g[1]),g[1]?D?(D.p(g,k),k&2&&L(D,1)):(D=Ue(g),D.c(),L(D,1),D.m(a,null)):D&&(ae(),J(D,1,1,()=>{D=null}),re()),g[4].logs.logs?v?(v.p(g,k),k&16&&L(v,1)):(v=Ve(g),v.c(),L(v,1),v.m(t,V)):v&&(ae(),J(v,1,1,()=>{v=null}),re()),g[1]?F&&(F.d(1),F=null):F||(F=Je(),F.c(),F.m(t,null)),g[3]?B?(B.p(g,k),k&8&&L(B,1)):(B=qe(g),B.c(),L(B,1),B.m(n,null)):B&&(ae(),J(B,1,1,()=>{B=null}),re())},i(g){b||(L(D),L(S.$$.fragment,g),L(v),L(B),b=!0)},o(g){J(D),J(S.$$.fragment,g),J(v),J(B),b=!1},d(g){g&&c(e),g&&c(n),D&&D.d(),de(S),v&&v.d(),F&&F.d(),B&&B.d(),r[19](null),A=!1,Ke(w)}}}let ee=262144;function $t(r,e,n){let t;nt(r,Te,b=>n(4,t=b));let l,a="",s=[],o;const i=b=>b.hidden===!0||b.error_type.toLowerCase().indexOf(a)===-1&&b.message.toLowerCase().indexOf(a)===-1;let u=!1;rt(async()=>{var b;u||(await ut(),document.querySelector("footer").scrollIntoView(),(b=t.logs.logs)!=null&&b.length&&(u=!0))}),at(()=>{n(3,o=localStorage.pinnedPanel==="true"),n(2,s=localStorage.pinnedLogs?JSON.parse(localStorage.pinnedLogs):[])});const E=b=>{s.find(A=>A.id===b.id)?n(2,s=s.filter(A=>A.id!==b.id)):n(2,s=[...s,b]),localStorage.pinnedLogs=JSON.stringify(s)},d=()=>{o?(n(3,o=!1),localStorage.pinnedPanel=!1):(n(3,o=!0),localStorage.pinnedPanel=!0)},T=function(b,{delay:A=0,duration:w=150}){return{delay:A,duration:w,css:D=>`width: ${500*dt(D)}px;`}};function P(){a=this.value,n(1,a)}const H=()=>n(1,a=""),C=()=>t.logs.logs.forEach((b,A)=>Oe(Te,t.logs.logs[A].hidden=!0,t)),$=(b,A,w)=>Oe(Te,A[w].showFull=!0,t),U=(b,A)=>navigator.clipboard.writeText(b.message).then(()=>{A.target.classList.add("confirmation"),setTimeout(()=>A.target.classList.remove("confirmation"),1e3)}),K=b=>E(b),q=(b,A)=>A.id===b.id,S=()=>{localStorage.pinnedLogs=[],n(2,s=[])},W=b=>E(b),V=(b,A,w)=>n(2,A[w].showFull=!0,s);function Q(b){ct[b?"unshift":"push"](()=>{l=b,n(0,l)})}return[l,a,s,o,t,i,E,d,T,P,H,C,$,U,K,q,S,W,V,Q]}class It extends et{constructor(e){super(),tt(this,e,$t,Tt,lt,{})}}export{It as component};
