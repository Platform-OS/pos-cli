import{s as Bl,e as f,a as N,c as h,b as d,g as A,z as he,f as u,y as o,i as M,h as n,B as Ee,N as jl,D as xt,r as el,P as zl,t as y,d as $,j as G,G as qe,p as Jl,E as be,A as oe,X as Yl,F as Dl,k as ql,K as Gl,n as Xl,Y as Ql,l as Wl,u as xl,m as es,o as ts,V as Il,Z as ls,C as Nl}from"../chunks/scheduler.DdW0MO6w.js";import{S as Zl,i as Kl,c as Ie,b as Ne,m as Ae,t as B,g as It,d as Nt,a as K,e as Oe}from"../chunks/index.BTckFgzM.js";import{e as Qe}from"../chunks/each.urgsHadt.js";import{o as ss,b as as,a as rs}from"../chunks/entry.CtIyiig2.js";import{p as ns}from"../chunks/stores.D1wjvleG.js";import{n as os}from"../chunks/network.Cknw5b9z.js";import{s as Wt}from"../chunks/state.mwpI3R5m.js";import{T as is,c as us}from"../chunks/Toggle.CcAM2iYi.js";import{I as We}from"../chunks/Icon.DnHrMBiR.js";import{g as cs}from"../chunks/globals.D0QH3NT1.js";const{window:_s}=cs;function Al(t,l,s){const e=t.slice();return e[9]=l[s],e[11]=s,e}function Ol(t){let l,s,e=t[9].name+"",a,i,r,c,E,P,p,S,_,b,q,T,w=t[9].name+"",g,C,v,m,O,k,j,ie;return m=new We({props:{icon:"x"}}),{c(){l=f("li"),s=f("a"),a=y(e),r=N(),c=f("form"),E=f("input"),P=N(),p=f("input"),_=N(),b=f("button"),q=f("span"),T=y("Delete '"),g=y(w),C=y("' preset"),v=N(),Ie(m.$$.fragment),O=N(),this.h()},l(L){l=h(L,"LI",{class:!0});var U=d(l);s=h(U,"A",{href:!0,class:!0});var X=d(s);a=$(X,e),X.forEach(u),r=A(U),c=h(U,"FORM",{class:!0});var x=d(c);E=h(x,"INPUT",{type:!0,name:!0}),P=A(x),p=h(x,"INPUT",{type:!0,name:!0}),_=A(x),b=h(x,"BUTTON",{type:!0,class:!0});var Y=d(b);q=h(Y,"SPAN",{class:!0});var Q=d(q);T=$(Q,"Delete '"),g=$(Q,w),C=$(Q,"' preset"),Q.forEach(u),v=A(Y),Ne(m.$$.fragment,Y),Y.forEach(u),x.forEach(u),O=A(U),U.forEach(u),this.h()},h(){o(s,"href",i="/network?"+t[9].url),o(s,"class","svelte-778p5v"),o(E,"type","hidden"),o(E,"name","id"),E.value=t[11],o(p,"type","hidden"),o(p,"name","name"),p.value=S=t[9].name,o(q,"class","label"),o(b,"type","submit"),o(b,"class","svelte-778p5v"),o(c,"class","svelte-778p5v"),o(l,"class","svelte-778p5v")},m(L,U){M(L,l,U),n(l,s),n(s,a),n(l,r),n(l,c),n(c,E),n(c,P),n(c,p),n(c,_),n(c,b),n(b,q),n(q,T),n(q,g),n(q,C),n(b,v),Ae(m,b,null),n(l,O),k=!0,j||(ie=Ee(c,"submit",jl(t[5])),j=!0)},p(L,U){(!k||U&4)&&e!==(e=L[9].name+"")&&G(a,e),(!k||U&4&&i!==(i="/network?"+L[9].url))&&o(s,"href",i),(!k||U&4&&S!==(S=L[9].name))&&(p.value=S),(!k||U&4)&&w!==(w=L[9].name+"")&&G(g,w)},i(L){k||(B(m.$$.fragment,L),k=!0)},o(L){K(m.$$.fragment,L),k=!1},d(L){L&&u(l),Oe(m),j=!1,ie()}}}function Ll(t){let l,s="You can save your current filters selection to get back to them quickly in the future.";return{c(){l=f("div"),l.textContent=s,this.h()},l(e){l=h(e,"DIV",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-14bf7on"&&(l.textContent=s),this.h()},h(){o(l,"class","message svelte-778p5v")},m(e,a){M(e,l,a)},d(e){e&&u(l)}}}function fs(t){let l,s,e,a,i,r,c="Save currently selected filters as new preset",E,P,p,S,_,b,q,T;P=new We({props:{icon:"plus"}});let w=Qe(t[2]),g=[];for(let m=0;m<w.length;m+=1)g[m]=Ol(Al(t,w,m));const C=m=>K(g[m],1,1,()=>{g[m]=null});let v=!t[2].length&&Ll();return{c(){l=f("div"),s=f("form"),e=f("input"),a=N(),i=f("button"),r=f("span"),r.textContent=c,E=N(),Ie(P.$$.fragment),p=N(),S=f("ul");for(let m=0;m<g.length;m+=1)g[m].c();_=N(),v&&v.c(),this.h()},l(m){l=h(m,"DIV",{});var O=d(l);s=h(O,"FORM",{class:!0});var k=d(s);e=h(k,"INPUT",{type:!0,placeholder:!0,class:!0}),a=A(k),i=h(k,"BUTTON",{type:!0,class:!0});var j=d(i);r=h(j,"SPAN",{class:!0,"data-svelte-h":!0}),he(r)!=="svelte-2dhljl"&&(r.textContent=c),E=A(j),Ne(P.$$.fragment,j),j.forEach(u),k.forEach(u),p=A(O),S=h(O,"UL",{class:!0});var ie=d(S);for(let L=0;L<g.length;L+=1)g[L].l(ie);ie.forEach(u),_=A(O),v&&v.l(O),O.forEach(u),this.h()},h(){o(e,"type","text"),e.required=!0,o(e,"placeholder","Save current view"),o(e,"class","svelte-778p5v"),o(r,"class","label svelte-778p5v"),o(i,"type","submit"),o(i,"class","svelte-778p5v"),o(s,"class","create svelte-778p5v"),o(S,"class","svelte-778p5v")},m(m,O){M(m,l,O),n(l,s),n(s,e),t[6](e),n(s,a),n(s,i),n(i,r),n(i,E),Ae(P,i,null),n(l,p),n(l,S);for(let k=0;k<g.length;k+=1)g[k]&&g[k].m(S,null);n(l,_),v&&v.m(l,null),t[7](l),b=!0,q||(T=[Ee(_s,"keydown",t[3]),Ee(s,"submit",jl(t[4]))],q=!0)},p(m,[O]){if(O&36){w=Qe(m[2]);let k;for(k=0;k<w.length;k+=1){const j=Al(m,w,k);g[k]?(g[k].p(j,O),B(g[k],1)):(g[k]=Ol(j),g[k].c(),B(g[k],1),g[k].m(S,null))}for(It(),k=w.length;k<g.length;k+=1)C(k);Nt()}m[2].length?v&&(v.d(1),v=null):v||(v=Ll(),v.c(),v.m(l,null))},i(m){if(!b){B(P.$$.fragment,m);for(let O=0;O<w.length;O+=1)B(g[O]);b=!0}},o(m){K(P.$$.fragment,m),g=g.filter(Boolean);for(let O=0;O<g.length;O+=1)K(g[O]);b=!1},d(m){m&&u(l),t[6](null),Oe(P),xt(g,m),v&&v.d(),t[7](null),q=!1,el(T)}}}function hs(t,l,s){let e,a,i=localStorage.posNetworkLogsPresets&&JSON.parse(localStorage.posNetworkLogsPresets)||[{url:"order_by=target_processing_time&order=DESC",name:"Slowest requests"},{url:"aggregate=http_request_path&order_by=avg_target_processing_time&order=DESC",name:"Aggregated slowest requests"},{url:"order_by=_timestamp&order=DESC&lb_status_codes=400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,420,421,422,423,424,425,426,427,428,429,431,451",name:"Responded with 4∗∗ error"},{url:"order_by=_timestamp&order=DESC&lb_status_codes=500,501,502,503,504,505,506,507,508,510,511",name:"Responded with 5∗∗ error"}];const r=zl();function c(_){var b,q,T,w,g,C,v,m,O,k;_.key==="Escape"?r("close"):_.key==="ArrowDown"?e.contains(document.activeElement)?(_.preventDefault(),document.activeElement.matches("input")?(b=e.querySelector("a"))==null||b.focus():(g=(w=(T=(q=document.activeElement)==null?void 0:q.closest("li"))==null?void 0:T.nextElementSibling)==null?void 0:w.querySelector("a"))==null||g.focus()):e.querySelector("li a").focus():_.key==="ArrowUp"?e.contains(document.activeElement)?(_.preventDefault(),(C=document.activeElement)!=null&&C.matches("li:first-child a")?a.focus():(k=(O=(m=(v=document.activeElement)==null?void 0:v.closest("li"))==null?void 0:m.previousElementSibling)==null?void 0:O.querySelector("a"))==null||k.focus()):e.querySelector("li:last-child a").focus():_.key==="Delete"&&e.contains(document.activeElement)&&document.activeElement.matches("a")&&document.activeElement.closest("li").querySelector("form").requestSubmit()}ss(()=>{r("close")});function E(_){let b=new URLSearchParams(document.location.search);b.delete("start_time"),s(2,i=[...i,{url:b.toString(),name:a.value}]),localStorage.posNetworkLogsPresets=JSON.stringify(i),s(1,a.value="",a)}function P(_){const b=new FormData(_.target),q=b.get("id"),T=b.get("name");window.confirm(`Are you sure that you want to delete '${T}' preset?`)&&(i.splice(q,1),s(2,i),localStorage.posNetworkLogsPresets=JSON.stringify(i))}function p(_){qe[_?"unshift":"push"](()=>{a=_,s(1,a)})}function S(_){qe[_?"unshift":"push"](()=>{e=_,s(0,e)})}return[e,a,i,c,E,P,p,S]}class ms extends Zl{constructor(l){super(),Kl(this,l,hs,fs,Bl,{})}}function yl(t,l,s){const e=t.slice();return e[33]=l[s],e}function $l(t,l,s){const e=t.slice();return e[36]=l[s],e}function Rl(t){let l,s;return l=new ms({}),l.$on("close",t[13]),{c(){Ie(l.$$.fragment)},l(e){Ne(l.$$.fragment,e)},m(e,a){Ae(l,e,a),s=!0},p:Xl,i(e){s||(B(l.$$.fragment,e),s=!0)},o(e){K(l.$$.fragment,e),s=!1},d(e){Oe(l,e)}}}function gs(t){let l,s;return l=new We({props:{icon:"sortAZ"}}),{c(){Ie(l.$$.fragment)},l(e){Ne(l.$$.fragment,e)},m(e,a){Ae(l,e,a),s=!0},i(e){s||(B(l.$$.fragment,e),s=!0)},o(e){K(l.$$.fragment,e),s=!1},d(e){Oe(l,e)}}}function ds(t){let l,s;return l=new We({props:{icon:"sortZA"}}),{c(){Ie(l.$$.fragment)},l(e){Ne(l.$$.fragment,e)},m(e,a){Ae(l,e,a),s=!0},i(e){s||(B(l.$$.fragment,e),s=!0)},o(e){K(l.$$.fragment,e),s=!1},d(e){Oe(l,e)}}}function Fl(t){let l,s=Qe(t[10].networks.aggs.filters),e=[];for(let a=0;a<s.length;a+=1)e[a]=Ml($l(t,s,a));return{c(){l=f("ul");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){l=h(a,"UL",{class:!0});var i=d(l);for(let r=0;r<e.length;r+=1)e[r].l(i);i.forEach(u),this.h()},h(){o(l,"class","separated svelte-6bc3mx")},m(a,i){M(a,l,i);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(l,null)},p(a,i){if(i[0]&1058){s=Qe(a[10].networks.aggs.filters);let r;for(r=0;r<s.length;r+=1){const c=$l(a,s,r);e[r]?e[r].p(c,i):(e[r]=Ml(c),e[r].c(),e[r].m(l,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=s.length}},d(a){a&&u(l),xt(e,a)}}}function Ml(t){let l,s,e,a,i=!1,r,c=t[36].lb_status_code+"",E,P,p,S=t[36].count+"",_,b,q,T,w;return q=Ql(t[26][0]),{c(){l=f("li"),s=f("label"),e=f("input"),r=N(),E=y(c),P=N(),p=f("small"),_=y(S),b=N(),this.h()},l(g){l=h(g,"LI",{class:!0});var C=d(l);s=h(C,"LABEL",{class:!0});var v=d(s);e=h(v,"INPUT",{form:!0,type:!0}),r=A(v),E=$(v,c),v.forEach(u),P=A(C),p=h(C,"SMALL",{class:!0});var m=d(p);_=$(m,S),m.forEach(u),b=A(C),C.forEach(u),this.h()},h(){o(e,"form","none"),o(e,"type","checkbox"),e.__value=a=t[36].lb_status_code.toString(),oe(e,e.__value),o(s,"class","svelte-6bc3mx"),o(p,"class","svelte-6bc3mx"),o(l,"class","svelte-6bc3mx"),q.p(e)},m(g,C){M(g,l,C),n(l,s),n(s,e),e.checked=~(t[5]||[]).indexOf(e.__value),n(s,r),n(s,E),n(l,P),n(l,p),n(p,_),n(l,b),T||(w=[Ee(e,"change",t[25]),Ee(e,"change",t[27])],T=!0)},p(g,C){C[0]&1024&&a!==(a=g[36].lb_status_code.toString())&&(e.__value=a,oe(e,e.__value),i=!0),(i||C[0]&1056)&&(e.checked=~(g[5]||[]).indexOf(e.__value)),C[0]&1024&&c!==(c=g[36].lb_status_code+"")&&G(E,c),C[0]&1024&&S!==(S=g[36].count+"")&&G(_,S)},d(g){g&&u(l),q.r(),T=!1,el(w)}}}function ps(t){let l,s="Time",e,a,i="Status";return{c(){l=f("th"),l.textContent=s,e=N(),a=f("th"),a.textContent=i,this.h()},l(r){l=h(r,"TH",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-17osfxn"&&(l.textContent=s),e=A(r),a=h(r,"TH",{class:!0,"data-svelte-h":!0}),he(a)!=="svelte-bi34jg"&&(a.textContent=i),this.h()},h(){o(l,"class","svelte-6bc3mx"),o(a,"class","svelte-6bc3mx")},m(r,c){M(r,l,c),M(r,e,c),M(r,a,c)},d(r){r&&(u(l),u(e),u(a))}}}function vs(t){let l,s="Count";return{c(){l=f("th"),l.textContent=s,this.h()},l(e){l=h(e,"TH",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-1i23ozd"&&(l.textContent=s),this.h()},h(){o(l,"class","svelte-6bc3mx")},m(e,a){M(e,l,a)},d(e){e&&u(l)}}}function bs(t){let l;return{c(){l=y("Avg Processing Time")},l(s){l=$(s,"Avg Processing Time")},m(s,e){M(s,l,e)},d(s){s&&u(l)}}}function Es(t){let l;return{c(){l=y("Duration")},l(s){l=$(s,"Duration")},m(s,e){M(s,l,e)},d(s){s&&u(l)}}}function Ul(t){let l,s=Qe(t[10].networks.aggs.results),e=[];for(let a=0;a<s.length;a+=1)e[a]=Hl(yl(t,s,a));return{c(){l=f("tbody");for(let a=0;a<e.length;a+=1)e[a].c()},l(a){l=h(a,"TBODY",{});var i=d(l);for(let r=0;r<e.length;r+=1)e[r].l(i);i.forEach(u)},m(a,i){M(a,l,i);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(l,null)},p(a,i){if(i[0]&1536){s=Qe(a[10].networks.aggs.results);let r;for(r=0;r<s.length;r+=1){const c=yl(a,s,r);e[r]?e[r].p(c,i):(e[r]=Hl(c),e[r].c(),e[r].m(l,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=s.length}},d(a){a&&u(l),xt(e,a)}}}function Ps(t){let l,s,e=new Date(t[33]._timestamp/1e3).toLocaleString()+"",a,i,r,c,E,P=t[33].lb_status_code+"",p,S;return{c(){l=f("td"),s=f("a"),a=y(e),r=N(),c=f("td"),E=f("a"),p=y(P),this.h()},l(_){l=h(_,"TD",{class:!0});var b=d(l);s=h(b,"A",{href:!0,class:!0});var q=d(s);a=$(q,e),q.forEach(u),b.forEach(u),r=A(_),c=h(_,"TD",{class:!0});var T=d(c);E=h(T,"A",{href:!0,class:!0});var w=d(E);p=$(w,P),w.forEach(u),T.forEach(u),this.h()},h(){o(s,"href",i="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),o(s,"class","svelte-6bc3mx"),o(l,"class","time svelte-6bc3mx"),o(E,"href",S="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),o(E,"class","svelte-6bc3mx"),o(c,"class","status svelte-6bc3mx"),be(c,"success",t[33].lb_status_code>=200&&t[33].lb_status_code<300),be(c,"info",t[33].lb_status_code>=300&&t[33].lb_status_code<400),be(c,"error",t[33].lb_status_code>=400&&t[33].lb_status_code<600)},m(_,b){M(_,l,b),n(l,s),n(s,a),M(_,r,b),M(_,c,b),n(c,E),n(E,p)},p(_,b){b[0]&1024&&e!==(e=new Date(_[33]._timestamp/1e3).toLocaleString()+"")&&G(a,e),b[0]&1536&&i!==(i="/network/"+_[33]._timestamp+"?"+_[9].url.searchParams.toString())&&o(s,"href",i),b[0]&1024&&P!==(P=_[33].lb_status_code+"")&&G(p,P),b[0]&1536&&S!==(S="/network/"+_[33]._timestamp+"?"+_[9].url.searchParams.toString())&&o(E,"href",S),b[0]&1024&&be(c,"success",_[33].lb_status_code>=200&&_[33].lb_status_code<300),b[0]&1024&&be(c,"info",_[33].lb_status_code>=300&&_[33].lb_status_code<400),b[0]&1024&&be(c,"error",_[33].lb_status_code>=400&&_[33].lb_status_code<600)},d(_){_&&(u(l),u(r),u(c))}}}function ks(t){let l,s,e=t[33].count+"",a;return{c(){l=f("td"),s=f("div"),a=y(e),this.h()},l(i){l=h(i,"TD",{class:!0});var r=d(l);s=h(r,"DIV",{class:!0});var c=d(s);a=$(c,e),c.forEach(u),r.forEach(u),this.h()},h(){o(s,"class","svelte-6bc3mx"),o(l,"class","count svelte-6bc3mx")},m(i,r){M(i,l,r),n(l,s),n(s,a)},p(i,r){r[0]&1024&&e!==(e=i[33].count+"")&&G(a,e)},d(i){i&&u(l)}}}function Ss(t){let l,s,e=t[33].http_request_method+"",a,i,r=t[33].http_request_path+"",c;return{c(){l=f("div"),s=f("span"),a=y(e),i=N(),c=y(r),this.h()},l(E){l=h(E,"DIV",{class:!0});var P=d(l);s=h(P,"SPAN",{class:!0});var p=d(s);a=$(p,e),p.forEach(u),i=A(P),c=$(P,r),P.forEach(u),this.h()},h(){o(s,"class","method svelte-6bc3mx"),o(l,"class","svelte-6bc3mx")},m(E,P){M(E,l,P),n(l,s),n(s,a),n(l,i),n(l,c)},p(E,P){P[0]&1024&&e!==(e=E[33].http_request_method+"")&&G(a,e),P[0]&1024&&r!==(r=E[33].http_request_path+"")&&G(c,r)},d(E){E&&u(l)}}}function ws(t){let l,s,e,a=t[33].http_request_method+"",i,r,c=t[33].http_request_path+"",E,P;return{c(){l=f("a"),s=f("div"),e=f("span"),i=y(a),r=N(),E=y(c),this.h()},l(p){l=h(p,"A",{href:!0,class:!0});var S=d(l);s=h(S,"DIV",{class:!0});var _=d(s);e=h(_,"SPAN",{class:!0});var b=d(e);i=$(b,a),b.forEach(u),r=A(_),E=$(_,c),_.forEach(u),S.forEach(u),this.h()},h(){o(e,"class","method svelte-6bc3mx"),o(s,"class","svelte-6bc3mx"),o(l,"href",P="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),o(l,"class","svelte-6bc3mx")},m(p,S){M(p,l,S),n(l,s),n(s,e),n(e,i),n(s,r),n(s,E)},p(p,S){S[0]&1024&&a!==(a=p[33].http_request_method+"")&&G(i,a),S[0]&1024&&c!==(c=p[33].http_request_path+"")&&G(E,c),S[0]&1536&&P!==(P="/network/"+p[33]._timestamp+"?"+p[9].url.searchParams.toString())&&o(l,"href",P)},d(p){p&&u(l)}}}function Ts(t){let l,s=Math.round((parseFloat(t[33].avg_target_processing_time)+Number.EPSILON)*1e3)/1e3+"",e,a;return{c(){l=f("div"),e=y(s),a=y("s"),this.h()},l(i){l=h(i,"DIV",{class:!0});var r=d(l);e=$(r,s),a=$(r,"s"),r.forEach(u),this.h()},h(){o(l,"class","svelte-6bc3mx")},m(i,r){M(i,l,r),n(l,e),n(l,a)},p(i,r){r[0]&1024&&s!==(s=Math.round((parseFloat(i[33].avg_target_processing_time)+Number.EPSILON)*1e3)/1e3+"")&&G(e,s)},d(i){i&&u(l)}}}function Cs(t){let l,s=Math.round((parseFloat(t[33].request_processing_time)+parseFloat(t[33].target_processing_time)+Number.EPSILON)*1e3)/1e3+"",e,a,i;return{c(){l=f("a"),e=y(s),a=y("s"),this.h()},l(r){l=h(r,"A",{href:!0,class:!0});var c=d(l);e=$(c,s),a=$(c,"s"),c.forEach(u),this.h()},h(){o(l,"href",i="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),o(l,"class","svelte-6bc3mx")},m(r,c){M(r,l,c),n(l,e),n(l,a)},p(r,c){c[0]&1024&&s!==(s=Math.round((parseFloat(r[33].request_processing_time)+parseFloat(r[33].target_processing_time)+Number.EPSILON)*1e3)/1e3+"")&&G(e,s),c[0]&1536&&i!==(i="/network/"+r[33]._timestamp+"?"+r[9].url.searchParams.toString())&&o(l,"href",i)},d(r){r&&u(l)}}}function Hl(t){let l,s,e,a,i,r,c,E,P;function p(v,m){return m[0]&512&&(s=null),s==null&&(s=!!v[9].url.searchParams.get("aggregate")),s?ks:Ps}let S=p(t,[-1,-1]),_=S(t);function b(v,m){return m[0]&512&&(i=null),i==null&&(i=!v[9].url.searchParams.get("aggregate")),i?ws:Ss}let q=b(t,[-1,-1]),T=q(t);function w(v,m){return m[0]&512&&(E=null),E==null&&(E=!v[9].url.searchParams.get("aggregate")),E?Cs:Ts}let g=w(t,[-1,-1]),C=g(t);return{c(){l=f("tr"),_.c(),e=N(),a=f("td"),T.c(),r=N(),c=f("td"),C.c(),P=N(),this.h()},l(v){l=h(v,"TR",{class:!0});var m=d(l);_.l(m),e=A(m),a=h(m,"TD",{class:!0});var O=d(a);T.l(O),O.forEach(u),r=A(m),c=h(m,"TD",{class:!0});var k=d(c);C.l(k),k.forEach(u),P=A(m),m.forEach(u),this.h()},h(){o(a,"class","request svelte-6bc3mx"),o(c,"class","duration svelte-6bc3mx"),o(l,"class","svelte-6bc3mx"),be(l,"active",t[33]._timestamp&&t[9].params.id==t[33]._timestamp)},m(v,m){M(v,l,m),_.m(l,null),n(l,e),n(l,a),T.m(a,null),n(l,r),n(l,c),C.m(c,null),n(l,P)},p(v,m){S===(S=p(v,m))&&_?_.p(v,m):(_.d(1),_=S(v),_&&(_.c(),_.m(l,e))),q===(q=b(v,m))&&T?T.p(v,m):(T.d(1),T=q(v),T&&(T.c(),T.m(a,null))),g===(g=w(v,m))&&C?C.p(v,m):(C.d(1),C=g(v),C&&(C.c(),C.m(c,null))),m[0]&1536&&be(l,"active",v[33]._timestamp&&v[9].params.id==v[33]._timestamp)},d(v){v&&u(l),_.d(),T.d(),C.d()}}}function Vl(t){let l;const s=t[15].default,e=Wl(s,t,t[14],null);return{c(){e&&e.c()},l(a){e&&e.l(a)},m(a,i){e&&e.m(a,i),l=!0},p(a,i){e&&e.p&&(!l||i[0]&16384)&&xl(e,s,a,a[14],l?ts(s,a[14],i,null):es(a[14]),null)},i(a){l||(B(e,a),l=!0)},o(a){K(e,a),l=!1},d(a){e&&e.d(a)}}}function Ds(t){var il,ul,cl,_l,fl;let l,s,e,a,i,r,c="Filters",E,P,p,S,_="Choose filters preset",b,q,T,w,g,C="Reset",v,m,O,k,j,ie,L,U,X,x,Y,Q,st='<label for="order_by" class="svelte-6bc3mx">Sorting</label>',xe,ee,Z,W,je,I,Ze,te,At,at,rt,le,Ot,nt,ot,se,Lt,it,ut,ae,yt,ct,_t,re,$t,ft,ht,Rt,ue,me,Ft,mt,ge,Mt,gt,Ut,Te,dt,ce,_e,Ht,Le,ye,tl='<label for="start_time" class="svelte-6bc3mx">Time limit</label>',Vt,ne,pt,Bt,de,$e,ll="Status Code",jt,pe,Zt,Kt,Ke,ze,Pe,Je,fe,vt,bt,Ce,et=t[9].url.searchParams.get("aggregate")=="http_request_path"?"Aggregated ":"",Et,zt,tt=t[9].url.searchParams.get("aggregate")=="http_request_path"?"s":"",Pt,Jt,Re,kt,Yt,Gt,F,Xt,sl;document.title=l="Logs"+((il=t[10].online)!=null&&il.MPKIT_URL?": "+t[10].online.MPKIT_URL.replace("https://",""):""),q=new We({props:{icon:"controlls"}}),m=new We({props:{icon:"disable"}});let H=t[7]&&Rl(t);X=new is({props:{name:"aggregate",options:[{value:"http_request_path",label:"Aggregate requests"}],checked:t[9].url.searchParams.get("aggregate")}}),X.$on("change",t[19]);const al=[ds,gs],Fe=[];function rl(R,D){return D[0]&512&&(dt=null),dt==null&&(dt=R[9].url.searchParams.get("order")==="DESC"||!R[9].url.searchParams.get("order")),dt?0:1}ce=rl(t,[-1,-1]),_e=Fe[ce]=al[ce](t);let z=((cl=(ul=t[10].networks)==null?void 0:ul.aggs)==null?void 0:cl.filters)&&Fl(t);function nl(R,D){return D[0]&512&&(vt=null),vt==null&&(vt=!!R[9].url.searchParams.get("aggregate")),vt?vs:ps}let St=nl(t,[-1,-1]),ke=St(t);function ol(R,D){return D[0]&512&&(kt=null),kt==null&&(kt=!R[9].url.searchParams.get("aggregate")),kt?Es:bs}let wt=ol(t,[-1,-1]),Se=wt(t),J=((fl=(_l=t[10].networks)==null?void 0:_l.aggs)==null?void 0:fl.results)&&Ul(t),V=t[9].params.id&&Vl(t);return{c(){s=N(),e=f("div"),a=f("nav"),i=f("header"),r=f("h2"),r.textContent=c,E=N(),P=f("nav"),p=f("button"),S=f("span"),S.textContent=_,b=N(),Ie(q.$$.fragment),T=N(),w=f("a"),g=f("span"),g.textContent=C,v=N(),Ie(m.$$.fragment),O=N(),k=f("dialog"),H&&H.c(),ie=N(),L=f("form"),U=f("fieldset"),Ie(X.$$.fragment),x=N(),Y=f("fieldset"),Q=f("h3"),Q.innerHTML=st,xe=N(),ee=f("div"),Z=f("select"),W=f("option"),je=y("Count"),te=f("option"),At=y("Request path"),le=f("option"),Ot=y("Processing time"),se=f("option"),Lt=y("Time"),ae=f("option"),yt=y("Request path"),re=f("option"),$t=y("Duration"),Rt=N(),ue=f("select"),me=f("option"),Ft=y("DESC [Z→A]"),ge=f("option"),Mt=y("ASC [A→Z]"),Ut=N(),Te=f("label"),_e.c(),Ht=N(),Le=f("fieldset"),ye=f("h3"),ye.innerHTML=tl,Vt=N(),ne=f("input"),Bt=N(),de=f("fieldset"),$e=f("h3"),$e.textContent=ll,jt=N(),pe=f("input"),Zt=N(),z&&z.c(),Kt=N(),Ke=f("section"),ze=f("article"),Pe=f("table"),Je=f("thead"),fe=f("tr"),ke.c(),bt=N(),Ce=f("th"),Et=y(et),zt=y("Request"),Pt=y(tt),Jt=N(),Re=f("th"),Se.c(),Yt=N(),J&&J.c(),Gt=N(),V&&V.c(),this.h()},l(R){Jl("svelte-dfdkqr",document.head).forEach(u),s=A(R),e=h(R,"DIV",{class:!0});var we=d(e);a=h(we,"NAV",{class:!0});var ve=d(a);i=h(ve,"HEADER",{class:!0});var Me=d(i);r=h(Me,"H2",{class:!0,"data-svelte-h":!0}),he(r)!=="svelte-1ydm89n"&&(r.textContent=c),E=A(Me),P=h(Me,"NAV",{class:!0});var Ue=d(P);p=h(Ue,"BUTTON",{type:!0,title:!0,class:!0});var He=d(p);S=h(He,"SPAN",{class:!0,"data-svelte-h":!0}),he(S)!=="svelte-p09m9k"&&(S.textContent=_),b=A(He),Ne(q.$$.fragment,He),He.forEach(u),T=A(Ue),w=h(Ue,"A",{href:!0,title:!0,class:!0});var Ve=d(w);g=h(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),he(g)!=="svelte-1c96jh2"&&(g.textContent=C),v=A(Ve),Ne(m.$$.fragment,Ve),Ve.forEach(u),Ue.forEach(u),Me.forEach(u),O=A(ve),k=h(ve,"DIALOG",{class:!0});var lt=d(k);H&&H.l(lt),lt.forEach(u),ie=A(ve),L=h(ve,"FORM",{action:!0,id:!0,class:!0});var De=d(L);U=h(De,"FIELDSET",{class:!0});var hl=d(U);Ne(X.$$.fragment,hl),hl.forEach(u),x=A(De),Y=h(De,"FIELDSET",{class:!0});var Tt=d(Y);Q=h(Tt,"H3",{class:!0,"data-svelte-h":!0}),he(Q)!=="svelte-e2rbyt"&&(Q.innerHTML=st),xe=A(Tt),ee=h(Tt,"DIV",{class:!0});var Ye=d(ee);Z=h(Ye,"SELECT",{name:!0,id:!0,class:!0});var Be=d(Z);W=h(Be,"OPTION",{});var ml=d(W);je=$(ml,"Count"),ml.forEach(u),te=h(Be,"OPTION",{});var gl=d(te);At=$(gl,"Request path"),gl.forEach(u),le=h(Be,"OPTION",{});var dl=d(le);Ot=$(dl,"Processing time"),dl.forEach(u),se=h(Be,"OPTION",{});var pl=d(se);Lt=$(pl,"Time"),pl.forEach(u),ae=h(Be,"OPTION",{});var vl=d(ae);yt=$(vl,"Request path"),vl.forEach(u),re=h(Be,"OPTION",{});var bl=d(re);$t=$(bl,"Duration"),bl.forEach(u),Be.forEach(u),Rt=A(Ye),ue=h(Ye,"SELECT",{name:!0,id:!0,class:!0});var Qt=d(ue);me=h(Qt,"OPTION",{});var El=d(me);Ft=$(El,"DESC [Z→A]"),El.forEach(u),ge=h(Qt,"OPTION",{});var Pl=d(ge);Mt=$(Pl,"ASC [A→Z]"),Pl.forEach(u),Qt.forEach(u),Ut=A(Ye),Te=h(Ye,"LABEL",{for:!0,class:!0});var kl=d(Te);_e.l(kl),kl.forEach(u),Ye.forEach(u),Tt.forEach(u),Ht=A(De),Le=h(De,"FIELDSET",{});var Ct=d(Le);ye=h(Ct,"H3",{class:!0,"data-svelte-h":!0}),he(ye)!=="svelte-kjwpiv"&&(ye.innerHTML=tl),Vt=A(Ct),ne=h(Ct,"INPUT",{type:!0,name:!0,id:!0,min:!0,max:!0,class:!0}),Ct.forEach(u),Bt=A(De),de=h(De,"FIELDSET",{});var Ge=d(de);$e=h(Ge,"H3",{class:!0,"data-svelte-h":!0}),he($e)!=="svelte-tzgpg7"&&($e.textContent=ll),jt=A(Ge),pe=h(Ge,"INPUT",{type:!0,name:!0,class:!0}),Zt=A(Ge),z&&z.l(Ge),Ge.forEach(u),De.forEach(u),ve.forEach(u),Kt=A(we),Ke=h(we,"SECTION",{class:!0});var Sl=d(Ke);ze=h(Sl,"ARTICLE",{class:!0});var wl=d(ze);Pe=h(wl,"TABLE",{class:!0});var Dt=d(Pe);Je=h(Dt,"THEAD",{class:!0});var Tl=d(Je);fe=h(Tl,"TR",{class:!0});var Xe=d(fe);ke.l(Xe),bt=A(Xe),Ce=h(Xe,"TH",{class:!0});var qt=d(Ce);Et=$(qt,et),zt=$(qt,"Request"),Pt=$(qt,tt),qt.forEach(u),Jt=A(Xe),Re=h(Xe,"TH",{class:!0});var Cl=d(Re);Se.l(Cl),Cl.forEach(u),Xe.forEach(u),Tl.forEach(u),Yt=A(Dt),J&&J.l(Dt),Dt.forEach(u),wl.forEach(u),Sl.forEach(u),Gt=A(we),V&&V.l(we),we.forEach(u),this.h()},h(){o(r,"class","svelte-6bc3mx"),o(S,"class","label svelte-6bc3mx"),o(p,"type","button"),o(p,"title","Saved filters presets"),o(p,"class","svelte-6bc3mx"),be(p,"active",t[7]),o(g,"class","label svelte-6bc3mx"),o(w,"href","/network"),o(w,"title","Reset filters"),o(w,"class","reset svelte-6bc3mx"),o(P,"class","svelte-6bc3mx"),o(i,"class","svelte-6bc3mx"),o(k,"class","presets content-context svelte-6bc3mx"),o(U,"class","toggle svelte-6bc3mx"),o(Q,"class","svelte-6bc3mx"),W.selected=I=t[9].url.searchParams.get("order_by")==="count",W.__value="count",oe(W,W.__value),W.hidden=Ze=!t[9].url.searchParams.get("aggregate")&&!t[4],te.selected=at=t[9].url.searchParams.get("order_by")==="http_request_path",te.__value="http_request_path",oe(te,te.__value),te.hidden=rt=!t[9].url.searchParams.get("aggregate")&&!t[4],le.selected=nt=t[9].url.searchParams.get("order_by")==="avg_target_processing_time",le.__value="avg_target_processing_time",oe(le,le.__value),le.hidden=ot=!t[9].url.searchParams.get("aggregate")&&!t[4],se.selected=it=t[9].url.searchParams.get("order_by")==="_timestamp"||!t[9].url.searchParams.get("order_by")&&!t[9].url.searchParams.get("aggregate"),se.__value="_timestamp",oe(se,se.__value),se.hidden=ut=t[9].url.searchParams.get("aggregate")||t[4],ae.selected=ct=t[9].url.searchParams.get("order_by")==="http_request_path",ae.__value="http_request_path",oe(ae,ae.__value),ae.hidden=_t=t[9].url.searchParams.get("aggregate")||t[4],re.selected=ft=t[9].url.searchParams.get("order_by")==="target_processing_time",re.__value="target_processing_time",oe(re,re.__value),re.hidden=ht=t[9].url.searchParams.get("aggregate")||t[4],o(Z,"name","order_by"),o(Z,"id","order_by"),o(Z,"class","svelte-6bc3mx"),me.__value="DESC",oe(me,me.__value),me.selected=mt=t[9].url.searchParams.get("order")==="DESC",ge.__value="ASC",oe(ge,ge.__value),ge.selected=gt=t[9].url.searchParams.get("order")==="ASC",o(ue,"name","order"),o(ue,"id","order"),o(ue,"class","svelte-6bc3mx"),o(Te,"for","order"),o(Te,"class","button svelte-6bc3mx"),o(ee,"class","svelte-6bc3mx"),o(Y,"class","sort svelte-6bc3mx"),o(ye,"class","svelte-6bc3mx"),o(ne,"type","date"),o(ne,"name","start_time"),o(ne,"id","start_time"),o(ne,"min",t[12].toISOString().split("T")[0]),o(ne,"max",t[11].toISOString().split("T")[0]),ne.value=pt=t[9].url.searchParams.get("start_time")||t[11].toISOString().split("T")[0],o(ne,"class","svelte-6bc3mx"),o($e,"class","svelte-6bc3mx"),o(pe,"type","text"),o(pe,"name","lb_status_codes"),o(pe,"class","svelte-6bc3mx"),o(L,"action",""),o(L,"id","filters"),o(L,"class","svelte-6bc3mx"),o(a,"class","filters svelte-6bc3mx"),o(Ce,"class","svelte-6bc3mx"),o(Re,"class","duration svelte-6bc3mx"),o(fe,"class","svelte-6bc3mx"),o(Je,"class","svelte-6bc3mx"),o(Pe,"class","svelte-6bc3mx"),o(ze,"class","content svelte-6bc3mx"),o(Ke,"class","container svelte-6bc3mx"),o(e,"class","page svelte-6bc3mx")},m(R,D){M(R,s,D),M(R,e,D),n(e,a),n(a,i),n(i,r),n(i,E),n(i,P),n(P,p),n(p,S),n(p,b),Ae(q,p,null),t[16](p),n(P,T),n(P,w),n(w,g),n(w,v),Ae(m,w,null),n(a,O),n(a,k),H&&H.m(k,null),t[18](k),n(a,ie),n(a,L),n(L,U),Ae(X,U,null),n(L,x),n(L,Y),n(Y,Q),n(Y,xe),n(Y,ee),n(ee,Z),n(Z,W),n(W,je),n(Z,te),n(te,At),n(Z,le),n(le,Ot),n(Z,se),n(se,Lt),n(Z,ae),n(ae,yt),n(Z,re),n(re,$t),t[20](Z),n(ee,Rt),n(ee,ue),n(ue,me),n(me,Ft),n(ue,ge),n(ge,Mt),t[22](ue),n(ee,Ut),n(ee,Te),Fe[ce].m(Te,null),n(L,Ht),n(L,Le),n(Le,ye),n(Le,Vt),n(Le,ne),n(L,Bt),n(L,de),n(de,$e),n(de,jt),n(de,pe),oe(pe,t[5]),n(de,Zt),z&&z.m(de,null),t[28](L),n(e,Kt),n(e,Ke),n(Ke,ze),n(ze,Pe),n(Pe,Je),n(Je,fe),ke.m(fe,null),n(fe,bt),n(fe,Ce),n(Ce,Et),n(Ce,zt),n(Ce,Pt),n(fe,Jt),n(fe,Re),Se.m(Re,null),n(Pe,Yt),J&&J.m(Pe,null),n(e,Gt),V&&V.m(e,null),t[29](e),F=!0,Xt||(sl=[Ee(p,"click",t[13]),Yl(j=us.call(null,k,t[17])),Ee(Z,"change",t[21]),Ee(ue,"change",t[23]),Ee(ne,"input",function(){Dl(t[1].requestSubmit())&&t[1].requestSubmit().apply(this,arguments)}),Ee(pe,"input",t[24])],Xt=!0)},p(R,D){var Me,Ue,He,Ve,lt;t=R,(!F||D[0]&1024)&&l!==(l="Logs"+((Me=t[10].online)!=null&&Me.MPKIT_URL?": "+t[10].online.MPKIT_URL.replace("https://",""):""))&&(document.title=l),(!F||D[0]&128)&&be(p,"active",t[7]),t[7]?H?(H.p(t,D),D[0]&128&&B(H,1)):(H=Rl(t),H.c(),B(H,1),H.m(k,null)):H&&(It(),K(H,1,1,()=>{H=null}),Nt()),j&&Dl(j.update)&&D[0]&384&&j.update.call(null,t[17]);const we={};D[0]&512&&(we.checked=t[9].url.searchParams.get("aggregate")),X.$set(we),(!F||D[0]&512&&I!==(I=t[9].url.searchParams.get("order_by")==="count"))&&(W.selected=I),(!F||D[0]&528&&Ze!==(Ze=!t[9].url.searchParams.get("aggregate")&&!t[4]))&&(W.hidden=Ze),(!F||D[0]&512&&at!==(at=t[9].url.searchParams.get("order_by")==="http_request_path"))&&(te.selected=at),(!F||D[0]&528&&rt!==(rt=!t[9].url.searchParams.get("aggregate")&&!t[4]))&&(te.hidden=rt),(!F||D[0]&512&&nt!==(nt=t[9].url.searchParams.get("order_by")==="avg_target_processing_time"))&&(le.selected=nt),(!F||D[0]&528&&ot!==(ot=!t[9].url.searchParams.get("aggregate")&&!t[4]))&&(le.hidden=ot),(!F||D[0]&512&&it!==(it=t[9].url.searchParams.get("order_by")==="_timestamp"||!t[9].url.searchParams.get("order_by")&&!t[9].url.searchParams.get("aggregate")))&&(se.selected=it),(!F||D[0]&528&&ut!==(ut=t[9].url.searchParams.get("aggregate")||t[4]))&&(se.hidden=ut),(!F||D[0]&512&&ct!==(ct=t[9].url.searchParams.get("order_by")==="http_request_path"))&&(ae.selected=ct),(!F||D[0]&528&&_t!==(_t=t[9].url.searchParams.get("aggregate")||t[4]))&&(ae.hidden=_t),(!F||D[0]&512&&ft!==(ft=t[9].url.searchParams.get("order_by")==="target_processing_time"))&&(re.selected=ft),(!F||D[0]&528&&ht!==(ht=t[9].url.searchParams.get("aggregate")||t[4]))&&(re.hidden=ht),(!F||D[0]&512&&mt!==(mt=t[9].url.searchParams.get("order")==="DESC"))&&(me.selected=mt),(!F||D[0]&512&&gt!==(gt=t[9].url.searchParams.get("order")==="ASC"))&&(ge.selected=gt);let ve=ce;ce=rl(t,D),ce!==ve&&(It(),K(Fe[ve],1,1,()=>{Fe[ve]=null}),Nt(),_e=Fe[ce],_e||(_e=Fe[ce]=al[ce](t),_e.c()),B(_e,1),_e.m(Te,null)),(!F||D[0]&512&&pt!==(pt=t[9].url.searchParams.get("start_time")||t[11].toISOString().split("T")[0]))&&(ne.value=pt),D[0]&32&&pe.value!==t[5]&&oe(pe,t[5]),(He=(Ue=t[10].networks)==null?void 0:Ue.aggs)!=null&&He.filters?z?z.p(t,D):(z=Fl(t),z.c(),z.m(de,null)):z&&(z.d(1),z=null),St!==(St=nl(t,D))&&(ke.d(1),ke=St(t),ke&&(ke.c(),ke.m(fe,bt))),(!F||D[0]&512)&&et!==(et=t[9].url.searchParams.get("aggregate")=="http_request_path"?"Aggregated ":"")&&G(Et,et),(!F||D[0]&512)&&tt!==(tt=t[9].url.searchParams.get("aggregate")=="http_request_path"?"s":"")&&G(Pt,tt),wt!==(wt=ol(t,D))&&(Se.d(1),Se=wt(t),Se&&(Se.c(),Se.m(Re,null))),(lt=(Ve=t[10].networks)==null?void 0:Ve.aggs)!=null&&lt.results?J?J.p(t,D):(J=Ul(t),J.c(),J.m(Pe,null)):J&&(J.d(1),J=null),t[9].params.id?V?(V.p(t,D),D[0]&512&&B(V,1)):(V=Vl(t),V.c(),B(V,1),V.m(e,null)):V&&(It(),K(V,1,1,()=>{V=null}),Nt())},i(R){F||(B(q.$$.fragment,R),B(m.$$.fragment,R),B(H),B(X.$$.fragment,R),B(_e),B(V),F=!0)},o(R){K(q.$$.fragment,R),K(m.$$.fragment,R),K(H),K(X.$$.fragment,R),K(_e),K(V),F=!1},d(R){R&&(u(s),u(e)),Oe(q),t[16](null),Oe(m),H&&H.d(),t[18](null),Oe(X),t[20](null),t[22](null),Fe[ce].d(),z&&z.d(),t[28](null),ke.d(),Se.d(),J&&J.d(),V&&V.d(),t[29](null),Xt=!1,el(sl)}}}function qs(t,l,s){var je;let e,a;ql(t,ns,I=>s(9,e=I)),ql(t,Wt,I=>s(10,a=I));let{$$slots:i={},$$scope:r}=l,c,E;const P=new Date,p=1e3*60*60*24,S=new Date(P-p*3);let _,b,q=!!e.url.searchParams.get("aggregated"),T=((je=e.url.searchParams.get("lb_status_codes"))==null?void 0:je.split(","))||[],w=!1,g=!1,C;function v(I){a.networks.aggs&&Nl(Wt,a.networks.aggs.results=[],a),os.get(I).then(Ze=>{Nl(Wt,a.networks=Ze,a)})}Gl(()=>{v(Object.fromEntries(e.url.searchParams))});let m=e.url.searchParams.toString();as(()=>{m=e.url.searchParams.toString()}),rs(()=>{var I;m!==e.url.searchParams.toString()&&(v(Object.fromEntries(e.url.searchParams)),m=e.url.searchParams.toString(),s(5,T=((I=e.url.searchParams.get("lb_status_codes"))==null?void 0:I.split(","))||[]))});function O(I){w.open?(w.close(),s(7,g=!1)):(w.show(),s(7,g=!0))}const k=[[]];function j(I){qe[I?"unshift":"push"](()=>{C=I,s(8,C)})}const ie=I=>g&&I.target!==C&&O();function L(I){qe[I?"unshift":"push"](()=>{w=I,s(6,w)})}const U=async I=>{s(4,q=!!I.target.checked),await Il(),s(2,_.value=I.target.checked?"count":"_timestamp",_),console.log(_.value),s(3,b.value="DESC",b),await Il(),E.requestSubmit()};function X(I){qe[I?"unshift":"push"](()=>{_=I,s(2,_)})}const x=()=>E.requestSubmit();function Y(I){qe[I?"unshift":"push"](()=>{b=I,s(3,b)})}const Q=()=>E.requestSubmit();function st(){T=this.value,s(5,T)}function xe(){T=ls(k[0],this.__value,this.checked),s(5,T)}const ee=()=>{E.requestSubmit()};function Z(I){qe[I?"unshift":"push"](()=>{E=I,s(1,E)})}function W(I){qe[I?"unshift":"push"](()=>{c=I,s(0,c)})}return t.$$set=I=>{"$$scope"in I&&s(14,r=I.$$scope)},[c,E,_,b,q,T,w,g,C,e,a,P,S,O,r,i,j,ie,L,U,X,x,Y,Q,st,xe,k,ee,Z,W]}class Us extends Zl{constructor(l){super(),Kl(this,l,qs,Ds,Bl,{},null,[-1,-1])}}export{Us as component};
