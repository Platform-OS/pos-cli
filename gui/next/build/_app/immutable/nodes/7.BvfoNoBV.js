import{s as Vl,e as f,a as N,c as h,b as d,g as A,z as he,f as i,y as u,i as M,h as n,B as Ee,N as Bl,D as xt,r as el,P as zl,t as y,d as $,j as G,G as qe,p as Jl,E as be,A as oe,X as Yl,F as Dl,k as ql,K as Gl,n as Xl,Y as Ql,l as Wl,u as xl,m as es,o as ts,V as Il,Z as ls,C as Nl}from"../chunks/scheduler.DdW0MO6w.js";import{S as Zl,i as Kl,c as Ie,b as Ne,m as Ae,t as V,g as It,d as Nt,a as K,e as Oe}from"../chunks/index.BTckFgzM.js";import{e as Qe}from"../chunks/each.urgsHadt.js";import{o as ss,b as as,a as rs}from"../chunks/entry.C1USCAwV.js";import{p as ns}from"../chunks/stores.D33HbmPu.js";import{n as os}from"../chunks/network.Cknw5b9z.js";import{s as Wt}from"../chunks/state.mwpI3R5m.js";import{T as us,c as is}from"../chunks/Toggle.CUU0exDl.js";import{I as We}from"../chunks/Icon.F6azEFTC.js";import{g as cs}from"../chunks/globals.D0QH3NT1.js";const{window:_s}=cs;function Al(t,l,s){const e=t.slice();return e[9]=l[s],e[11]=s,e}function Ol(t){let l,s,e=t[9].name+"",a,o,r,c,E,k,p,S,_,b,q,T,w=t[9].name+"",g,C,v,m,O,P,B,ue;return m=new We({props:{icon:"x"}}),{c(){l=f("li"),s=f("a"),a=y(e),r=N(),c=f("form"),E=f("input"),k=N(),p=f("input"),_=N(),b=f("button"),q=f("span"),T=y("Delete '"),g=y(w),C=y("' preset"),v=N(),Ie(m.$$.fragment),O=N(),this.h()},l(L){l=h(L,"LI",{class:!0});var U=d(l);s=h(U,"A",{href:!0,class:!0});var X=d(s);a=$(X,e),X.forEach(i),r=A(U),c=h(U,"FORM",{class:!0});var x=d(c);E=h(x,"INPUT",{type:!0,name:!0}),k=A(x),p=h(x,"INPUT",{type:!0,name:!0}),_=A(x),b=h(x,"BUTTON",{type:!0,class:!0});var Y=d(b);q=h(Y,"SPAN",{class:!0});var Q=d(q);T=$(Q,"Delete '"),g=$(Q,w),C=$(Q,"' preset"),Q.forEach(i),v=A(Y),Ne(m.$$.fragment,Y),Y.forEach(i),x.forEach(i),O=A(U),U.forEach(i),this.h()},h(){u(s,"href",o="/network?"+t[9].url),u(s,"class","svelte-k71uj7"),u(E,"type","hidden"),u(E,"name","id"),E.value=t[11],u(p,"type","hidden"),u(p,"name","name"),p.value=S=t[9].name,u(q,"class","label"),u(b,"type","submit"),u(b,"class","svelte-k71uj7"),u(c,"class","svelte-k71uj7"),u(l,"class","svelte-k71uj7")},m(L,U){M(L,l,U),n(l,s),n(s,a),n(l,r),n(l,c),n(c,E),n(c,k),n(c,p),n(c,_),n(c,b),n(b,q),n(q,T),n(q,g),n(q,C),n(b,v),Ae(m,b,null),n(l,O),P=!0,B||(ue=Ee(c,"submit",Bl(t[5])),B=!0)},p(L,U){(!P||U&4)&&e!==(e=L[9].name+"")&&G(a,e),(!P||U&4&&o!==(o="/network?"+L[9].url))&&u(s,"href",o),(!P||U&4&&S!==(S=L[9].name))&&(p.value=S),(!P||U&4)&&w!==(w=L[9].name+"")&&G(g,w)},i(L){P||(V(m.$$.fragment,L),P=!0)},o(L){K(m.$$.fragment,L),P=!1},d(L){L&&i(l),Oe(m),B=!1,ue()}}}function Ll(t){let l,s="You can save your current filters selection to get back to them quickly in the future.";return{c(){l=f("div"),l.textContent=s,this.h()},l(e){l=h(e,"DIV",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-14bf7on"&&(l.textContent=s),this.h()},h(){u(l,"class","message svelte-k71uj7")},m(e,a){M(e,l,a)},d(e){e&&i(l)}}}function fs(t){let l,s,e,a,o,r,c="Save currently selected filters as new preset",E,k,p,S,_,b,q,T;k=new We({props:{icon:"plus"}});let w=Qe(t[2]),g=[];for(let m=0;m<w.length;m+=1)g[m]=Ol(Al(t,w,m));const C=m=>K(g[m],1,1,()=>{g[m]=null});let v=!t[2].length&&Ll();return{c(){l=f("div"),s=f("form"),e=f("input"),a=N(),o=f("button"),r=f("span"),r.textContent=c,E=N(),Ie(k.$$.fragment),p=N(),S=f("ul");for(let m=0;m<g.length;m+=1)g[m].c();_=N(),v&&v.c(),this.h()},l(m){l=h(m,"DIV",{});var O=d(l);s=h(O,"FORM",{class:!0});var P=d(s);e=h(P,"INPUT",{type:!0,placeholder:!0,class:!0}),a=A(P),o=h(P,"BUTTON",{type:!0,class:!0});var B=d(o);r=h(B,"SPAN",{class:!0,"data-svelte-h":!0}),he(r)!=="svelte-2dhljl"&&(r.textContent=c),E=A(B),Ne(k.$$.fragment,B),B.forEach(i),P.forEach(i),p=A(O),S=h(O,"UL",{});var ue=d(S);for(let L=0;L<g.length;L+=1)g[L].l(ue);ue.forEach(i),_=A(O),v&&v.l(O),O.forEach(i),this.h()},h(){u(e,"type","text"),e.required=!0,u(e,"placeholder","Save current view"),u(e,"class","svelte-k71uj7"),u(r,"class","label svelte-k71uj7"),u(o,"type","submit"),u(o,"class","svelte-k71uj7"),u(s,"class","create svelte-k71uj7")},m(m,O){M(m,l,O),n(l,s),n(s,e),t[6](e),n(s,a),n(s,o),n(o,r),n(o,E),Ae(k,o,null),n(l,p),n(l,S);for(let P=0;P<g.length;P+=1)g[P]&&g[P].m(S,null);n(l,_),v&&v.m(l,null),t[7](l),b=!0,q||(T=[Ee(_s,"keydown",t[3]),Ee(s,"submit",Bl(t[4]))],q=!0)},p(m,[O]){if(O&36){w=Qe(m[2]);let P;for(P=0;P<w.length;P+=1){const B=Al(m,w,P);g[P]?(g[P].p(B,O),V(g[P],1)):(g[P]=Ol(B),g[P].c(),V(g[P],1),g[P].m(S,null))}for(It(),P=w.length;P<g.length;P+=1)C(P);Nt()}m[2].length?v&&(v.d(1),v=null):v||(v=Ll(),v.c(),v.m(l,null))},i(m){if(!b){V(k.$$.fragment,m);for(let O=0;O<w.length;O+=1)V(g[O]);b=!0}},o(m){K(k.$$.fragment,m),g=g.filter(Boolean);for(let O=0;O<g.length;O+=1)K(g[O]);b=!1},d(m){m&&i(l),t[6](null),Oe(k),xt(g,m),v&&v.d(),t[7](null),q=!1,el(T)}}}function hs(t,l,s){let e,a,o=localStorage.posNetworkLogsPresets&&JSON.parse(localStorage.posNetworkLogsPresets)||[{url:"order_by=target_processing_time&order=DESC",name:"Slowest requests"},{url:"aggregate=http_request_path&order_by=avg_target_processing_time&order=DESC",name:"Aggregated slowest requests"},{url:"order_by=_timestamp&order=DESC&lb_status_codes=400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,420,421,422,423,424,425,426,427,428,429,431,451",name:"Responded with 4∗∗ error"},{url:"order_by=_timestamp&order=DESC&lb_status_codes=500,501,502,503,504,505,506,507,508,510,511",name:"Responded with 5∗∗ error"}];const r=zl();function c(_){var b,q,T,w,g,C,v,m,O,P;_.key==="Escape"?r("close"):_.key==="ArrowDown"?e.contains(document.activeElement)?(_.preventDefault(),document.activeElement.matches("input")?(b=e.querySelector("a"))==null||b.focus():(g=(w=(T=(q=document.activeElement)==null?void 0:q.closest("li"))==null?void 0:T.nextElementSibling)==null?void 0:w.querySelector("a"))==null||g.focus()):e.querySelector("li a").focus():_.key==="ArrowUp"?e.contains(document.activeElement)?(_.preventDefault(),(C=document.activeElement)!=null&&C.matches("li:first-child a")?a.focus():(P=(O=(m=(v=document.activeElement)==null?void 0:v.closest("li"))==null?void 0:m.previousElementSibling)==null?void 0:O.querySelector("a"))==null||P.focus()):e.querySelector("li:last-child a").focus():_.key==="Delete"&&e.contains(document.activeElement)&&document.activeElement.matches("a")&&document.activeElement.closest("li").querySelector("form").requestSubmit()}ss(()=>{r("close")});function E(_){let b=new URLSearchParams(document.location.search);b.delete("start_time"),s(2,o=[...o,{url:b.toString(),name:a.value}]),localStorage.posNetworkLogsPresets=JSON.stringify(o)}function k(_){const b=new FormData(_.target),q=b.get("id"),T=b.get("name");window.confirm(`Are you sure that you want to delete '${T}' preset?`)&&(o.splice(q,1),s(2,o),localStorage.posNetworkLogsPresets=JSON.stringify(o))}function p(_){qe[_?"unshift":"push"](()=>{a=_,s(1,a)})}function S(_){qe[_?"unshift":"push"](()=>{e=_,s(0,e)})}return[e,a,o,c,E,k,p,S]}class ms extends Zl{constructor(l){super(),Kl(this,l,hs,fs,Vl,{})}}function yl(t,l,s){const e=t.slice();return e[33]=l[s],e}function $l(t,l,s){const e=t.slice();return e[36]=l[s],e}function Rl(t){let l,s;return l=new ms({}),l.$on("close",t[13]),{c(){Ie(l.$$.fragment)},l(e){Ne(l.$$.fragment,e)},m(e,a){Ae(l,e,a),s=!0},p:Xl,i(e){s||(V(l.$$.fragment,e),s=!0)},o(e){K(l.$$.fragment,e),s=!1},d(e){Oe(l,e)}}}function gs(t){let l,s;return l=new We({props:{icon:"sortAZ"}}),{c(){Ie(l.$$.fragment)},l(e){Ne(l.$$.fragment,e)},m(e,a){Ae(l,e,a),s=!0},i(e){s||(V(l.$$.fragment,e),s=!0)},o(e){K(l.$$.fragment,e),s=!1},d(e){Oe(l,e)}}}function ds(t){let l,s;return l=new We({props:{icon:"sortZA"}}),{c(){Ie(l.$$.fragment)},l(e){Ne(l.$$.fragment,e)},m(e,a){Ae(l,e,a),s=!0},i(e){s||(V(l.$$.fragment,e),s=!0)},o(e){K(l.$$.fragment,e),s=!1},d(e){Oe(l,e)}}}function Fl(t){let l,s=Qe(t[10].networks.aggs.filters),e=[];for(let a=0;a<s.length;a+=1)e[a]=Ml($l(t,s,a));return{c(){l=f("ul");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){l=h(a,"UL",{class:!0});var o=d(l);for(let r=0;r<e.length;r+=1)e[r].l(o);o.forEach(i),this.h()},h(){u(l,"class","separated svelte-6bc3mx")},m(a,o){M(a,l,o);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(l,null)},p(a,o){if(o[0]&1058){s=Qe(a[10].networks.aggs.filters);let r;for(r=0;r<s.length;r+=1){const c=$l(a,s,r);e[r]?e[r].p(c,o):(e[r]=Ml(c),e[r].c(),e[r].m(l,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=s.length}},d(a){a&&i(l),xt(e,a)}}}function Ml(t){let l,s,e,a,o=!1,r,c=t[36].lb_status_code+"",E,k,p,S=t[36].count+"",_,b,q,T,w;return q=Ql(t[26][0]),{c(){l=f("li"),s=f("label"),e=f("input"),r=N(),E=y(c),k=N(),p=f("small"),_=y(S),b=N(),this.h()},l(g){l=h(g,"LI",{class:!0});var C=d(l);s=h(C,"LABEL",{class:!0});var v=d(s);e=h(v,"INPUT",{form:!0,type:!0}),r=A(v),E=$(v,c),v.forEach(i),k=A(C),p=h(C,"SMALL",{class:!0});var m=d(p);_=$(m,S),m.forEach(i),b=A(C),C.forEach(i),this.h()},h(){u(e,"form","none"),u(e,"type","checkbox"),e.__value=a=t[36].lb_status_code.toString(),oe(e,e.__value),u(s,"class","svelte-6bc3mx"),u(p,"class","svelte-6bc3mx"),u(l,"class","svelte-6bc3mx"),q.p(e)},m(g,C){M(g,l,C),n(l,s),n(s,e),e.checked=~(t[5]||[]).indexOf(e.__value),n(s,r),n(s,E),n(l,k),n(l,p),n(p,_),n(l,b),T||(w=[Ee(e,"change",t[25]),Ee(e,"change",t[27])],T=!0)},p(g,C){C[0]&1024&&a!==(a=g[36].lb_status_code.toString())&&(e.__value=a,oe(e,e.__value),o=!0),(o||C[0]&1056)&&(e.checked=~(g[5]||[]).indexOf(e.__value)),C[0]&1024&&c!==(c=g[36].lb_status_code+"")&&G(E,c),C[0]&1024&&S!==(S=g[36].count+"")&&G(_,S)},d(g){g&&i(l),q.r(),T=!1,el(w)}}}function ps(t){let l,s="Time",e,a,o="Status";return{c(){l=f("th"),l.textContent=s,e=N(),a=f("th"),a.textContent=o,this.h()},l(r){l=h(r,"TH",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-17osfxn"&&(l.textContent=s),e=A(r),a=h(r,"TH",{class:!0,"data-svelte-h":!0}),he(a)!=="svelte-bi34jg"&&(a.textContent=o),this.h()},h(){u(l,"class","svelte-6bc3mx"),u(a,"class","svelte-6bc3mx")},m(r,c){M(r,l,c),M(r,e,c),M(r,a,c)},d(r){r&&(i(l),i(e),i(a))}}}function vs(t){let l,s="Count";return{c(){l=f("th"),l.textContent=s,this.h()},l(e){l=h(e,"TH",{class:!0,"data-svelte-h":!0}),he(l)!=="svelte-1i23ozd"&&(l.textContent=s),this.h()},h(){u(l,"class","svelte-6bc3mx")},m(e,a){M(e,l,a)},d(e){e&&i(l)}}}function bs(t){let l;return{c(){l=y("Avg Processing Time")},l(s){l=$(s,"Avg Processing Time")},m(s,e){M(s,l,e)},d(s){s&&i(l)}}}function Es(t){let l;return{c(){l=y("Duration")},l(s){l=$(s,"Duration")},m(s,e){M(s,l,e)},d(s){s&&i(l)}}}function Ul(t){let l,s=Qe(t[10].networks.aggs.results),e=[];for(let a=0;a<s.length;a+=1)e[a]=jl(yl(t,s,a));return{c(){l=f("tbody");for(let a=0;a<e.length;a+=1)e[a].c()},l(a){l=h(a,"TBODY",{});var o=d(l);for(let r=0;r<e.length;r+=1)e[r].l(o);o.forEach(i)},m(a,o){M(a,l,o);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(l,null)},p(a,o){if(o[0]&1536){s=Qe(a[10].networks.aggs.results);let r;for(r=0;r<s.length;r+=1){const c=yl(a,s,r);e[r]?e[r].p(c,o):(e[r]=jl(c),e[r].c(),e[r].m(l,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=s.length}},d(a){a&&i(l),xt(e,a)}}}function ks(t){let l,s,e=new Date(t[33]._timestamp/1e3).toLocaleString()+"",a,o,r,c,E,k=t[33].lb_status_code+"",p,S;return{c(){l=f("td"),s=f("a"),a=y(e),r=N(),c=f("td"),E=f("a"),p=y(k),this.h()},l(_){l=h(_,"TD",{class:!0});var b=d(l);s=h(b,"A",{href:!0,class:!0});var q=d(s);a=$(q,e),q.forEach(i),b.forEach(i),r=A(_),c=h(_,"TD",{class:!0});var T=d(c);E=h(T,"A",{href:!0,class:!0});var w=d(E);p=$(w,k),w.forEach(i),T.forEach(i),this.h()},h(){u(s,"href",o="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),u(s,"class","svelte-6bc3mx"),u(l,"class","time svelte-6bc3mx"),u(E,"href",S="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),u(E,"class","svelte-6bc3mx"),u(c,"class","status svelte-6bc3mx"),be(c,"success",t[33].lb_status_code>=200&&t[33].lb_status_code<300),be(c,"info",t[33].lb_status_code>=300&&t[33].lb_status_code<400),be(c,"error",t[33].lb_status_code>=400&&t[33].lb_status_code<600)},m(_,b){M(_,l,b),n(l,s),n(s,a),M(_,r,b),M(_,c,b),n(c,E),n(E,p)},p(_,b){b[0]&1024&&e!==(e=new Date(_[33]._timestamp/1e3).toLocaleString()+"")&&G(a,e),b[0]&1536&&o!==(o="/network/"+_[33]._timestamp+"?"+_[9].url.searchParams.toString())&&u(s,"href",o),b[0]&1024&&k!==(k=_[33].lb_status_code+"")&&G(p,k),b[0]&1536&&S!==(S="/network/"+_[33]._timestamp+"?"+_[9].url.searchParams.toString())&&u(E,"href",S),b[0]&1024&&be(c,"success",_[33].lb_status_code>=200&&_[33].lb_status_code<300),b[0]&1024&&be(c,"info",_[33].lb_status_code>=300&&_[33].lb_status_code<400),b[0]&1024&&be(c,"error",_[33].lb_status_code>=400&&_[33].lb_status_code<600)},d(_){_&&(i(l),i(r),i(c))}}}function Ps(t){let l,s,e=t[33].count+"",a;return{c(){l=f("td"),s=f("div"),a=y(e),this.h()},l(o){l=h(o,"TD",{class:!0});var r=d(l);s=h(r,"DIV",{class:!0});var c=d(s);a=$(c,e),c.forEach(i),r.forEach(i),this.h()},h(){u(s,"class","svelte-6bc3mx"),u(l,"class","count svelte-6bc3mx")},m(o,r){M(o,l,r),n(l,s),n(s,a)},p(o,r){r[0]&1024&&e!==(e=o[33].count+"")&&G(a,e)},d(o){o&&i(l)}}}function Ss(t){let l,s,e=t[33].http_request_method+"",a,o,r=t[33].http_request_path+"",c;return{c(){l=f("div"),s=f("span"),a=y(e),o=N(),c=y(r),this.h()},l(E){l=h(E,"DIV",{class:!0});var k=d(l);s=h(k,"SPAN",{class:!0});var p=d(s);a=$(p,e),p.forEach(i),o=A(k),c=$(k,r),k.forEach(i),this.h()},h(){u(s,"class","method svelte-6bc3mx"),u(l,"class","svelte-6bc3mx")},m(E,k){M(E,l,k),n(l,s),n(s,a),n(l,o),n(l,c)},p(E,k){k[0]&1024&&e!==(e=E[33].http_request_method+"")&&G(a,e),k[0]&1024&&r!==(r=E[33].http_request_path+"")&&G(c,r)},d(E){E&&i(l)}}}function ws(t){let l,s,e,a=t[33].http_request_method+"",o,r,c=t[33].http_request_path+"",E,k;return{c(){l=f("a"),s=f("div"),e=f("span"),o=y(a),r=N(),E=y(c),this.h()},l(p){l=h(p,"A",{href:!0,class:!0});var S=d(l);s=h(S,"DIV",{class:!0});var _=d(s);e=h(_,"SPAN",{class:!0});var b=d(e);o=$(b,a),b.forEach(i),r=A(_),E=$(_,c),_.forEach(i),S.forEach(i),this.h()},h(){u(e,"class","method svelte-6bc3mx"),u(s,"class","svelte-6bc3mx"),u(l,"href",k="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),u(l,"class","svelte-6bc3mx")},m(p,S){M(p,l,S),n(l,s),n(s,e),n(e,o),n(s,r),n(s,E)},p(p,S){S[0]&1024&&a!==(a=p[33].http_request_method+"")&&G(o,a),S[0]&1024&&c!==(c=p[33].http_request_path+"")&&G(E,c),S[0]&1536&&k!==(k="/network/"+p[33]._timestamp+"?"+p[9].url.searchParams.toString())&&u(l,"href",k)},d(p){p&&i(l)}}}function Ts(t){let l,s=Math.round((parseFloat(t[33].avg_target_processing_time)+Number.EPSILON)*1e3)/1e3+"",e,a;return{c(){l=f("div"),e=y(s),a=y("s"),this.h()},l(o){l=h(o,"DIV",{class:!0});var r=d(l);e=$(r,s),a=$(r,"s"),r.forEach(i),this.h()},h(){u(l,"class","svelte-6bc3mx")},m(o,r){M(o,l,r),n(l,e),n(l,a)},p(o,r){r[0]&1024&&s!==(s=Math.round((parseFloat(o[33].avg_target_processing_time)+Number.EPSILON)*1e3)/1e3+"")&&G(e,s)},d(o){o&&i(l)}}}function Cs(t){let l,s=Math.round((parseFloat(t[33].request_processing_time)+parseFloat(t[33].target_processing_time)+Number.EPSILON)*1e3)/1e3+"",e,a,o;return{c(){l=f("a"),e=y(s),a=y("s"),this.h()},l(r){l=h(r,"A",{href:!0,class:!0});var c=d(l);e=$(c,s),a=$(c,"s"),c.forEach(i),this.h()},h(){u(l,"href",o="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),u(l,"class","svelte-6bc3mx")},m(r,c){M(r,l,c),n(l,e),n(l,a)},p(r,c){c[0]&1024&&s!==(s=Math.round((parseFloat(r[33].request_processing_time)+parseFloat(r[33].target_processing_time)+Number.EPSILON)*1e3)/1e3+"")&&G(e,s),c[0]&1536&&o!==(o="/network/"+r[33]._timestamp+"?"+r[9].url.searchParams.toString())&&u(l,"href",o)},d(r){r&&i(l)}}}function jl(t){let l,s,e,a,o,r,c,E,k;function p(v,m){return m[0]&512&&(s=null),s==null&&(s=!!v[9].url.searchParams.get("aggregate")),s?Ps:ks}let S=p(t,[-1,-1]),_=S(t);function b(v,m){return m[0]&512&&(o=null),o==null&&(o=!v[9].url.searchParams.get("aggregate")),o?ws:Ss}let q=b(t,[-1,-1]),T=q(t);function w(v,m){return m[0]&512&&(E=null),E==null&&(E=!v[9].url.searchParams.get("aggregate")),E?Cs:Ts}let g=w(t,[-1,-1]),C=g(t);return{c(){l=f("tr"),_.c(),e=N(),a=f("td"),T.c(),r=N(),c=f("td"),C.c(),k=N(),this.h()},l(v){l=h(v,"TR",{class:!0});var m=d(l);_.l(m),e=A(m),a=h(m,"TD",{class:!0});var O=d(a);T.l(O),O.forEach(i),r=A(m),c=h(m,"TD",{class:!0});var P=d(c);C.l(P),P.forEach(i),k=A(m),m.forEach(i),this.h()},h(){u(a,"class","request svelte-6bc3mx"),u(c,"class","duration svelte-6bc3mx"),u(l,"class","svelte-6bc3mx"),be(l,"active",t[33]._timestamp&&t[9].params.id==t[33]._timestamp)},m(v,m){M(v,l,m),_.m(l,null),n(l,e),n(l,a),T.m(a,null),n(l,r),n(l,c),C.m(c,null),n(l,k)},p(v,m){S===(S=p(v,m))&&_?_.p(v,m):(_.d(1),_=S(v),_&&(_.c(),_.m(l,e))),q===(q=b(v,m))&&T?T.p(v,m):(T.d(1),T=q(v),T&&(T.c(),T.m(a,null))),g===(g=w(v,m))&&C?C.p(v,m):(C.d(1),C=g(v),C&&(C.c(),C.m(c,null))),m[0]&1536&&be(l,"active",v[33]._timestamp&&v[9].params.id==v[33]._timestamp)},d(v){v&&i(l),_.d(),T.d(),C.d()}}}function Hl(t){let l;const s=t[15].default,e=Wl(s,t,t[14],null);return{c(){e&&e.c()},l(a){e&&e.l(a)},m(a,o){e&&e.m(a,o),l=!0},p(a,o){e&&e.p&&(!l||o[0]&16384)&&xl(e,s,a,a[14],l?ts(s,a[14],o,null):es(a[14]),null)},i(a){l||(V(e,a),l=!0)},o(a){K(e,a),l=!1},d(a){e&&e.d(a)}}}function Ds(t){var ul,il,cl,_l,fl;let l,s,e,a,o,r,c="Filters",E,k,p,S,_="Choose filters preset",b,q,T,w,g,C="Reset",v,m,O,P,B,ue,L,U,X,x,Y,Q,st='<label for="order_by" class="svelte-6bc3mx">Sorting</label>',xe,ee,Z,W,Be,I,Ze,te,At,at,rt,le,Ot,nt,ot,se,Lt,ut,it,ae,yt,ct,_t,re,$t,ft,ht,Rt,ie,me,Ft,mt,ge,Mt,gt,Ut,Te,dt,ce,_e,jt,Le,ye,tl='<label for="start_time" class="svelte-6bc3mx">Time limit</label>',Ht,ne,pt,Vt,de,$e,ll="Status Code",Bt,pe,Zt,Kt,Ke,ze,ke,Je,fe,vt,bt,Ce,et=t[9].url.searchParams.get("aggregate")=="http_request_path"?"Aggregated ":"",Et,zt,tt=t[9].url.searchParams.get("aggregate")=="http_request_path"?"s":"",kt,Jt,Re,Pt,Yt,Gt,F,Xt,sl;document.title=l="Logs"+((ul=t[10].online)!=null&&ul.MPKIT_URL?": "+t[10].online.MPKIT_URL.replace("https://",""):""),q=new We({props:{icon:"controlls"}}),m=new We({props:{icon:"disable"}});let j=t[7]&&Rl(t);X=new us({props:{name:"aggregate",options:[{value:"http_request_path",label:"Aggregate requests"}],checked:t[9].url.searchParams.get("aggregate")}}),X.$on("change",t[19]);const al=[ds,gs],Fe=[];function rl(R,D){return D[0]&512&&(dt=null),dt==null&&(dt=R[9].url.searchParams.get("order")==="DESC"||!R[9].url.searchParams.get("order")),dt?0:1}ce=rl(t,[-1,-1]),_e=Fe[ce]=al[ce](t);let z=((cl=(il=t[10].networks)==null?void 0:il.aggs)==null?void 0:cl.filters)&&Fl(t);function nl(R,D){return D[0]&512&&(vt=null),vt==null&&(vt=!!R[9].url.searchParams.get("aggregate")),vt?vs:ps}let St=nl(t,[-1,-1]),Pe=St(t);function ol(R,D){return D[0]&512&&(Pt=null),Pt==null&&(Pt=!R[9].url.searchParams.get("aggregate")),Pt?Es:bs}let wt=ol(t,[-1,-1]),Se=wt(t),J=((fl=(_l=t[10].networks)==null?void 0:_l.aggs)==null?void 0:fl.results)&&Ul(t),H=t[9].params.id&&Hl(t);return{c(){s=N(),e=f("div"),a=f("nav"),o=f("header"),r=f("h2"),r.textContent=c,E=N(),k=f("nav"),p=f("button"),S=f("span"),S.textContent=_,b=N(),Ie(q.$$.fragment),T=N(),w=f("a"),g=f("span"),g.textContent=C,v=N(),Ie(m.$$.fragment),O=N(),P=f("dialog"),j&&j.c(),ue=N(),L=f("form"),U=f("fieldset"),Ie(X.$$.fragment),x=N(),Y=f("fieldset"),Q=f("h3"),Q.innerHTML=st,xe=N(),ee=f("div"),Z=f("select"),W=f("option"),Be=y("Count"),te=f("option"),At=y("Request path"),le=f("option"),Ot=y("Processing time"),se=f("option"),Lt=y("Time"),ae=f("option"),yt=y("Request path"),re=f("option"),$t=y("Duration"),Rt=N(),ie=f("select"),me=f("option"),Ft=y("DESC [Z→A]"),ge=f("option"),Mt=y("ASC [A→Z]"),Ut=N(),Te=f("label"),_e.c(),jt=N(),Le=f("fieldset"),ye=f("h3"),ye.innerHTML=tl,Ht=N(),ne=f("input"),Vt=N(),de=f("fieldset"),$e=f("h3"),$e.textContent=ll,Bt=N(),pe=f("input"),Zt=N(),z&&z.c(),Kt=N(),Ke=f("section"),ze=f("article"),ke=f("table"),Je=f("thead"),fe=f("tr"),Pe.c(),bt=N(),Ce=f("th"),Et=y(et),zt=y("Request"),kt=y(tt),Jt=N(),Re=f("th"),Se.c(),Yt=N(),J&&J.c(),Gt=N(),H&&H.c(),this.h()},l(R){Jl("svelte-dfdkqr",document.head).forEach(i),s=A(R),e=h(R,"DIV",{class:!0});var we=d(e);a=h(we,"NAV",{class:!0});var ve=d(a);o=h(ve,"HEADER",{class:!0});var Me=d(o);r=h(Me,"H2",{class:!0,"data-svelte-h":!0}),he(r)!=="svelte-1ydm89n"&&(r.textContent=c),E=A(Me),k=h(Me,"NAV",{class:!0});var Ue=d(k);p=h(Ue,"BUTTON",{type:!0,title:!0,class:!0});var je=d(p);S=h(je,"SPAN",{class:!0,"data-svelte-h":!0}),he(S)!=="svelte-p09m9k"&&(S.textContent=_),b=A(je),Ne(q.$$.fragment,je),je.forEach(i),T=A(Ue),w=h(Ue,"A",{href:!0,title:!0,class:!0});var He=d(w);g=h(He,"SPAN",{class:!0,"data-svelte-h":!0}),he(g)!=="svelte-1c96jh2"&&(g.textContent=C),v=A(He),Ne(m.$$.fragment,He),He.forEach(i),Ue.forEach(i),Me.forEach(i),O=A(ve),P=h(ve,"DIALOG",{class:!0});var lt=d(P);j&&j.l(lt),lt.forEach(i),ue=A(ve),L=h(ve,"FORM",{action:!0,id:!0,class:!0});var De=d(L);U=h(De,"FIELDSET",{class:!0});var hl=d(U);Ne(X.$$.fragment,hl),hl.forEach(i),x=A(De),Y=h(De,"FIELDSET",{class:!0});var Tt=d(Y);Q=h(Tt,"H3",{class:!0,"data-svelte-h":!0}),he(Q)!=="svelte-e2rbyt"&&(Q.innerHTML=st),xe=A(Tt),ee=h(Tt,"DIV",{class:!0});var Ye=d(ee);Z=h(Ye,"SELECT",{name:!0,id:!0,class:!0});var Ve=d(Z);W=h(Ve,"OPTION",{});var ml=d(W);Be=$(ml,"Count"),ml.forEach(i),te=h(Ve,"OPTION",{});var gl=d(te);At=$(gl,"Request path"),gl.forEach(i),le=h(Ve,"OPTION",{});var dl=d(le);Ot=$(dl,"Processing time"),dl.forEach(i),se=h(Ve,"OPTION",{});var pl=d(se);Lt=$(pl,"Time"),pl.forEach(i),ae=h(Ve,"OPTION",{});var vl=d(ae);yt=$(vl,"Request path"),vl.forEach(i),re=h(Ve,"OPTION",{});var bl=d(re);$t=$(bl,"Duration"),bl.forEach(i),Ve.forEach(i),Rt=A(Ye),ie=h(Ye,"SELECT",{name:!0,id:!0,class:!0});var Qt=d(ie);me=h(Qt,"OPTION",{});var El=d(me);Ft=$(El,"DESC [Z→A]"),El.forEach(i),ge=h(Qt,"OPTION",{});var kl=d(ge);Mt=$(kl,"ASC [A→Z]"),kl.forEach(i),Qt.forEach(i),Ut=A(Ye),Te=h(Ye,"LABEL",{for:!0,class:!0});var Pl=d(Te);_e.l(Pl),Pl.forEach(i),Ye.forEach(i),Tt.forEach(i),jt=A(De),Le=h(De,"FIELDSET",{});var Ct=d(Le);ye=h(Ct,"H3",{class:!0,"data-svelte-h":!0}),he(ye)!=="svelte-kjwpiv"&&(ye.innerHTML=tl),Ht=A(Ct),ne=h(Ct,"INPUT",{type:!0,name:!0,id:!0,min:!0,max:!0,class:!0}),Ct.forEach(i),Vt=A(De),de=h(De,"FIELDSET",{});var Ge=d(de);$e=h(Ge,"H3",{class:!0,"data-svelte-h":!0}),he($e)!=="svelte-tzgpg7"&&($e.textContent=ll),Bt=A(Ge),pe=h(Ge,"INPUT",{type:!0,name:!0,class:!0}),Zt=A(Ge),z&&z.l(Ge),Ge.forEach(i),De.forEach(i),ve.forEach(i),Kt=A(we),Ke=h(we,"SECTION",{class:!0});var Sl=d(Ke);ze=h(Sl,"ARTICLE",{class:!0});var wl=d(ze);ke=h(wl,"TABLE",{class:!0});var Dt=d(ke);Je=h(Dt,"THEAD",{class:!0});var Tl=d(Je);fe=h(Tl,"TR",{class:!0});var Xe=d(fe);Pe.l(Xe),bt=A(Xe),Ce=h(Xe,"TH",{class:!0});var qt=d(Ce);Et=$(qt,et),zt=$(qt,"Request"),kt=$(qt,tt),qt.forEach(i),Jt=A(Xe),Re=h(Xe,"TH",{class:!0});var Cl=d(Re);Se.l(Cl),Cl.forEach(i),Xe.forEach(i),Tl.forEach(i),Yt=A(Dt),J&&J.l(Dt),Dt.forEach(i),wl.forEach(i),Sl.forEach(i),Gt=A(we),H&&H.l(we),we.forEach(i),this.h()},h(){u(r,"class","svelte-6bc3mx"),u(S,"class","label svelte-6bc3mx"),u(p,"type","button"),u(p,"title","Saved filters presets"),u(p,"class","svelte-6bc3mx"),be(p,"active",t[7]),u(g,"class","label svelte-6bc3mx"),u(w,"href","/network"),u(w,"title","Reset filters"),u(w,"class","reset svelte-6bc3mx"),u(k,"class","svelte-6bc3mx"),u(o,"class","svelte-6bc3mx"),u(P,"class","presets content-context svelte-6bc3mx"),u(U,"class","toggle svelte-6bc3mx"),u(Q,"class","svelte-6bc3mx"),W.selected=I=t[9].url.searchParams.get("order_by")==="count",W.__value="count",oe(W,W.__value),W.hidden=Ze=!t[9].url.searchParams.get("aggregate")&&!t[4],te.selected=at=t[9].url.searchParams.get("order_by")==="http_request_path",te.__value="http_request_path",oe(te,te.__value),te.hidden=rt=!t[9].url.searchParams.get("aggregate")&&!t[4],le.selected=nt=t[9].url.searchParams.get("order_by")==="avg_target_processing_time",le.__value="avg_target_processing_time",oe(le,le.__value),le.hidden=ot=!t[9].url.searchParams.get("aggregate")&&!t[4],se.selected=ut=t[9].url.searchParams.get("order_by")==="_timestamp"||!t[9].url.searchParams.get("order_by")&&!t[9].url.searchParams.get("aggregate"),se.__value="_timestamp",oe(se,se.__value),se.hidden=it=t[9].url.searchParams.get("aggregate")||t[4],ae.selected=ct=t[9].url.searchParams.get("order_by")==="http_request_path",ae.__value="http_request_path",oe(ae,ae.__value),ae.hidden=_t=t[9].url.searchParams.get("aggregate")||t[4],re.selected=ft=t[9].url.searchParams.get("order_by")==="target_processing_time",re.__value="target_processing_time",oe(re,re.__value),re.hidden=ht=t[9].url.searchParams.get("aggregate")||t[4],u(Z,"name","order_by"),u(Z,"id","order_by"),u(Z,"class","svelte-6bc3mx"),me.__value="DESC",oe(me,me.__value),me.selected=mt=t[9].url.searchParams.get("order")==="DESC",ge.__value="ASC",oe(ge,ge.__value),ge.selected=gt=t[9].url.searchParams.get("order")==="ASC",u(ie,"name","order"),u(ie,"id","order"),u(ie,"class","svelte-6bc3mx"),u(Te,"for","order"),u(Te,"class","button svelte-6bc3mx"),u(ee,"class","svelte-6bc3mx"),u(Y,"class","sort svelte-6bc3mx"),u(ye,"class","svelte-6bc3mx"),u(ne,"type","date"),u(ne,"name","start_time"),u(ne,"id","start_time"),u(ne,"min",t[12].toISOString().split("T")[0]),u(ne,"max",t[11].toISOString().split("T")[0]),ne.value=pt=t[9].url.searchParams.get("start_time")||t[11].toISOString().split("T")[0],u(ne,"class","svelte-6bc3mx"),u($e,"class","svelte-6bc3mx"),u(pe,"type","text"),u(pe,"name","lb_status_codes"),u(pe,"class","svelte-6bc3mx"),u(L,"action",""),u(L,"id","filters"),u(L,"class","svelte-6bc3mx"),u(a,"class","filters svelte-6bc3mx"),u(Ce,"class","svelte-6bc3mx"),u(Re,"class","duration svelte-6bc3mx"),u(fe,"class","svelte-6bc3mx"),u(Je,"class","svelte-6bc3mx"),u(ke,"class","svelte-6bc3mx"),u(ze,"class","content svelte-6bc3mx"),u(Ke,"class","container svelte-6bc3mx"),u(e,"class","page svelte-6bc3mx")},m(R,D){M(R,s,D),M(R,e,D),n(e,a),n(a,o),n(o,r),n(o,E),n(o,k),n(k,p),n(p,S),n(p,b),Ae(q,p,null),t[16](p),n(k,T),n(k,w),n(w,g),n(w,v),Ae(m,w,null),n(a,O),n(a,P),j&&j.m(P,null),t[18](P),n(a,ue),n(a,L),n(L,U),Ae(X,U,null),n(L,x),n(L,Y),n(Y,Q),n(Y,xe),n(Y,ee),n(ee,Z),n(Z,W),n(W,Be),n(Z,te),n(te,At),n(Z,le),n(le,Ot),n(Z,se),n(se,Lt),n(Z,ae),n(ae,yt),n(Z,re),n(re,$t),t[20](Z),n(ee,Rt),n(ee,ie),n(ie,me),n(me,Ft),n(ie,ge),n(ge,Mt),t[22](ie),n(ee,Ut),n(ee,Te),Fe[ce].m(Te,null),n(L,jt),n(L,Le),n(Le,ye),n(Le,Ht),n(Le,ne),n(L,Vt),n(L,de),n(de,$e),n(de,Bt),n(de,pe),oe(pe,t[5]),n(de,Zt),z&&z.m(de,null),t[28](L),n(e,Kt),n(e,Ke),n(Ke,ze),n(ze,ke),n(ke,Je),n(Je,fe),Pe.m(fe,null),n(fe,bt),n(fe,Ce),n(Ce,Et),n(Ce,zt),n(Ce,kt),n(fe,Jt),n(fe,Re),Se.m(Re,null),n(ke,Yt),J&&J.m(ke,null),n(e,Gt),H&&H.m(e,null),t[29](e),F=!0,Xt||(sl=[Ee(p,"click",t[13]),Yl(B=is.call(null,P,t[17])),Ee(Z,"change",t[21]),Ee(ie,"change",t[23]),Ee(ne,"input",function(){Dl(t[1].requestSubmit())&&t[1].requestSubmit().apply(this,arguments)}),Ee(pe,"input",t[24])],Xt=!0)},p(R,D){var Me,Ue,je,He,lt;t=R,(!F||D[0]&1024)&&l!==(l="Logs"+((Me=t[10].online)!=null&&Me.MPKIT_URL?": "+t[10].online.MPKIT_URL.replace("https://",""):""))&&(document.title=l),(!F||D[0]&128)&&be(p,"active",t[7]),t[7]?j?(j.p(t,D),D[0]&128&&V(j,1)):(j=Rl(t),j.c(),V(j,1),j.m(P,null)):j&&(It(),K(j,1,1,()=>{j=null}),Nt()),B&&Dl(B.update)&&D[0]&384&&B.update.call(null,t[17]);const we={};D[0]&512&&(we.checked=t[9].url.searchParams.get("aggregate")),X.$set(we),(!F||D[0]&512&&I!==(I=t[9].url.searchParams.get("order_by")==="count"))&&(W.selected=I),(!F||D[0]&528&&Ze!==(Ze=!t[9].url.searchParams.get("aggregate")&&!t[4]))&&(W.hidden=Ze),(!F||D[0]&512&&at!==(at=t[9].url.searchParams.get("order_by")==="http_request_path"))&&(te.selected=at),(!F||D[0]&528&&rt!==(rt=!t[9].url.searchParams.get("aggregate")&&!t[4]))&&(te.hidden=rt),(!F||D[0]&512&&nt!==(nt=t[9].url.searchParams.get("order_by")==="avg_target_processing_time"))&&(le.selected=nt),(!F||D[0]&528&&ot!==(ot=!t[9].url.searchParams.get("aggregate")&&!t[4]))&&(le.hidden=ot),(!F||D[0]&512&&ut!==(ut=t[9].url.searchParams.get("order_by")==="_timestamp"||!t[9].url.searchParams.get("order_by")&&!t[9].url.searchParams.get("aggregate")))&&(se.selected=ut),(!F||D[0]&528&&it!==(it=t[9].url.searchParams.get("aggregate")||t[4]))&&(se.hidden=it),(!F||D[0]&512&&ct!==(ct=t[9].url.searchParams.get("order_by")==="http_request_path"))&&(ae.selected=ct),(!F||D[0]&528&&_t!==(_t=t[9].url.searchParams.get("aggregate")||t[4]))&&(ae.hidden=_t),(!F||D[0]&512&&ft!==(ft=t[9].url.searchParams.get("order_by")==="target_processing_time"))&&(re.selected=ft),(!F||D[0]&528&&ht!==(ht=t[9].url.searchParams.get("aggregate")||t[4]))&&(re.hidden=ht),(!F||D[0]&512&&mt!==(mt=t[9].url.searchParams.get("order")==="DESC"))&&(me.selected=mt),(!F||D[0]&512&&gt!==(gt=t[9].url.searchParams.get("order")==="ASC"))&&(ge.selected=gt);let ve=ce;ce=rl(t,D),ce!==ve&&(It(),K(Fe[ve],1,1,()=>{Fe[ve]=null}),Nt(),_e=Fe[ce],_e||(_e=Fe[ce]=al[ce](t),_e.c()),V(_e,1),_e.m(Te,null)),(!F||D[0]&512&&pt!==(pt=t[9].url.searchParams.get("start_time")||t[11].toISOString().split("T")[0]))&&(ne.value=pt),D[0]&32&&pe.value!==t[5]&&oe(pe,t[5]),(je=(Ue=t[10].networks)==null?void 0:Ue.aggs)!=null&&je.filters?z?z.p(t,D):(z=Fl(t),z.c(),z.m(de,null)):z&&(z.d(1),z=null),St!==(St=nl(t,D))&&(Pe.d(1),Pe=St(t),Pe&&(Pe.c(),Pe.m(fe,bt))),(!F||D[0]&512)&&et!==(et=t[9].url.searchParams.get("aggregate")=="http_request_path"?"Aggregated ":"")&&G(Et,et),(!F||D[0]&512)&&tt!==(tt=t[9].url.searchParams.get("aggregate")=="http_request_path"?"s":"")&&G(kt,tt),wt!==(wt=ol(t,D))&&(Se.d(1),Se=wt(t),Se&&(Se.c(),Se.m(Re,null))),(lt=(He=t[10].networks)==null?void 0:He.aggs)!=null&&lt.results?J?J.p(t,D):(J=Ul(t),J.c(),J.m(ke,null)):J&&(J.d(1),J=null),t[9].params.id?H?(H.p(t,D),D[0]&512&&V(H,1)):(H=Hl(t),H.c(),V(H,1),H.m(e,null)):H&&(It(),K(H,1,1,()=>{H=null}),Nt())},i(R){F||(V(q.$$.fragment,R),V(m.$$.fragment,R),V(j),V(X.$$.fragment,R),V(_e),V(H),F=!0)},o(R){K(q.$$.fragment,R),K(m.$$.fragment,R),K(j),K(X.$$.fragment,R),K(_e),K(H),F=!1},d(R){R&&(i(s),i(e)),Oe(q),t[16](null),Oe(m),j&&j.d(),t[18](null),Oe(X),t[20](null),t[22](null),Fe[ce].d(),z&&z.d(),t[28](null),Pe.d(),Se.d(),J&&J.d(),H&&H.d(),t[29](null),Xt=!1,el(sl)}}}function qs(t,l,s){var Be;let e,a;ql(t,ns,I=>s(9,e=I)),ql(t,Wt,I=>s(10,a=I));let{$$slots:o={},$$scope:r}=l,c,E;const k=new Date,p=1e3*60*60*24,S=new Date(k-p*3);let _,b,q=!!e.url.searchParams.get("aggregated"),T=((Be=e.url.searchParams.get("lb_status_codes"))==null?void 0:Be.split(","))||[],w=!1,g=!1,C;function v(I){a.networks.aggs&&Nl(Wt,a.networks.aggs.results=[],a),os.get(I).then(Ze=>{Nl(Wt,a.networks=Ze,a)})}Gl(()=>{v(Object.fromEntries(e.url.searchParams))});let m=e.url.searchParams.toString();as(()=>{m=e.url.searchParams.toString()}),rs(()=>{var I;m!==e.url.searchParams.toString()&&(v(Object.fromEntries(e.url.searchParams)),m=e.url.searchParams.toString(),s(5,T=((I=e.url.searchParams.get("lb_status_codes"))==null?void 0:I.split(","))||[]))});function O(I){w.open?(w.close(),s(7,g=!1)):(w.show(),s(7,g=!0))}const P=[[]];function B(I){qe[I?"unshift":"push"](()=>{C=I,s(8,C)})}const ue=I=>g&&I.target!==C&&O();function L(I){qe[I?"unshift":"push"](()=>{w=I,s(6,w)})}const U=async I=>{s(4,q=!!I.target.checked),await Il(),s(2,_.value=I.target.checked?"count":"_timestamp",_),console.log(_.value),s(3,b.value="DESC",b),await Il(),E.requestSubmit()};function X(I){qe[I?"unshift":"push"](()=>{_=I,s(2,_)})}const x=()=>E.requestSubmit();function Y(I){qe[I?"unshift":"push"](()=>{b=I,s(3,b)})}const Q=()=>E.requestSubmit();function st(){T=this.value,s(5,T)}function xe(){T=ls(P[0],this.__value,this.checked),s(5,T)}const ee=()=>{E.requestSubmit()};function Z(I){qe[I?"unshift":"push"](()=>{E=I,s(1,E)})}function W(I){qe[I?"unshift":"push"](()=>{c=I,s(0,c)})}return t.$$set=I=>{"$$scope"in I&&s(14,r=I.$$scope)},[c,E,_,b,q,T,w,g,C,e,a,k,S,O,r,o,B,ue,L,U,X,x,Y,Q,st,xe,P,ee,Z,W]}class Us extends Zl{constructor(l){super(),Kl(this,l,qs,Ds,Vl,{},null,[-1,-1])}}export{Us as component};
