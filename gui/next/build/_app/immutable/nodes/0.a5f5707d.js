import{s as le,f as _,a as q,g,h as k,r as M,c as y,d as v,j as p,i as T,u as d,v as R,w as W,x as he,y as Ae,z as x,A as Q,e as pe,o as Le,k as de,B as ce,C as De,b as Ne,l as Se,m as qe,n as ye,D as We,E as Pe,F as Te,G as Je}from"../chunks/scheduler.897e742f.js";import{S as ae,i as se,a as m,g as O,t as b,c as G,b as U,d as V,m as j,e as B,f as ee}from"../chunks/index.dbb1a760.js";import{p as Ee}from"../chunks/stores.cd2bcd1d.js";import{t as He}from"../chunks/table.ef7a870e.js";import{s as H}from"../chunks/state.67fbed0a.js";import{I as F}from"../chunks/Icon.db5b5802.js";import{e as ve,u as Ue,o as Ve}from"../chunks/each.7879f7b3.js";import{f as te}from"../chunks/index.bae063de.js";function oe(o){const l=o.slice(),e=typeof window<"u"&&window.location.port!=="4173"&&window.location.port!=="5173"?`http://localhost:${parseInt(window.location.port)}`:"http://localhost:3333";return l[3]=e,l}function fe(o){const l=o.slice(),e=typeof window<"u"&&window.location.port!=="4173"&&window.location.port!=="5173"?`http://localhost:${parseInt(window.location.port)}`:"http://localhost:3333";return l[3]=e,l}function me(o){let l,e,t,r,n,f="Database",s,a,i;return t=new F({props:{icon:"database"}}),{c(){l=_("li"),e=_("a"),U(t.$$.fragment),r=q(),n=_("span"),n.textContent=f,this.h()},l(h){l=g(h,"LI",{class:!0});var C=k(l);e=g(C,"A",{href:!0,class:!0});var u=k(e);V(t.$$.fragment,u),r=y(u),n=g(u,"SPAN",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-xe6gx4"&&(n.textContent=f),u.forEach(v),C.forEach(v),this.h()},h(){p(n,"class","label svelte-e0vhve"),p(e,"href","/database"),p(e,"class","svelte-e0vhve"),W(e,"active",o[1].url.pathname.startsWith("/database")),p(l,"class","svelte-e0vhve")},m(h,C){T(h,l,C),d(l,e),j(t,e,null),d(e,r),d(e,n),s=!0,a||(i=[he(e,"focus",o[2],{once:!0}),he(e,"mouseover",o[2],{once:!0})],a=!0)},p(h,C){(!s||C&2)&&W(e,"active",h[1].url.pathname.startsWith("/database"))},i(h){s||(m(t.$$.fragment,h),s=!0)},o(h){b(t.$$.fragment,h),s=!1},d(h){h&&v(l),B(t),a=!1,Ae(i)}}}function _e(o){let l,e,t,r,n,f="Users",s;return t=new F({props:{icon:"users"}}),{c(){l=_("li"),e=_("a"),U(t.$$.fragment),r=q(),n=_("span"),n.textContent=f,this.h()},l(a){l=g(a,"LI",{class:!0});var i=k(l);e=g(i,"A",{href:!0,class:!0});var h=k(e);V(t.$$.fragment,h),r=y(h),n=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-o38ms3"&&(n.textContent=f),h.forEach(v),i.forEach(v),this.h()},h(){p(n,"class","label svelte-e0vhve"),p(e,"href","/users"),p(e,"class","svelte-e0vhve"),W(e,"active",o[1].url.pathname.startsWith("/users")),p(l,"class","svelte-e0vhve")},m(a,i){T(a,l,i),d(l,e),j(t,e,null),d(e,r),d(e,n),s=!0},p(a,i){(!s||i&2)&&W(e,"active",a[1].url.pathname.startsWith("/users"))},i(a){s||(m(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&v(l),B(t)}}}function ge(o){let l,e,t,r,n,f="Logs",s;return t=new F({props:{icon:"log"}}),{c(){l=_("li"),e=_("a"),U(t.$$.fragment),r=q(),n=_("span"),n.textContent=f,this.h()},l(a){l=g(a,"LI",{class:!0});var i=k(l);e=g(i,"A",{href:!0,class:!0});var h=k(e);V(t.$$.fragment,h),r=y(h),n=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-17j55om"&&(n.textContent=f),h.forEach(v),i.forEach(v),this.h()},h(){p(n,"class","label svelte-e0vhve"),p(e,"href","/logs"),p(e,"class","svelte-e0vhve"),W(e,"active",o[1].url.pathname.startsWith("/logs")),p(l,"class","svelte-e0vhve")},m(a,i){T(a,l,i),d(l,e),j(t,e,null),d(e,r),d(e,n),s=!0},p(a,i){(!s||i&2)&&W(e,"active",a[1].url.pathname.startsWith("/logs"))},i(a){s||(m(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&v(l),B(t)}}}function $e(o){let l,e,t,r,n,f="Background Jobs",s;return t=new F({props:{icon:"backgroundJob"}}),{c(){l=_("li"),e=_("a"),U(t.$$.fragment),r=q(),n=_("span"),n.textContent=f,this.h()},l(a){l=g(a,"LI",{class:!0});var i=k(l);e=g(i,"A",{href:!0,class:!0});var h=k(e);V(t.$$.fragment,h),r=y(h),n=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-fuvc8n"&&(n.textContent=f),h.forEach(v),i.forEach(v),this.h()},h(){p(n,"class","label svelte-e0vhve"),p(e,"href","/backgroundJobs"),p(e,"class","svelte-e0vhve"),W(e,"active",o[1].url.pathname.startsWith("/backgroundJobs")),p(l,"class","svelte-e0vhve")},m(a,i){T(a,l,i),d(l,e),j(t,e,null),d(e,r),d(e,n),s=!0},p(a,i){(!s||i&2)&&W(e,"active",a[1].url.pathname.startsWith("/backgroundJobs"))},i(a){s||(m(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&v(l),B(t)}}}function be(o){let l,e,t,r,n,f="Constants",s;return t=new F({props:{icon:"constant"}}),{c(){l=_("li"),e=_("a"),U(t.$$.fragment),r=q(),n=_("span"),n.textContent=f,this.h()},l(a){l=g(a,"LI",{class:!0});var i=k(l);e=g(i,"A",{href:!0,class:!0});var h=k(e);V(t.$$.fragment,h),r=y(h),n=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-s4kqu"&&(n.textContent=f),h.forEach(v),i.forEach(v),this.h()},h(){p(n,"class","label svelte-e0vhve"),p(e,"href","/constants"),p(e,"class","svelte-e0vhve"),W(e,"active",o[1].url.pathname.startsWith("/constants")),p(l,"class","svelte-e0vhve")},m(a,i){T(a,l,i),d(l,e),j(t,e,null),d(e,r),d(e,n),s=!0},p(a,i){(!s||i&2)&&W(e,"active",a[1].url.pathname.startsWith("/constants"))},i(a){s||(m(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&v(l),B(t)}}}function we(o){let l,e,t,r,n,f="Liquid Evaluator",s;return t=new F({props:{icon:"liquid"}}),{c(){l=_("li"),e=_("a"),U(t.$$.fragment),r=q(),n=_("span"),n.textContent=f,this.h()},l(a){l=g(a,"LI",{class:!0});var i=k(l);e=g(i,"A",{href:!0,class:!0});var h=k(e);V(t.$$.fragment,h),r=y(h),n=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-1k272bg"&&(n.textContent=f),h.forEach(v),i.forEach(v),this.h()},h(){p(n,"class","label svelte-e0vhve"),p(e,"href",o[3]+"/gui/liquid"),p(e,"class","svelte-e0vhve"),p(l,"class","svelte-e0vhve")},m(a,i){T(a,l,i),d(l,e),j(t,e,null),d(e,r),d(e,n),s=!0},p:x,i(a){s||(m(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&v(l),B(t)}}}function ze(o){let l,e,t,r,n,f="GraphiQL",s;return t=new F({props:{icon:"graphql"}}),{c(){l=_("li"),e=_("a"),U(t.$$.fragment),r=q(),n=_("span"),n.textContent=f,this.h()},l(a){l=g(a,"LI",{class:!0});var i=k(l);e=g(i,"A",{href:!0,class:!0});var h=k(e);V(t.$$.fragment,h),r=y(h),n=g(h,"SPAN",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-pzl6ct"&&(n.textContent=f),h.forEach(v),i.forEach(v),this.h()},h(){p(n,"class","label svelte-e0vhve"),p(e,"href",o[3]+"/gui/graphql"),p(e,"class","svelte-e0vhve"),p(l,"class","svelte-e0vhve")},m(a,i){T(a,l,i),d(l,e),j(t,e,null),d(e,r),d(e,n),s=!0},p:x,i(a){s||(m(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&v(l),B(t)}}}function je(o){let l,e,t,r='<h1 class="svelte-e0vhve"><svg fill="none" height="25" viewBox="0 0 171 25" width="171" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><mask id="a" height="8" maskUnits="userSpaceOnUse" width="11" x="15" y="17"><path clip-rule="evenodd" d="m15.0547 17.3882h10.7723v7.207h-10.7723z" fill="#fff" fill-rule="evenodd"></path></mask><g clip-rule="evenodd" fill-rule="evenodd"><g fill="var(--color-text)"><path d="m131.861 4.66507-1.374 1.27514h-.012l-1.433-1.27514h-3.072l-1.726 2.0088-1.956-2.0088v13.38343h3.915v-9.20598h1.763l.551.95173v8.25425h3.915l-.404-.461.416.461v-8.25425l.609-.95173h1.21l.51.95173v8.25425h4.032v-10.32834l-3.098-3.05509z"></path><path d="m45.2343 12.6127-1.4359 1.3529h-4.1126v-5.18873h4.1126l1.4359 1.57303zm-2.706-7.85309h-2.8425l-1.9915 1.92063-1.998-1.92063v17.84799h3.9895v-4.6244l-.0532-.0555v-.0007l.0532.0562h5.6551l3.4834-3.0551v-6.49921l-3.4834-3.66928z"></path><path d="m77.2059 12.9893v-3.49693h4.2249v-3.93985h-4.2249l-2.0167-2.19928.0017-.00168-2.021-1.96707v13.65941l3.9437 3.0046h5.0169v-3.9509h-3.2703z"></path><path d="m66.7636 14.1107h-4.1518l-1.4498-1.5417v-2.2185l1.4498-1.32627h4.1518zm0-9.0243h-5.7096l-3.5169 2.99451v6.37069l3.5169 3.5969h5.7096l2.011-1.8826 2.017 1.8826v-9.02427l-2.017-1.89538z"></path><path d="m113.625 5.04334-2.016 2.0623-2.02-2.0623v13.00516h4.036v-9.0542h4.161l2.498 2.5627v-4.45674l-2.601-2.09428z"></path><path d="m84.0986 3.49927v14.54923h4.0363v-4.835h4.2249v-3.9399h-4.2249v-3.49697l1.6544-1.33067h3.2699v-3.951301h-5.0166z"></path><path d="m53.0157 2.6936.0014-.00134-2.021-2.197601v8.777591l.0083.00875v.00135l-.0083-.00909v8.77524h4.0363v-8.77524l-.003.00337v-.00135l.003-.00303v-4.39014l-.001.00135z"></path><path d="m103.833 12.5424-1.501 1.5491h-2.7414l-1.5016-1.5491v-2.2286l1.5016-1.33231h2.7414l1.501 1.33231zm-5.8556-7.51792-3.6434 3.00865v6.40167l3.6434 3.6137h5.9676l3.643-3.6137v-6.40167l-3.643-3.00865z"></path><path d="m150.889 9.14538v3.25032l-1.425 2.0347h-2.954l-1.425-2.0347v-6.50027l1.425-2.03505h2.954l1.425 2.03505zm-5.919-8.737207-3.736 3.482837v10.50839l3.736 3.4832h6.033l3.736-3.4832v-10.50839l-3.736-3.482837z"></path><path d="m167.448 7.52596h-.005l-.127-.09726.029.09726h-.061l.032-.09726h-5.183l-1.054-1.0012v-1.3512l1.054-1.20178h3.326l2.088 1.83413 3.186-1.80317-3.735-3.496972h-6.033l-3.736 3.496972v4.32149l3.417 2.63543h3.421v.0121h1.409l1.407.9891v1.3515l-1.424 1.2015h-2.956l-2.087-1.8338-3.187 1.8028 3.735 3.497h6.034l3.735-3.497v-4.3218l-3.285-2.5338z"></path></g><path d="m4.70002.149719h2.43672l-3.83108 3.921011z" fill="#56b146"></path><path d="m2.00038 10.5222s-1.9688335-3.64708-2.00038-3.64372l1.95688.01043z" fill="#c3233d"></path><path d="m1.95703 6.88889 4.02467-.00068-3.98117 3.63399z" fill="#d5246a"></path><path d="m5.82842 13.7166.15275-6.82839-3.98117 3.63399z" fill="#e77a2b"></path><path d="m10.6388 10.3186-4.81165 3.398.15441-6.82839z" fill="#fac922"></path><path d="m13.6277 5.82074-7.64625 1.0675 4.65725 3.43036z" fill="#56b146"></path><path d="m11.8604.149719-3.08989 3.841251 4.85749 1.82976z" fill="#c3233d"></path><path d="m19.1124.149719h-7.252l1.7676 5.671011z" fill="#487fb5"></path><path d="m5.98145 6.88823 7.64625-1.0675-4.85754-1.82976z" fill="#d5246a"></path><path d="m20.4868 5.82073h-6.8589l5.4845-5.671011z" fill="#23477b"></path><path d="m17.0469 12.1355-6.4082-1.8169 2.9889-4.49786z" fill="#419845"></path><path d="m20.4868 5.82074-3.4396 6.31476-3.4193-6.31476z" fill="#014c3d"></path><path d="m22.8936 10.3186-5.8467 1.8169 3.4395-6.31476z" fill="#419845"></path><path d="m21.829 14.004-4.7821-1.8685 5.8467-1.8169z" fill="#56b146"></path><path d="m19.1123.149719 5.2799 4.404611-3.9055 1.2664z" fill="#487fb5"></path><path d="m20.4863 5.82072 3.9055-1.2664-1.4983 5.76428z" fill="#008b47"></path><path d="m22.8937 10.3186 5.4031 1.0358-6.4677 2.6496z" fill="#014c3d"></path><path d="m28.2968 11.3544.0651 5.1999-6.5328-2.5503z" fill="#419845"></path><path d="m21.8291 14.004 6.5328 2.5503-4.9359.8339z" fill="#23477b"></path><path d="m28.3616 16.5543-2.5353 5.6629-2.4005-4.829z" fill="#56b146"></path><g mask="url(#a)"><path d="m23.4268 17.3882 2.4005 4.829-3.6584-2.0616z" fill="#487fb5"></path><path d="m25.8273 22.2172-3.6185 2.3982-.0399-4.4598z" fill="#23477b"></path><path d="m22.1685 20.1556.0398 4.4598-1.8167-2.8966z" fill="#487fb5"></path><path d="m22.2089 24.6154h-4.831l3.0142-2.8966z" fill="#23477b"></path><path d="m20.3921 21.7188-3.0142 2.8966.5323-2.8966z" fill="#c3233d"></path><path d="m17.9098 21.7188-.5323 2.8966-2.3228-2.8966z" fill="#d5246a"></path></g><path d="m17.9098 21.7188h-2.8551l1.6935-2.0047z" fill="#c3233d"></path><path d="m15.0547 21.7188v-3.7914l1.6935 1.7867z" fill="#e77a2b"></path><path d="m24.3918 4.55432 3.9048 6.80008-5.403-1.0358z" fill="#56b146"></path><path d="m17.9097 18.0256-.3872-1.9411 2.8551 1.3054z" fill="#419845"></path><path d="m15.0547 17.9274 2.8551.0982-.3872-1.9411z" fill="#56b146"></path><path d="m16.7482 19.7141 1.1616-1.6885-2.8551-.0982z" fill="#fac922"></path><path d="m6.6543 2.67443 2.11627 1.31654-.10261-2.60212z" fill="#419845"></path><path d="m6.6543 2.67443 2.01366-1.28558-1.5305-1.239131z" fill="#56b146"></path><path d="m3.30566 4.07073 3.83108-3.921011-.48316 2.524711z" fill="#008b47"></path><path d="m8.77013 3.99098-2.11627-1.31654-.98491 1.37442z" fill="#014c3d"></path><path d="m3.30566 4.07074 3.34792-1.3963-.98492 1.37442z" fill="#419845"></path><path d="m1.95703 6.88891 3.71219-2.84005.31248 2.83937z" fill="#e77a2b"></path><path d="m5.66895 4.04885.31247 2.83938 2.78871-2.89726z" fill="#c3233d"></path><path d="m1.95703 6.88891 1.34919-2.81818 2.363-.02187z" fill="#fac922"></path><path d="m11.0079 13.7099-1.16122 2.0044h3.34462z" fill="#419845"></path><path d="m8.49121 13.7166 1.35517 1.9977 1.16122-2.0044z" fill="#56b146"></path><path d="m10.6387 10.3186.3689 3.3913 6.0393-1.5744z" fill="#014c3d"></path><path d="m13.1912 15.7143 3.8559-3.5788-6.0393 1.5744z" fill="#008b47"></path></g></svg> <span class="stamp">platformOS development tools</span></h1>',n,f,s,a=o[0].header.includes("database"),i,h=o[0].header.includes("users"),C,u=o[0].header.includes("logs"),c,z=o[0].header.includes("backgroundJobs"),J,ne=o[0].header.includes("constants"),K,ie=o[0].header.includes("liquid"),X,re=o[0].header.includes("graphiql"),Y,I=a&&me(o),E=h&&_e(o),A=u&&ge(o),L=z&&$e(o),D=ne&&be(o),N=ie&&we(fe(o)),S=re&&ze(oe(o));return{c(){l=_("header"),e=_("div"),t=_("a"),t.innerHTML=r,n=q(),f=_("nav"),s=_("ul"),I&&I.c(),i=q(),E&&E.c(),C=q(),A&&A.c(),c=q(),L&&L.c(),J=q(),D&&D.c(),K=q(),N&&N.c(),X=q(),S&&S.c(),this.h()},l($){l=g($,"HEADER",{class:!0});var w=k(l);e=g(w,"DIV",{class:!0});var Z=k(e);t=g(Z,"A",{href:!0,"data-svelte-h":!0}),M(t)!=="svelte-1o2vh0w"&&(t.innerHTML=r),n=y(Z),f=g(Z,"NAV",{});var ue=k(f);s=g(ue,"UL",{class:!0});var P=k(s);I&&I.l(P),i=y(P),E&&E.l(P),C=y(P),A&&A.l(P),c=y(P),L&&L.l(P),J=y(P),D&&D.l(P),K=y(P),N&&N.l(P),X=y(P),S&&S.l(P),P.forEach(v),ue.forEach(v),Z.forEach(v),w.forEach(v),this.h()},h(){p(t,"href","/"),p(s,"class","svelte-e0vhve"),p(e,"class","wrapper svelte-e0vhve"),p(l,"class","svelte-e0vhve")},m($,w){T($,l,w),d(l,e),d(e,t),d(e,n),d(e,f),d(f,s),I&&I.m(s,null),d(s,i),E&&E.m(s,null),d(s,C),A&&A.m(s,null),d(s,c),L&&L.m(s,null),d(s,J),D&&D.m(s,null),d(s,K),N&&N.m(s,null),d(s,X),S&&S.m(s,null),Y=!0},p($,[w]){w&1&&(a=$[0].header.includes("database")),a?I?(I.p($,w),w&1&&m(I,1)):(I=me($),I.c(),m(I,1),I.m(s,i)):I&&(O(),b(I,1,1,()=>{I=null}),G()),w&1&&(h=$[0].header.includes("users")),h?E?(E.p($,w),w&1&&m(E,1)):(E=_e($),E.c(),m(E,1),E.m(s,C)):E&&(O(),b(E,1,1,()=>{E=null}),G()),w&1&&(u=$[0].header.includes("logs")),u?A?(A.p($,w),w&1&&m(A,1)):(A=ge($),A.c(),m(A,1),A.m(s,c)):A&&(O(),b(A,1,1,()=>{A=null}),G()),w&1&&(z=$[0].header.includes("backgroundJobs")),z?L?(L.p($,w),w&1&&m(L,1)):(L=$e($),L.c(),m(L,1),L.m(s,J)):L&&(O(),b(L,1,1,()=>{L=null}),G()),w&1&&(ne=$[0].header.includes("constants")),ne?D?(D.p($,w),w&1&&m(D,1)):(D=be($),D.c(),m(D,1),D.m(s,K)):D&&(O(),b(D,1,1,()=>{D=null}),G()),w&1&&(ie=$[0].header.includes("liquid")),ie?N?(N.p(fe($),w),w&1&&m(N,1)):(N=we(fe($)),N.c(),m(N,1),N.m(s,X)):N&&(O(),b(N,1,1,()=>{N=null}),G()),w&1&&(re=$[0].header.includes("graphiql")),re?S?(S.p(oe($),w),w&1&&m(S,1)):(S=ze(oe($)),S.c(),m(S,1),S.m(s,null)):S&&(O(),b(S,1,1,()=>{S=null}),G())},i($){Y||(m(I),m(E),m(A),m(L),m(D),m(N),m(S),Y=!0)},o($){b(I),b(E),b(A),b(L),b(D),b(N),b(S),Y=!1},d($){$&&v(l),I&&I.d(),E&&E.d(),A&&A.d(),L&&L.d(),D&&D.d(),N&&N.d(),S&&S.d()}}}function Be(o,l,e){let t,r;return R(o,H,f=>e(0,t=f)),R(o,Ee,f=>e(1,r=f)),[t,r,async()=>{t.tables.length||Q(H,t.tables=await He.get(),t)}]}class Me extends ae{constructor(l){super(),se(this,l,Be,je,le,{})}}const Oe={get:async o=>{const l=typeof window<"u"&&window.location.port!=="4173"&&window.location.port!=="5173"?`http://localhost:${parseInt(window.location.port)}/api/logs`:"http://localhost:3333/api/logs",e=o.last??null;return fetch(`${l}?lastId=`+e).then(t=>t.ok?t.json():Promise.reject(t)).then(t=>(t.logs.forEach(r=>{r.downloaded_at=Date.now()}),t)).catch(t=>({error:t}))}};function ke(o){let l,e="Disconnected from the instance";return{c(){l=_("div"),l.textContent=e,this.h()},l(t){l=g(t,"DIV",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1k8ucix"&&(l.textContent=e),this.h()},h(){p(l,"class","connectionIndicator svelte-1cyr69k"),W(l,"offline",o[0].online===!1)},m(t,r){T(t,l,r)},p(t,r){r&1&&W(l,"offline",t[0].online===!1)},d(t){t&&v(l)}}}function Ge(o){let l,e=o[0].online===!1&&ke(o);return{c(){e&&e.c(),l=pe()},l(t){e&&e.l(t),l=pe()},m(t,r){e&&e.m(t,r),T(t,l,r)},p(t,[r]){t[0].online===!1?e?e.p(t,r):(e=ke(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},i:x,o:x,d(t){t&&v(l),e&&e.d(t)}}}function Fe(o,l,e){let t,r;R(o,H,a=>e(0,t=a)),R(o,Ee,a=>e(3,r=a));let n=7e3,f;Le(async()=>{s(),clearInterval(f),e(2,f=setInterval(s,n))});const s=async()=>{var a,i,h;if(document.visibilityState!=="hidden"){const C=((i=(a=t.logs.logs)==null?void 0:a.at(-1))==null?void 0:i.id)??null,u=await Oe.get({last:C});return C?(h=u.logs)!=null&&h.length&&(Q(H,t.logs.logs=[...t.logs.logs,...u.logs],t),t.logs.downloaded_at.push(Date.now()),t.logs.downloaded_at.length>2&&t.logs.downloaded_at.splice(0,1)):t.logs.logs||(Q(H,t.logs=u,t),t.logs.downloaded_at||Q(H,t.logs.downloaded_at=[Date.now()],t)),u.error?(Q(H,t.online=!1,t),!1):(Q(H,t.online=!0,t),!0)}};return o.$$.update=()=>{o.$$.dirty&14&&(r.url.pathname.startsWith("/logs")?(clearInterval(f),e(1,n=3e3),e(2,f=setInterval(s,n))):n===3e3&&(clearInterval(f),e(1,n=7e3),e(2,f=setInterval(s,n))))},[t,n,f,r]}class Qe extends ae{constructor(l){super(),se(this,l,Fe,Ge,le,{})}}function Ce(o,l,e){const t=o.slice();return t[4]=l[e],t}function Ie(o,l){let e,t=l[4].message+"",r,n,f,s,a,i,h,C;s=new F({props:{icon:"x",size:"10"}});function u(){return l[2](l[4])}return{key:o,first:null,c(){e=_("div"),r=Se(t),n=q(),f=_("button"),U(s.$$.fragment),this.h()},l(c){e=g(c,"DIV",{class:!0});var z=k(e);r=qe(z,t),n=y(z),f=g(z,"BUTTON",{class:!0});var J=k(f);V(s.$$.fragment,J),J.forEach(v),z.forEach(v),this.h()},h(){p(f,"class","svelte-14ahhss"),p(e,"class","notification svelte-14ahhss"),W(e,"success",l[4].type==="success"),W(e,"error",l[4].type==="error"),this.first=e},m(c,z){T(c,e,z),d(e,r),d(e,n),d(e,f),j(s,f,null),i=!0,h||(C=he(f,"click",u),h=!0)},p(c,z){l=c,(!i||z&2)&&t!==(t=l[4].message+"")&&ye(r,t),(!i||z&2)&&W(e,"success",l[4].type==="success"),(!i||z&2)&&W(e,"error",l[4].type==="error")},i(c){i||(m(s.$$.fragment,c),c&&ce(()=>{i&&(a||(a=ee(e,te,{duration:100},!0)),a.run(1))}),i=!0)},o(c){b(s.$$.fragment,c),c&&(a||(a=ee(e,te,{duration:100},!1)),a.run(0)),i=!1},d(c){c&&v(e),B(s),c&&a&&a.end(),h=!1,C()}}}function Re(o){let l,e=[],t=new Map,r,n,f,s,a,i,h=ve(o[1].notifications);const C=u=>u[4].id;for(let u=0;u<h.length;u+=1){let c=Ce(o,h,u),z=C(c);t.set(z,e[u]=Ie(z,c))}return f=new Qe({}),{c(){l=_("div");for(let u=0;u<e.length;u+=1)e[u].c();r=q(),n=_("div"),U(f.$$.fragment),this.h()},l(u){l=g(u,"DIV",{class:!0,"aria-live":!0,style:!0});var c=k(l);for(let J=0;J<e.length;J+=1)e[J].l(c);r=y(c),n=g(c,"DIV",{class:!0});var z=k(n);V(f.$$.fragment,z),z.forEach(v),c.forEach(v),this.h()},h(){p(n,"class","notification error svelte-14ahhss"),W(n,"disabled",o[1].online!==!1),p(l,"class","container svelte-14ahhss"),p(l,"aria-live","assertive"),de(l,"--height","-"+o[0]+"px"),ce(()=>o[3].call(l))},m(u,c){T(u,l,c);for(let z=0;z<e.length;z+=1)e[z]&&e[z].m(l,null);d(l,r),d(l,n),j(f,n,null),a=De(l,o[3].bind(l)),i=!0},p(u,[c]){c&2&&(h=ve(u[1].notifications),O(),e=Ue(e,c,C,1,u,h,t,l,Ve,Ie,r,Ce),G()),(!i||c&2)&&W(n,"disabled",u[1].online!==!1),(!i||c&1)&&de(l,"--height","-"+u[0]+"px")},i(u){if(!i){for(let c=0;c<h.length;c+=1)m(e[c]);m(f.$$.fragment,u),u&&ce(()=>{i&&(s||(s=ee(n,te,{duration:100},!0)),s.run(1))}),i=!0}},o(u){for(let c=0;c<e.length;c+=1)b(e[c]);b(f.$$.fragment,u),u&&(s||(s=ee(n,te,{duration:100},!1)),s.run(0)),i=!1},d(u){u&&v(l);for(let c=0;c<e.length;c+=1)e[c].d();B(f),u&&s&&s.end(),a()}}}function Ke(o,l,e){let t;R(o,H,s=>e(1,t=s));let r=0;Ne(()=>{t.notifications.forEach(s=>{s.type==="success"&&!s.timeout&&(s.timeout=setTimeout(()=>H.notification.remove(s.id),7e3))})});const n=s=>H.notification.remove(s.id);function f(){r=this.clientHeight,e(0,r)}return[r,t,n,f]}class Xe extends ae{constructor(l){super(),se(this,l,Ke,Re,le,{})}}function Ye(o){let l,e,t,r,n;l=new Me({});const f=o[1].default,s=We(f,o,o[0],null);return r=new Xe({}),{c(){U(l.$$.fragment),e=q(),s&&s.c(),t=q(),U(r.$$.fragment)},l(a){V(l.$$.fragment,a),e=y(a),s&&s.l(a),t=y(a),V(r.$$.fragment,a)},m(a,i){j(l,a,i),T(a,e,i),s&&s.m(a,i),T(a,t,i),j(r,a,i),n=!0},p(a,[i]){s&&s.p&&(!n||i&1)&&Pe(s,f,a,a[0],n?Je(f,a[0],i,null):Te(a[0]),null)},i(a){n||(m(l.$$.fragment,a),m(s,a),m(r.$$.fragment,a),n=!0)},o(a){b(l.$$.fragment,a),b(s,a),b(r.$$.fragment,a),n=!1},d(a){a&&(v(e),v(t)),B(l,a),s&&s.d(a),B(r,a)}}}function Ze(o,l,e){let{$$slots:t={},$$scope:r}=l;return o.$$set=n=>{"$$scope"in n&&e(0,r=n.$$scope)},[r,t]}class rt extends ae{constructor(l){super(),se(this,l,Ze,Ye,le,{})}}export{rt as component};
