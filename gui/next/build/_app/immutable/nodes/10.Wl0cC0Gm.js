import{s as le,D as ne,f as v,g,h as D,d,j as k,i as b,v as m,E as re,F as ie,G as oe,b as ce,t as fe,p as ue,a as E,J as de,r as N,c as L,Q as _e,w as me,e as T,l as I,m as P,z as O,n as J}from"../chunks/scheduler.sKKhyktU.js";import{S as se,i as ae,a as S,t as j,b as z,d as F,m as B,e as G,g as R,c as M}from"../chunks/index.LYVpS7Hw.js";import{p as pe}from"../chunks/stores.7Z9ZYffh.js";import{b as he}from"../chunks/backgroundJob.NGLWULbh.js";import{A as ve}from"../chunks/Aside.Na6AmxZs.js";import{J as ge}from"../chunks/JSONTree.k3p57Rl8.js";function be(f){let e,s,o,r,i,l;const a=f[3].default,t=ne(a,f,f[2],null);return{c(){e=v("template"),s=v("pre"),o=v("code"),t&&t.c(),this.h()},l(n){e=g(n,"TEMPLATE",{});var c=D(e.content);s=g(c,"PRE",{class:!0});var _=D(s);o=g(_,"CODE",{class:!0});var p=D(o);t&&t.l(p),p.forEach(d),_.forEach(d),c.forEach(d),this.h()},h(){k(o,"class",r="language-"+f[0]),k(s,"class",i="line-numbers language-"+f[0])},m(n,c){b(n,e,c),m(e.content,s),m(s,o),t&&t.m(o,null),f[4](e),l=!0},p(n,[c]){t&&t.p&&(!l||c&4)&&re(t,a,n,n[2],l?oe(a,n[2],c,null):ie(n[2]),null),(!l||c&1&&r!==(r="language-"+n[0]))&&k(o,"class",r),(!l||c&1&&i!==(i="line-numbers language-"+n[0]))&&k(s,"class",i)},i(n){l||(S(t,n),l=!0)},o(n){j(t,n),l=!1},d(n){n&&d(e),t&&t.d(n),f[4](null)}}}function qe(f,e,s){let{$$slots:o={},$$scope:r}=e,{language:i}=e,l;ce(async()=>{await fe(),document.querySelector("#code")?.remove();const t=l.content.cloneNode(!0);t.firstChild.id="code",l.after(t),Prism.highlightAll()});function a(t){ue[t?"unshift":"push"](()=>{l=t,s(1,l)})}return f.$$set=t=>{"language"in t&&s(0,i=t.language),"$$scope"in t&&s(2,r=t.$$scope)},[i,l,r,o,a]}class ke extends se{constructor(e){super(),ae(this,e,qe,be,le,{language:0})}}function $e(f){let e,s,o,r,i,l,a,t=f[1].source_name&&W(f),n=f[1].id&&X(f),c=f[1].error_message&&x(f),_=f[1].liquid_body&&ee(f),p=f[1].arguments&&te(f);return{c(){e=v("dl"),t&&t.c(),s=T(),n&&n.c(),o=E(),c&&c.c(),r=E(),_&&_.c(),i=E(),p&&p.c(),l=T(),this.h()},l(u){e=g(u,"DL",{class:!0});var h=D(e);t&&t.l(h),s=T(),n&&n.l(h),h.forEach(d),o=L(u),c&&c.l(u),r=L(u),_&&_.l(u),i=L(u),p&&p.l(u),l=T(),this.h()},h(){k(e,"class","info svelte-7qclwq")},m(u,h){b(u,e,h),t&&t.m(e,null),m(e,s),n&&n.m(e,null),b(u,o,h),c&&c.m(u,h),b(u,r,h),_&&_.m(u,h),b(u,i,h),p&&p.m(u,h),b(u,l,h),a=!0},p(u,h){u[1].source_name?t?t.p(u,h):(t=W(u),t.c(),t.m(e,s)):t&&(t.d(1),t=null),u[1].id?n?n.p(u,h):(n=X(u),n.c(),n.m(e,null)):n&&(n.d(1),n=null),u[1].error_message?c?c.p(u,h):(c=x(u),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),u[1].liquid_body?_?(_.p(u,h),h&2&&S(_,1)):(_=ee(u),_.c(),S(_,1),_.m(i.parentNode,i)):_&&(R(),j(_,1,1,()=>{_=null}),M()),u[1].arguments?p?(p.p(u,h),h&2&&S(p,1)):(p=te(u),p.c(),S(p,1),p.m(l.parentNode,l)):p&&(R(),j(p,1,1,()=>{p=null}),M())},i(u){a||(S(_),S(p),a=!0)},o(u){j(_),j(p),a=!1},d(u){u&&(d(e),d(o),d(r),d(i),d(l)),t&&t.d(),n&&n.d(),c&&c.d(u),_&&_.d(u),p&&p.d(u)}}}function Ce(f){let e;return{c(){e=I("There is no such background job")},l(s){e=P(s,"There is no such background job")},m(s,o){b(s,e,o)},p:O,i:O,o:O,d(s){s&&d(e)}}}function W(f){let e,s,o="ID:",r,i,l=f[1].id+"",a,t;return{c(){e=v("div"),s=v("dt"),s.textContent=o,r=E(),i=v("dd"),a=I(l),t=E(),this.h()},l(n){e=g(n,"DIV",{class:!0});var c=D(e);s=g(c,"DT",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-179gw2t"&&(s.textContent=o),r=L(c),i=g(c,"DD",{});var _=D(i);a=P(_,l),_.forEach(d),t=L(c),c.forEach(d),this.h()},h(){k(s,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(n,c){b(n,e,c),m(e,s),m(e,r),m(e,i),m(i,a),m(e,t)},p(n,c){c&2&&l!==(l=n[1].id+"")&&J(a,l)},d(n){n&&d(e)}}}function X(f){let e,s,o="Created at:",r,i,l=new Date(f[1].created_at).toLocaleString()+"",a,t,n,c,_="Run at:",p,u,h=new Date(f[1].run_at).toLocaleString()+"",V,y,A,H,C=f[1].dead_at&&Y(f),w=f[1].arguments.url&&Z(f);return{c(){e=v("div"),s=v("dt"),s.textContent=o,r=E(),i=v("dd"),a=I(l),t=E(),n=v("div"),c=v("dt"),c.textContent=_,p=E(),u=v("dd"),V=I(h),y=E(),C&&C.c(),A=T(),w&&w.c(),H=T(),this.h()},l(q){e=g(q,"DIV",{class:!0});var $=D(e);s=g($,"DT",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-psrdxl"&&(s.textContent=o),r=L($),i=g($,"DD",{});var Q=D(i);a=P(Q,l),Q.forEach(d),t=L($),$.forEach(d),n=g(q,"DIV",{class:!0});var U=D(n);c=g(U,"DT",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-u0lbhu"&&(c.textContent=_),p=L(U),u=g(U,"DD",{});var K=D(u);V=P(K,h),K.forEach(d),y=L(U),U.forEach(d),C&&C.l(q),A=T(),w&&w.l(q),H=T(),this.h()},h(){k(s,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq"),k(c,"class","svelte-7qclwq"),k(n,"class","svelte-7qclwq")},m(q,$){b(q,e,$),m(e,s),m(e,r),m(e,i),m(i,a),m(e,t),b(q,n,$),m(n,c),m(n,p),m(n,u),m(u,V),m(n,y),C&&C.m(q,$),b(q,A,$),w&&w.m(q,$),b(q,H,$)},p(q,$){$&2&&l!==(l=new Date(q[1].created_at).toLocaleString()+"")&&J(a,l),$&2&&h!==(h=new Date(q[1].run_at).toLocaleString()+"")&&J(V,h),q[1].dead_at?C?C.p(q,$):(C=Y(q),C.c(),C.m(A.parentNode,A)):C&&(C.d(1),C=null),q[1].arguments.url?w?w.p(q,$):(w=Z(q),w.c(),w.m(H.parentNode,H)):w&&(w.d(1),w=null)},d(q){q&&(d(e),d(n),d(A),d(H)),C&&C.d(q),w&&w.d(q)}}}function Y(f){let e,s,o="Dead at:",r,i,l=new Date(f[1].dead_at).toLocaleString()+"",a,t;return{c(){e=v("div"),s=v("dt"),s.textContent=o,r=E(),i=v("dd"),a=I(l),t=E(),this.h()},l(n){e=g(n,"DIV",{class:!0});var c=D(e);s=g(c,"DT",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-1gjx1j5"&&(s.textContent=o),r=L(c),i=g(c,"DD",{class:!0});var _=D(i);a=P(_,l),_.forEach(d),t=L(c),c.forEach(d),this.h()},h(){k(s,"class","svelte-7qclwq"),k(i,"class","error svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(n,c){b(n,e,c),m(e,s),m(e,r),m(e,i),m(i,a),m(e,t)},p(n,c){c&2&&l!==(l=new Date(n[1].dead_at).toLocaleString()+"")&&J(a,l)},d(n){n&&d(e)}}}function Z(f){let e,s,o="URL:",r,i,l=(f[1].arguments.context.location.href||"/")+"",a;return{c(){e=v("div"),s=v("dt"),s.textContent=o,r=E(),i=v("dd"),a=I(l),this.h()},l(t){e=g(t,"DIV",{class:!0});var n=D(e);s=g(n,"DT",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-vrqyfv"&&(s.textContent=o),r=L(n),i=g(n,"DD",{});var c=D(i);a=P(c,l),c.forEach(d),n.forEach(d),this.h()},h(){k(s,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(t,n){b(t,e,n),m(e,s),m(e,r),m(e,i),m(i,a)},p(t,n){n&2&&l!==(l=(t[1].arguments.context.location.href||"/")+"")&&J(a,l)},d(t){t&&d(e)}}}function x(f){let e,s="Error message",o,r,i=f[1].error_message+"",l;return{c(){e=v("h2"),e.textContent=s,o=E(),r=v("code"),l=I(i),this.h()},l(a){e=g(a,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-46lcxd"&&(e.textContent=s),o=L(a),r=g(a,"CODE",{class:!0});var t=D(r);l=P(t,i),t.forEach(d),this.h()},h(){k(e,"class","svelte-7qclwq"),k(r,"class","svelte-7qclwq")},m(a,t){b(a,e,t),b(a,o,t),b(a,r,t),m(r,l)},p(a,t){t&2&&i!==(i=a[1].error_message+"")&&J(l,i)},d(a){a&&(d(e),d(o),d(r))}}}function ee(f){let e,s="Background job code:",o,r,i;return r=new ke({props:{language:"liquid",$$slots:{default:[we]},$$scope:{ctx:f}}}),{c(){e=v("h2"),e.textContent=s,o=E(),z(r.$$.fragment),this.h()},l(l){e=g(l,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-dymu4w"&&(e.textContent=s),o=L(l),F(r.$$.fragment,l),this.h()},h(){k(e,"class","svelte-7qclwq")},m(l,a){b(l,e,a),b(l,o,a),B(r,l,a),i=!0},p(l,a){const t={};a&10&&(t.$$scope={dirty:a,ctx:l}),r.$set(t)},i(l){i||(S(r.$$.fragment,l),i=!0)},o(l){j(r.$$.fragment,l),i=!1},d(l){l&&(d(e),d(o)),G(r,l)}}}function we(f){let e=f[1].liquid_body+"",s;return{c(){s=I(e)},l(o){s=P(o,e)},m(o,r){b(o,s,r)},p(o,r){r&2&&e!==(e=o[1].liquid_body+"")&&J(s,e)},d(o){o&&d(s)}}}function te(f){let e,s="Arguments",o,r,i,l;return i=new ge({props:{value:f[1].arguments,expandedLines:1,showFullLines:!0}}),{c(){e=v("h2"),e.textContent=s,o=E(),r=v("code"),z(i.$$.fragment),this.h()},l(a){e=g(a,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-h49jwy"&&(e.textContent=s),o=L(a),r=g(a,"CODE",{class:!0});var t=D(r);F(i.$$.fragment,t),t.forEach(d),this.h()},h(){k(e,"class","svelte-7qclwq"),k(r,"class","svelte-7qclwq")},m(a,t){b(a,e,t),b(a,o,t),b(a,r,t),B(i,r,null),l=!0},p(a,t){const n={};t&2&&(n.value=a[1].arguments),i.$set(n)},i(a){l||(S(i.$$.fragment,a),l=!0)},o(a){j(i.$$.fragment,a),l=!1},d(a){a&&(d(e),d(o),d(r)),G(i)}}}function De(f){let e,s,o,r;const i=[Ce,$e],l=[];function a(t,n){return t[1]===null?0:1}return e=a(f),s=l[e]=i[e](f),{c(){s.c(),o=T()},l(t){s.l(t),o=T()},m(t,n){l[e].m(t,n),b(t,o,n),r=!0},p(t,n){let c=e;e=a(t),e===c?l[e].p(t,n):(R(),j(l[c],1,1,()=>{l[c]=null}),M(),s=l[e],s?s.p(t,n):(s=l[e]=i[e](t),s.c()),S(s,1),s.m(o.parentNode,o))},i(t){r||(S(s),r=!0)},o(t){j(s),r=!1},d(t){t&&d(o),l[e].d(t)}}}function Ee(f){let e,s="",o,r,i,l;return i=new ve({props:{title:f[1].source_name||f[1].id||"Loading…",closeUrl:"/backgroundJobs?"+f[0].url.searchParams.toString(),$$slots:{default:[De]},$$scope:{ctx:f}}}),{c(){e=v("script"),e.innerHTML=s,r=E(),z(i.$$.fragment),this.h()},l(a){const t=de("svelte-1pgpgj4",document.head);e=g(t,"SCRIPT",{src:!0,"data-manual":!0,"data-svelte-h":!0}),N(e)!=="svelte-6mxszl"&&(e.innerHTML=s),t.forEach(d),r=L(a),F(i.$$.fragment,a),this.h()},h(){_e(e.src,o="/prism.js")||k(e,"src",o),k(e,"data-manual","")},m(a,t){m(document.head,e),b(a,r,t),B(i,a,t),l=!0},p(a,[t]){const n={};t&2&&(n.title=a[1].source_name||a[1].id||"Loading…"),t&1&&(n.closeUrl="/backgroundJobs?"+a[0].url.searchParams.toString()),t&10&&(n.$$scope={dirty:t,ctx:a}),i.$set(n)},i(a){l||(S(i.$$.fragment,a),l=!0)},o(a){j(i.$$.fragment,a),l=!1},d(a){a&&d(r),d(e),G(i,a)}}}function Le(f,e,s){let o;me(f,pe,l=>s(0,o=l));let r={};const i=async()=>{await he.get({id:o.params.id,type:o.params.type.toUpperCase()}).then(l=>{l.results.length?s(1,r=l.results[0]):s(1,r=null)})};return f.$$.update=()=>{f.$$.dirty&1&&o.params.id&&i(o.params.id)},[o,r]}class Je extends se{constructor(e){super(),ae(this,e,Le,Ee,le,{})}}export{Je as component};
