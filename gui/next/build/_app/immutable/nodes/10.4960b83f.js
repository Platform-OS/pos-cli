import{s as le,D as ne,f as v,g,h as w,d,j as k,i as b,u as m,E as re,F as oe,G as ie,b as ce,t as fe,p as ue,a as E,J as de,r as y,c as L,U as _e,v as me,e as T,l as N,m as I,A as O,n as P}from"../chunks/scheduler.bed694a1.js";import{S as se,i as ae,a as S,t as j,b as F,d as z,m as B,e as G,g as R,c as M}from"../chunks/index.606d5641.js";import{p as pe}from"../chunks/stores.cde9591f.js";import{b as he}from"../chunks/backgroundJob.c756ecec.js";import{A as ve}from"../chunks/Aside.9f09d30d.js";import{J as ge}from"../chunks/JSONTree.45966d99.js";function be(f){let e,s,i,r,o,l;const n=f[3].default,t=ne(n,f,f[2],null);return{c(){e=v("template"),s=v("pre"),i=v("code"),t&&t.c(),this.h()},l(a){e=g(a,"TEMPLATE",{});var c=w(e.content);s=g(c,"PRE",{class:!0});var _=w(s);i=g(_,"CODE",{class:!0});var p=w(i);t&&t.l(p),p.forEach(d),_.forEach(d),c.forEach(d),this.h()},h(){k(i,"class",r="language-"+f[0]),k(s,"class",o="line-numbers language-"+f[0])},m(a,c){b(a,e,c),m(e.content,s),m(s,i),t&&t.m(i,null),f[4](e),l=!0},p(a,[c]){t&&t.p&&(!l||c&4)&&re(t,n,a,a[2],l?ie(n,a[2],c,null):oe(a[2]),null),(!l||c&1&&r!==(r="language-"+a[0]))&&k(i,"class",r),(!l||c&1&&o!==(o="line-numbers language-"+a[0]))&&k(s,"class",o)},i(a){l||(S(t,a),l=!0)},o(a){j(t,a),l=!1},d(a){a&&d(e),t&&t.d(a),f[4](null)}}}function qe(f,e,s){let{$$slots:i={},$$scope:r}=e,{language:o}=e,l;ce(async()=>{var a;await fe(),(a=document.querySelector("#code"))==null||a.remove();const t=l.content.cloneNode(!0);t.firstChild.id="code",l.after(t),Prism.highlightAll()});function n(t){ue[t?"unshift":"push"](()=>{l=t,s(1,l)})}return f.$$set=t=>{"language"in t&&s(0,o=t.language),"$$scope"in t&&s(2,r=t.$$scope)},[o,l,r,i,n]}class ke extends se{constructor(e){super(),ae(this,e,qe,be,le,{language:0})}}function $e(f){let e,s,i,r,o,l,n,t=f[1].source_name&&W(f),a=f[1].id&&X(f),c=f[1].error_message&&x(f),_=f[1].liquid_body&&ee(f),p=f[1].arguments&&te(f);return{c(){e=v("dl"),t&&t.c(),s=T(),a&&a.c(),i=E(),c&&c.c(),r=E(),_&&_.c(),o=E(),p&&p.c(),l=T(),this.h()},l(u){e=g(u,"DL",{class:!0});var h=w(e);t&&t.l(h),s=T(),a&&a.l(h),h.forEach(d),i=L(u),c&&c.l(u),r=L(u),_&&_.l(u),o=L(u),p&&p.l(u),l=T(),this.h()},h(){k(e,"class","info svelte-7qclwq")},m(u,h){b(u,e,h),t&&t.m(e,null),m(e,s),a&&a.m(e,null),b(u,i,h),c&&c.m(u,h),b(u,r,h),_&&_.m(u,h),b(u,o,h),p&&p.m(u,h),b(u,l,h),n=!0},p(u,h){u[1].source_name?t?t.p(u,h):(t=W(u),t.c(),t.m(e,s)):t&&(t.d(1),t=null),u[1].id?a?a.p(u,h):(a=X(u),a.c(),a.m(e,null)):a&&(a.d(1),a=null),u[1].error_message?c?c.p(u,h):(c=x(u),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),u[1].liquid_body?_?(_.p(u,h),h&2&&S(_,1)):(_=ee(u),_.c(),S(_,1),_.m(o.parentNode,o)):_&&(R(),j(_,1,1,()=>{_=null}),M()),u[1].arguments?p?(p.p(u,h),h&2&&S(p,1)):(p=te(u),p.c(),S(p,1),p.m(l.parentNode,l)):p&&(R(),j(p,1,1,()=>{p=null}),M())},i(u){n||(S(_),S(p),n=!0)},o(u){j(_),j(p),n=!1},d(u){u&&(d(e),d(i),d(r),d(o),d(l)),t&&t.d(),a&&a.d(),c&&c.d(u),_&&_.d(u),p&&p.d(u)}}}function Ce(f){let e;return{c(){e=N("There is no such background job")},l(s){e=I(s,"There is no such background job")},m(s,i){b(s,e,i)},p:O,i:O,o:O,d(s){s&&d(e)}}}function W(f){let e,s,i="ID:",r,o,l=f[1].id+"",n,t;return{c(){e=v("div"),s=v("dt"),s.textContent=i,r=E(),o=v("dd"),n=N(l),t=E(),this.h()},l(a){e=g(a,"DIV",{class:!0});var c=w(e);s=g(c,"DT",{class:!0,"data-svelte-h":!0}),y(s)!=="svelte-179gw2t"&&(s.textContent=i),r=L(c),o=g(c,"DD",{});var _=w(o);n=I(_,l),_.forEach(d),t=L(c),c.forEach(d),this.h()},h(){k(s,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(a,c){b(a,e,c),m(e,s),m(e,r),m(e,o),m(o,n),m(e,t)},p(a,c){c&2&&l!==(l=a[1].id+"")&&P(n,l)},d(a){a&&d(e)}}}function X(f){let e,s,i="Created at:",r,o,l=new Date(f[1].created_at).toLocaleString()+"",n,t,a,c,_="Run at:",p,u,h=new Date(f[1].run_at).toLocaleString()+"",H,V,A,J,C=f[1].dead_at&&Y(f),D=f[1].arguments.url&&Z(f);return{c(){e=v("div"),s=v("dt"),s.textContent=i,r=E(),o=v("dd"),n=N(l),t=E(),a=v("div"),c=v("dt"),c.textContent=_,p=E(),u=v("dd"),H=N(h),V=E(),C&&C.c(),A=T(),D&&D.c(),J=T(),this.h()},l(q){e=g(q,"DIV",{class:!0});var $=w(e);s=g($,"DT",{class:!0,"data-svelte-h":!0}),y(s)!=="svelte-psrdxl"&&(s.textContent=i),r=L($),o=g($,"DD",{});var K=w(o);n=I(K,l),K.forEach(d),t=L($),$.forEach(d),a=g(q,"DIV",{class:!0});var U=w(a);c=g(U,"DT",{class:!0,"data-svelte-h":!0}),y(c)!=="svelte-u0lbhu"&&(c.textContent=_),p=L(U),u=g(U,"DD",{});var Q=w(u);H=I(Q,h),Q.forEach(d),V=L(U),U.forEach(d),C&&C.l(q),A=T(),D&&D.l(q),J=T(),this.h()},h(){k(s,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq"),k(c,"class","svelte-7qclwq"),k(a,"class","svelte-7qclwq")},m(q,$){b(q,e,$),m(e,s),m(e,r),m(e,o),m(o,n),m(e,t),b(q,a,$),m(a,c),m(a,p),m(a,u),m(u,H),m(a,V),C&&C.m(q,$),b(q,A,$),D&&D.m(q,$),b(q,J,$)},p(q,$){$&2&&l!==(l=new Date(q[1].created_at).toLocaleString()+"")&&P(n,l),$&2&&h!==(h=new Date(q[1].run_at).toLocaleString()+"")&&P(H,h),q[1].dead_at?C?C.p(q,$):(C=Y(q),C.c(),C.m(A.parentNode,A)):C&&(C.d(1),C=null),q[1].arguments.url?D?D.p(q,$):(D=Z(q),D.c(),D.m(J.parentNode,J)):D&&(D.d(1),D=null)},d(q){q&&(d(e),d(a),d(A),d(J)),C&&C.d(q),D&&D.d(q)}}}function Y(f){let e,s,i="Dead at:",r,o,l=new Date(f[1].dead_at).toLocaleString()+"",n,t;return{c(){e=v("div"),s=v("dt"),s.textContent=i,r=E(),o=v("dd"),n=N(l),t=E(),this.h()},l(a){e=g(a,"DIV",{class:!0});var c=w(e);s=g(c,"DT",{class:!0,"data-svelte-h":!0}),y(s)!=="svelte-1gjx1j5"&&(s.textContent=i),r=L(c),o=g(c,"DD",{class:!0});var _=w(o);n=I(_,l),_.forEach(d),t=L(c),c.forEach(d),this.h()},h(){k(s,"class","svelte-7qclwq"),k(o,"class","error svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(a,c){b(a,e,c),m(e,s),m(e,r),m(e,o),m(o,n),m(e,t)},p(a,c){c&2&&l!==(l=new Date(a[1].dead_at).toLocaleString()+"")&&P(n,l)},d(a){a&&d(e)}}}function Z(f){let e,s,i="URL:",r,o,l=(f[1].arguments.context.location.href||"/")+"",n;return{c(){e=v("div"),s=v("dt"),s.textContent=i,r=E(),o=v("dd"),n=N(l),this.h()},l(t){e=g(t,"DIV",{class:!0});var a=w(e);s=g(a,"DT",{class:!0,"data-svelte-h":!0}),y(s)!=="svelte-vrqyfv"&&(s.textContent=i),r=L(a),o=g(a,"DD",{});var c=w(o);n=I(c,l),c.forEach(d),a.forEach(d),this.h()},h(){k(s,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(t,a){b(t,e,a),m(e,s),m(e,r),m(e,o),m(o,n)},p(t,a){a&2&&l!==(l=(t[1].arguments.context.location.href||"/")+"")&&P(n,l)},d(t){t&&d(e)}}}function x(f){let e,s="Error message",i,r,o=f[1].error_message+"",l;return{c(){e=v("h2"),e.textContent=s,i=E(),r=v("code"),l=N(o),this.h()},l(n){e=g(n,"H2",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-46lcxd"&&(e.textContent=s),i=L(n),r=g(n,"CODE",{class:!0});var t=w(r);l=I(t,o),t.forEach(d),this.h()},h(){k(e,"class","svelte-7qclwq"),k(r,"class","svelte-7qclwq")},m(n,t){b(n,e,t),b(n,i,t),b(n,r,t),m(r,l)},p(n,t){t&2&&o!==(o=n[1].error_message+"")&&P(l,o)},d(n){n&&(d(e),d(i),d(r))}}}function ee(f){let e,s="Background job code:",i,r,o;return r=new ke({props:{language:"liquid",$$slots:{default:[De]},$$scope:{ctx:f}}}),{c(){e=v("h2"),e.textContent=s,i=E(),F(r.$$.fragment),this.h()},l(l){e=g(l,"H2",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-dymu4w"&&(e.textContent=s),i=L(l),z(r.$$.fragment,l),this.h()},h(){k(e,"class","svelte-7qclwq")},m(l,n){b(l,e,n),b(l,i,n),B(r,l,n),o=!0},p(l,n){const t={};n&10&&(t.$$scope={dirty:n,ctx:l}),r.$set(t)},i(l){o||(S(r.$$.fragment,l),o=!0)},o(l){j(r.$$.fragment,l),o=!1},d(l){l&&(d(e),d(i)),G(r,l)}}}function De(f){let e=f[1].liquid_body+"",s;return{c(){s=N(e)},l(i){s=I(i,e)},m(i,r){b(i,s,r)},p(i,r){r&2&&e!==(e=i[1].liquid_body+"")&&P(s,e)},d(i){i&&d(s)}}}function te(f){let e,s="Arguments",i,r,o,l;return o=new ge({props:{value:f[1].arguments,expandedLines:1,showFullLines:!0}}),{c(){e=v("h2"),e.textContent=s,i=E(),r=v("code"),F(o.$$.fragment),this.h()},l(n){e=g(n,"H2",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-h49jwy"&&(e.textContent=s),i=L(n),r=g(n,"CODE",{class:!0});var t=w(r);z(o.$$.fragment,t),t.forEach(d),this.h()},h(){k(e,"class","svelte-7qclwq"),k(r,"class","svelte-7qclwq")},m(n,t){b(n,e,t),b(n,i,t),b(n,r,t),B(o,r,null),l=!0},p(n,t){const a={};t&2&&(a.value=n[1].arguments),o.$set(a)},i(n){l||(S(o.$$.fragment,n),l=!0)},o(n){j(o.$$.fragment,n),l=!1},d(n){n&&(d(e),d(i),d(r)),G(o)}}}function we(f){let e,s,i,r;const o=[Ce,$e],l=[];function n(t,a){return t[1]===null?0:1}return e=n(f),s=l[e]=o[e](f),{c(){s.c(),i=T()},l(t){s.l(t),i=T()},m(t,a){l[e].m(t,a),b(t,i,a),r=!0},p(t,a){let c=e;e=n(t),e===c?l[e].p(t,a):(R(),j(l[c],1,1,()=>{l[c]=null}),M(),s=l[e],s?s.p(t,a):(s=l[e]=o[e](t),s.c()),S(s,1),s.m(i.parentNode,i))},i(t){r||(S(s),r=!0)},o(t){j(s),r=!1},d(t){t&&d(i),l[e].d(t)}}}function Ee(f){let e,s="",i,r,o,l;return o=new ve({props:{title:f[1].source_name||f[1].id||"Loading…",closeUrl:"/backgroundJobs?"+f[0].url.searchParams.toString(),$$slots:{default:[we]},$$scope:{ctx:f}}}),{c(){e=v("script"),e.innerHTML=s,r=E(),F(o.$$.fragment),this.h()},l(n){const t=de("svelte-1pgpgj4",document.head);e=g(t,"SCRIPT",{src:!0,"data-manual":!0,"data-svelte-h":!0}),y(e)!=="svelte-6mxszl"&&(e.innerHTML=s),t.forEach(d),r=L(n),z(o.$$.fragment,n),this.h()},h(){_e(e.src,i="/prism.js")||k(e,"src",i),k(e,"data-manual","")},m(n,t){m(document.head,e),b(n,r,t),B(o,n,t),l=!0},p(n,[t]){const a={};t&2&&(a.title=n[1].source_name||n[1].id||"Loading…"),t&1&&(a.closeUrl="/backgroundJobs?"+n[0].url.searchParams.toString()),t&10&&(a.$$scope={dirty:t,ctx:n}),o.$set(a)},i(n){l||(S(o.$$.fragment,n),l=!0)},o(n){j(o.$$.fragment,n),l=!1},d(n){n&&d(r),d(e),G(o,n)}}}function Le(f,e,s){let i;me(f,pe,l=>s(0,i=l));let r={};const o=async()=>{await he.get({id:i.params.id,type:i.params.type.toUpperCase()}).then(l=>{l.results.length?s(1,r=l.results[0]):s(1,r=null)})};return f.$$.update=()=>{f.$$.dirty&1&&i.params.id&&o(i.params.id)},[i,r]}class Pe extends se{constructor(e){super(),ae(this,e,Le,Ee,le,{})}}export{Pe as component};
