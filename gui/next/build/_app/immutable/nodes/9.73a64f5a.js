import{S as le,i as se,s as ae,Q as de,k as p,l as h,m as v,h as u,n as b,b as g,F as _,R as ue,T as _e,U as me,g as T,d as I,j as pe,t as he,w as ve,a as L,y as oe,W as ke,c as S,z as re,a4 as be,A as ie,B as ne,I as ge,e as P,v as ce,f as fe,q as $,r as j,K as F,u as C}from"../chunks/index.9dbfcd7f.js";import{p as De}from"../chunks/stores.dd05afbf.js";import{b as Ee}from"../chunks/backgroundJob.ed602863.js";import{A as $e}from"../chunks/Aside.3442fa44.js";function je(f){let e,s,r,i,c,t;const a=f[3].default,l=de(a,f,f[2],null);return{c(){e=p("template"),s=p("pre"),r=p("code"),l&&l.c(),this.h()},l(o){e=h(o,"TEMPLATE",{});var n=v(e.content);s=h(n,"PRE",{class:!0});var d=v(s);r=h(d,"CODE",{class:!0});var m=v(r);l&&l.l(m),m.forEach(u),d.forEach(u),n.forEach(u),this.h()},h(){b(r,"class",i="language-"+f[0]),b(s,"class",c="line-numbers language-"+f[0])},m(o,n){g(o,e,n),_(e.content,s),_(s,r),l&&l.m(r,null),f[4](e),t=!0},p(o,[n]){l&&l.p&&(!t||n&4)&&ue(l,a,o,o[2],t?me(a,o[2],n,null):_e(o[2]),null),(!t||n&1&&i!==(i="language-"+o[0]))&&b(r,"class",i),(!t||n&1&&c!==(c="line-numbers language-"+o[0]))&&b(s,"class",c)},i(o){t||(T(l,o),t=!0)},o(o){I(l,o),t=!1},d(o){o&&u(e),l&&l.d(o),f[4](null)}}}function Le(f,e,s){let{$$slots:r={},$$scope:i}=e,{language:c}=e,t;pe(async()=>{var o;await he(),(o=document.querySelector("#code"))==null||o.remove();const l=t.content.cloneNode(!0);l.firstChild.id="code",t.after(l),Prism.highlightAll()});function a(l){ve[l?"unshift":"push"](()=>{t=l,s(1,t)})}return f.$$set=l=>{"language"in l&&s(0,c=l.language),"$$scope"in l&&s(2,i=l.$$scope)},[c,t,i,r,a]}class Se extends le{constructor(e){super(),se(this,e,Le,je,ae,{language:0})}}function we(f){let e,s,r,i,c,t,a=f[1].source_name&&Y(f),l=f[1].id&&Z(f),o=f[1].error_message&&ee(f),n=f[1].id&&te(f);return{c(){e=p("dl"),a&&a.c(),s=P(),l&&l.c(),r=L(),o&&o.c(),i=L(),n&&n.c(),c=P(),this.h()},l(d){e=h(d,"DL",{class:!0});var m=v(e);a&&a.l(m),s=P(),l&&l.l(m),m.forEach(u),r=S(d),o&&o.l(d),i=S(d),n&&n.l(d),c=P(),this.h()},h(){b(e,"class","info svelte-1ox1jkx")},m(d,m){g(d,e,m),a&&a.m(e,null),_(e,s),l&&l.m(e,null),g(d,r,m),o&&o.m(d,m),g(d,i,m),n&&n.m(d,m),g(d,c,m),t=!0},p(d,m){d[1].source_name?a?a.p(d,m):(a=Y(d),a.c(),a.m(e,s)):a&&(a.d(1),a=null),d[1].id?l?l.p(d,m):(l=Z(d),l.c(),l.m(e,null)):l&&(l.d(1),l=null),d[1].error_message?o?o.p(d,m):(o=ee(d),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),d[1].id?n?(n.p(d,m),m&2&&T(n,1)):(n=te(d),n.c(),T(n,1),n.m(c.parentNode,c)):n&&(ce(),I(n,1,1,()=>{n=null}),fe())},i(d){t||(T(n),t=!0)},o(d){I(n),t=!1},d(d){d&&u(e),a&&a.d(),l&&l.d(),d&&u(r),o&&o.d(d),d&&u(i),n&&n.d(d),d&&u(c)}}}function Te(f){let e;return{c(){e=$("There is no such background job")},l(s){e=j(s,"There is no such background job")},m(s,r){g(s,e,r)},p:F,i:F,o:F,d(s){s&&u(e)}}}function Y(f){let e,s,r,i,c,t=f[1].id+"",a,l;return{c(){e=p("div"),s=p("dt"),r=$("ID:"),i=L(),c=p("dd"),a=$(t),l=L(),this.h()},l(o){e=h(o,"DIV",{class:!0});var n=v(e);s=h(n,"DT",{class:!0});var d=v(s);r=j(d,"ID:"),d.forEach(u),i=S(n),c=h(n,"DD",{});var m=v(c);a=j(m,t),m.forEach(u),l=S(n),n.forEach(u),this.h()},h(){b(s,"class","svelte-1ox1jkx"),b(e,"class","svelte-1ox1jkx")},m(o,n){g(o,e,n),_(e,s),_(s,r),_(e,i),_(e,c),_(c,a),_(e,l)},p(o,n){n&2&&t!==(t=o[1].id+"")&&C(a,t)},d(o){o&&u(e)}}}function Z(f){let e,s,r,i,c,t=new Date(f[1].created_at).toLocaleString()+"",a,l,o,n,d,m,R,U=new Date(f[1].created_at).toLocaleString()+"",V,H,w,q,O,z,y,A=f[1].arguments.context.location.href+"",B,D=f[1].dead_at&&x(f);return{c(){e=p("div"),s=p("dt"),r=$("Created at:"),i=L(),c=p("dd"),a=$(t),l=L(),o=p("div"),n=p("dt"),d=$("Run at:"),m=L(),R=p("dd"),V=$(U),H=L(),D&&D.c(),w=p("div"),q=p("dt"),O=$("URL:"),z=L(),y=p("dd"),B=$(A),this.h()},l(k){e=h(k,"DIV",{class:!0});var E=v(e);s=h(E,"DT",{class:!0});var K=v(s);r=j(K,"Created at:"),K.forEach(u),i=S(E),c=h(E,"DD",{});var M=v(c);a=j(M,t),M.forEach(u),l=S(E),E.forEach(u),o=h(k,"DIV",{class:!0});var N=v(o);n=h(N,"DT",{class:!0});var Q=v(n);d=j(Q,"Run at:"),Q.forEach(u),m=S(N),R=h(N,"DD",{});var W=v(R);V=j(W,U),W.forEach(u),H=S(N),N.forEach(u),D&&D.l(k),w=h(k,"DIV",{class:!0});var J=v(w);q=h(J,"DT",{class:!0});var G=v(q);O=j(G,"URL:"),G.forEach(u),z=S(J),y=h(J,"DD",{});var X=v(y);B=j(X,A),X.forEach(u),J.forEach(u),this.h()},h(){b(s,"class","svelte-1ox1jkx"),b(e,"class","svelte-1ox1jkx"),b(n,"class","svelte-1ox1jkx"),b(o,"class","svelte-1ox1jkx"),b(q,"class","svelte-1ox1jkx"),b(w,"class","svelte-1ox1jkx")},m(k,E){g(k,e,E),_(e,s),_(s,r),_(e,i),_(e,c),_(c,a),_(e,l),g(k,o,E),_(o,n),_(n,d),_(o,m),_(o,R),_(R,V),_(o,H),D&&D.m(k,E),g(k,w,E),_(w,q),_(q,O),_(w,z),_(w,y),_(y,B)},p(k,E){E&2&&t!==(t=new Date(k[1].created_at).toLocaleString()+"")&&C(a,t),E&2&&U!==(U=new Date(k[1].created_at).toLocaleString()+"")&&C(V,U),k[1].dead_at?D?D.p(k,E):(D=x(k),D.c(),D.m(w.parentNode,w)):D&&(D.d(1),D=null),E&2&&A!==(A=k[1].arguments.context.location.href+"")&&C(B,A)},d(k){k&&u(e),k&&u(o),D&&D.d(k),k&&u(w)}}}function x(f){let e,s,r,i,c,t=new Date(f[1].created_at).toLocaleString()+"",a,l;return{c(){e=p("div"),s=p("dt"),r=$("Dead at:"),i=L(),c=p("dd"),a=$(t),l=L(),this.h()},l(o){e=h(o,"DIV",{class:!0});var n=v(e);s=h(n,"DT",{class:!0});var d=v(s);r=j(d,"Dead at:"),d.forEach(u),i=S(n),c=h(n,"DD",{class:!0});var m=v(c);a=j(m,t),m.forEach(u),l=S(n),n.forEach(u),this.h()},h(){b(s,"class","svelte-1ox1jkx"),b(c,"class","error svelte-1ox1jkx"),b(e,"class","svelte-1ox1jkx")},m(o,n){g(o,e,n),_(e,s),_(s,r),_(e,i),_(e,c),_(c,a),_(e,l)},p(o,n){n&2&&t!==(t=new Date(o[1].created_at).toLocaleString()+"")&&C(a,t)},d(o){o&&u(e)}}}function ee(f){let e,s,r,i,c=f[1].error_message+"",t;return{c(){e=p("h2"),s=$("Error message"),r=L(),i=p("code"),t=$(c),this.h()},l(a){e=h(a,"H2",{class:!0});var l=v(e);s=j(l,"Error message"),l.forEach(u),r=S(a),i=h(a,"CODE",{class:!0});var o=v(i);t=j(o,c),o.forEach(u),this.h()},h(){b(e,"class","svelte-1ox1jkx"),b(i,"class","svelte-1ox1jkx")},m(a,l){g(a,e,l),_(e,s),g(a,r,l),g(a,i,l),_(i,t)},p(a,l){l&2&&c!==(c=a[1].error_message+"")&&C(t,c)},d(a){a&&u(e),a&&u(r),a&&u(i)}}}function te(f){let e,s,r,i,c;return i=new Se({props:{language:"liquid",$$slots:{default:[Ce]},$$scope:{ctx:f}}}),{c(){e=p("h2"),s=$("Background job code:"),r=L(),oe(i.$$.fragment),this.h()},l(t){e=h(t,"H2",{class:!0});var a=v(e);s=j(a,"Background job code:"),a.forEach(u),r=S(t),re(i.$$.fragment,t),this.h()},h(){b(e,"class","svelte-1ox1jkx")},m(t,a){g(t,e,a),_(e,s),g(t,r,a),ie(i,t,a),c=!0},p(t,a){const l={};a&10&&(l.$$scope={dirty:a,ctx:t}),i.$set(l)},i(t){c||(T(i.$$.fragment,t),c=!0)},o(t){I(i.$$.fragment,t),c=!1},d(t){t&&u(e),t&&u(r),ne(i,t)}}}function Ce(f){let e=f[1].liquid_body+"",s;return{c(){s=$(e)},l(r){s=j(r,e)},m(r,i){g(r,s,i)},p(r,i){i&2&&e!==(e=r[1].liquid_body+"")&&C(s,e)},d(r){r&&u(s)}}}function Ie(f){let e,s,r,i;const c=[Te,we],t=[];function a(l,o){return l[1]===null?0:1}return e=a(f),s=t[e]=c[e](f),{c(){s.c(),r=P()},l(l){s.l(l),r=P()},m(l,o){t[e].m(l,o),g(l,r,o),i=!0},p(l,o){let n=e;e=a(l),e===n?t[e].p(l,o):(ce(),I(t[n],1,1,()=>{t[n]=null}),fe(),s=t[e],s?s.p(l,o):(s=t[e]=c[e](l),s.c()),T(s,1),s.m(r.parentNode,r))},i(l){i||(T(s),i=!0)},o(l){I(s),i=!1},d(l){t[e].d(l),l&&u(r)}}}function qe(f){let e,s,r,i,c;return i=new $e({props:{title:f[1].source_name||f[1].id||"Loading…",closeUrl:"/backgroundJobs?"+f[0].url.searchParams.toString(),$$slots:{default:[Ie]},$$scope:{ctx:f}}}),{c(){e=p("script"),r=L(),oe(i.$$.fragment),this.h()},l(t){const a=ke("svelte-1pgpgj4",document.head);e=h(a,"SCRIPT",{src:!0,"data-manual":!0});var l=v(e);l.forEach(u),a.forEach(u),r=S(t),re(i.$$.fragment,t),this.h()},h(){be(e.src,s="/prism.js")||b(e,"src",s),b(e,"data-manual","")},m(t,a){_(document.head,e),g(t,r,a),ie(i,t,a),c=!0},p(t,[a]){const l={};a&2&&(l.title=t[1].source_name||t[1].id||"Loading…"),a&1&&(l.closeUrl="/backgroundJobs?"+t[0].url.searchParams.toString()),a&10&&(l.$$scope={dirty:a,ctx:t}),i.$set(l)},i(t){c||(T(i.$$.fragment,t),c=!0)},o(t){I(i.$$.fragment,t),c=!1},d(t){u(e),t&&u(r),ne(i,t)}}}function Pe(f,e,s){let r;ge(f,De,t=>s(0,r=t));let i={};const c=async()=>{await Ee.get({id:r.params.id,type:r.params.type.toUpperCase()}).then(t=>{t.length?s(1,i=t[0]):s(1,i=null)})};return f.$$.update=()=>{f.$$.dirty&1&&r.params.id&&c(r.params.id)},[r,i]}class Ne extends le{constructor(e){super(),se(this,e,Pe,qe,ae,{})}}export{Ne as component};
