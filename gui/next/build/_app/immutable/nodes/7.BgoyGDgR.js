import{s as Rs,e as f,a as O,c as h,b as g,g as D,z as ie,f as c,y as o,i as U,h as n,B as Ee,N as Us,D as Xt,r as Qt,P as Bs,t as M,d as y,j as G,G as Ce,p as js,E as be,A as oe,X as Zs,F as ks,k as ws,K as Ks,n as zs,Y as Js,l as Ys,u as Gs,m as Xs,o as Qs,V as Ts,Z as Ws,C as Ns}from"../chunks/scheduler.DdW0MO6w.js";import{S as Hs,i as Vs,c as Ie,b as Oe,m as De,t as B,g as Nt,d as Ct,a as K,e as Le}from"../chunks/index.BTckFgzM.js";import{e as Xe}from"../chunks/each.urgsHadt.js";import{o as xs,b as el,a as tl}from"../chunks/entry.CzjQ9HsQ.js";import{p as sl}from"../chunks/stores.H_aYtV1e.js";import{n as ll}from"../chunks/network.hGAcGvnf.js";import{s as Gt}from"../chunks/state.mwpI3R5m.js";import{T as al,c as rl}from"../chunks/Toggle.CcAM2iYi.js";import{I as Qe}from"../chunks/Icon.DnHrMBiR.js";import{g as nl}from"../chunks/globals.D0QH3NT1.js";const{window:ol}=nl;function Cs(t,s,l){const e=t.slice();return e[9]=s[l],e[11]=l,e}function Is(t){let s,l,e=t[9].name+"",a,i,r,u,E,P,p,k,_,b,C,T,w=t[9].name+"",d,N,v,m,q,S,j,ue;return m=new Qe({props:{icon:"x"}}),{c(){s=f("li"),l=f("a"),a=M(e),r=O(),u=f("form"),E=f("input"),P=O(),p=f("input"),_=O(),b=f("button"),C=f("span"),T=M("Delete '"),d=M(w),N=M("' preset"),v=O(),Ie(m.$$.fragment),q=O(),this.h()},l(A){s=h(A,"LI",{class:!0});var R=g(s);l=h(R,"A",{href:!0,class:!0});var X=g(l);a=y(X,e),X.forEach(c),r=D(R),u=h(R,"FORM",{class:!0});var x=g(u);E=h(x,"INPUT",{type:!0,name:!0}),P=D(x),p=h(x,"INPUT",{type:!0,name:!0}),_=D(x),b=h(x,"BUTTON",{type:!0,class:!0});var Y=g(b);C=h(Y,"SPAN",{class:!0});var Q=g(C);T=y(Q,"Delete '"),d=y(Q,w),N=y(Q,"' preset"),Q.forEach(c),v=D(Y),Oe(m.$$.fragment,Y),Y.forEach(c),x.forEach(c),q=D(R),R.forEach(c),this.h()},h(){o(l,"href",i="/network?"+t[9].url),o(l,"class","svelte-778p5v"),o(E,"type","hidden"),o(E,"name","id"),E.value=t[11],o(p,"type","hidden"),o(p,"name","name"),p.value=k=t[9].name,o(C,"class","label"),o(b,"type","submit"),o(b,"class","svelte-778p5v"),o(u,"class","svelte-778p5v"),o(s,"class","svelte-778p5v")},m(A,R){U(A,s,R),n(s,l),n(l,a),n(s,r),n(s,u),n(u,E),n(u,P),n(u,p),n(u,_),n(u,b),n(b,C),n(C,T),n(C,d),n(C,N),n(b,v),De(m,b,null),n(s,q),S=!0,j||(ue=Ee(u,"submit",Us(t[5])),j=!0)},p(A,R){(!S||R&4)&&e!==(e=A[9].name+"")&&G(a,e),(!S||R&4&&i!==(i="/network?"+A[9].url))&&o(l,"href",i),(!S||R&4&&k!==(k=A[9].name))&&(p.value=k),(!S||R&4)&&w!==(w=A[9].name+"")&&G(d,w)},i(A){S||(B(m.$$.fragment,A),S=!0)},o(A){K(m.$$.fragment,A),S=!1},d(A){A&&c(s),Le(m),j=!1,ue()}}}function Os(t){let s,l="You can save your current filters selection to get back to them quickly in the future.";return{c(){s=f("div"),s.textContent=l,this.h()},l(e){s=h(e,"DIV",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-14bf7on"&&(s.textContent=l),this.h()},h(){o(s,"class","message svelte-778p5v")},m(e,a){U(e,s,a)},d(e){e&&c(s)}}}function il(t){let s,l,e,a,i,r,u="Save currently selected filters as new preset",E,P,p,k,_,b,C,T;P=new Qe({props:{icon:"plus"}});let w=Xe(t[2]),d=[];for(let m=0;m<w.length;m+=1)d[m]=Is(Cs(t,w,m));const N=m=>K(d[m],1,1,()=>{d[m]=null});let v=!t[2].length&&Os();return{c(){s=f("div"),l=f("form"),e=f("input"),a=O(),i=f("button"),r=f("span"),r.textContent=u,E=O(),Ie(P.$$.fragment),p=O(),k=f("ul");for(let m=0;m<d.length;m+=1)d[m].c();_=O(),v&&v.c(),this.h()},l(m){s=h(m,"DIV",{});var q=g(s);l=h(q,"FORM",{class:!0});var S=g(l);e=h(S,"INPUT",{type:!0,placeholder:!0,class:!0}),a=D(S),i=h(S,"BUTTON",{type:!0,class:!0});var j=g(i);r=h(j,"SPAN",{class:!0,"data-svelte-h":!0}),ie(r)!=="svelte-2dhljl"&&(r.textContent=u),E=D(j),Oe(P.$$.fragment,j),j.forEach(c),S.forEach(c),p=D(q),k=h(q,"UL",{class:!0});var ue=g(k);for(let A=0;A<d.length;A+=1)d[A].l(ue);ue.forEach(c),_=D(q),v&&v.l(q),q.forEach(c),this.h()},h(){o(e,"type","text"),e.required=!0,o(e,"placeholder","Save current view"),o(e,"class","svelte-778p5v"),o(r,"class","label svelte-778p5v"),o(i,"type","submit"),o(i,"class","svelte-778p5v"),o(l,"class","create svelte-778p5v"),o(k,"class","svelte-778p5v")},m(m,q){U(m,s,q),n(s,l),n(l,e),t[6](e),n(l,a),n(l,i),n(i,r),n(i,E),De(P,i,null),n(s,p),n(s,k);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(k,null);n(s,_),v&&v.m(s,null),t[7](s),b=!0,C||(T=[Ee(ol,"keydown",t[3]),Ee(l,"submit",Us(t[4]))],C=!0)},p(m,[q]){if(q&36){w=Xe(m[2]);let S;for(S=0;S<w.length;S+=1){const j=Cs(m,w,S);d[S]?(d[S].p(j,q),B(d[S],1)):(d[S]=Is(j),d[S].c(),B(d[S],1),d[S].m(k,null))}for(Nt(),S=w.length;S<d.length;S+=1)N(S);Ct()}m[2].length?v&&(v.d(1),v=null):v||(v=Os(),v.c(),v.m(s,null))},i(m){if(!b){B(P.$$.fragment,m);for(let q=0;q<w.length;q+=1)B(d[q]);b=!0}},o(m){K(P.$$.fragment,m),d=d.filter(Boolean);for(let q=0;q<d.length;q+=1)K(d[q]);b=!1},d(m){m&&c(s),t[6](null),Le(P),Xt(d,m),v&&v.d(),t[7](null),C=!1,Qt(T)}}}function ul(t,s,l){let e,a,i=localStorage.posNetworkLogsPresets&&JSON.parse(localStorage.posNetworkLogsPresets)||[{url:"order_by=target_processing_time&order=DESC",name:"Slowest requests"},{url:"aggregate=http_request_path&order_by=median_target_processing_time&order=DESC",name:"Aggregated slowest requests"},{url:"order_by=_timestamp&order=DESC&lb_status_codes=400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,420,421,422,423,424,425,426,427,428,429,431,451",name:"Responded with 4∗∗ error"},{url:"order_by=_timestamp&order=DESC&lb_status_codes=500,501,502,503,504,505,506,507,508,510,511",name:"Responded with 5∗∗ error"}];const r=Bs();function u(_){var b,C,T,w,d,N,v,m,q,S;_.key==="Escape"?r("close"):_.key==="ArrowDown"?e.contains(document.activeElement)?(_.preventDefault(),document.activeElement.matches("input")?(b=e.querySelector("a"))==null||b.focus():(d=(w=(T=(C=document.activeElement)==null?void 0:C.closest("li"))==null?void 0:T.nextElementSibling)==null?void 0:w.querySelector("a"))==null||d.focus()):e.querySelector("li a").focus():_.key==="ArrowUp"?e.contains(document.activeElement)?(_.preventDefault(),(N=document.activeElement)!=null&&N.matches("li:first-child a")?a.focus():(S=(q=(m=(v=document.activeElement)==null?void 0:v.closest("li"))==null?void 0:m.previousElementSibling)==null?void 0:q.querySelector("a"))==null||S.focus()):e.querySelector("li:last-child a").focus():_.key==="Delete"&&e.contains(document.activeElement)&&document.activeElement.matches("a")&&document.activeElement.closest("li").querySelector("form").requestSubmit()}xs(()=>{r("close")});function E(_){let b=new URLSearchParams(document.location.search);b.delete("start_time"),l(2,i=[...i,{url:b.toString(),name:a.value}]),localStorage.posNetworkLogsPresets=JSON.stringify(i),l(1,a.value="",a)}function P(_){const b=new FormData(_.target),C=b.get("id"),T=b.get("name");window.confirm(`Are you sure that you want to delete '${T}' preset?`)&&(i.splice(C,1),l(2,i),localStorage.posNetworkLogsPresets=JSON.stringify(i))}function p(_){Ce[_?"unshift":"push"](()=>{a=_,l(1,a)})}function k(_){Ce[_?"unshift":"push"](()=>{e=_,l(0,e)})}return[e,a,i,u,E,P,p,k]}class cl extends Hs{constructor(s){super(),Vs(this,s,ul,il,Rs,{})}}function Ds(t,s,l){const e=t.slice();return e[33]=s[l],e}function Ls(t,s,l){const e=t.slice();return e[36]=s[l],e}function qs(t){let s,l;return s=new cl({}),s.$on("close",t[13]),{c(){Ie(s.$$.fragment)},l(e){Oe(s.$$.fragment,e)},m(e,a){De(s,e,a),l=!0},p:zs,i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){K(s.$$.fragment,e),l=!1},d(e){Le(s,e)}}}function _l(t){let s,l;return s=new Qe({props:{icon:"sortAZ"}}),{c(){Ie(s.$$.fragment)},l(e){Oe(s.$$.fragment,e)},m(e,a){De(s,e,a),l=!0},i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){K(s.$$.fragment,e),l=!1},d(e){Le(s,e)}}}function fl(t){let s,l;return s=new Qe({props:{icon:"sortZA"}}),{c(){Ie(s.$$.fragment)},l(e){Oe(s.$$.fragment,e)},m(e,a){De(s,e,a),l=!0},i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){K(s.$$.fragment,e),l=!1},d(e){Le(s,e)}}}function As(t){let s,l=Xe(t[10].networks.aggs.filters),e=[];for(let a=0;a<l.length;a+=1)e[a]=Ms(Ls(t,l,a));return{c(){s=f("ul");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){s=h(a,"UL",{class:!0});var i=g(s);for(let r=0;r<e.length;r+=1)e[r].l(i);i.forEach(c),this.h()},h(){o(s,"class","separated svelte-6bc3mx")},m(a,i){U(a,s,i);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(s,null)},p(a,i){if(i[0]&1058){l=Xe(a[10].networks.aggs.filters);let r;for(r=0;r<l.length;r+=1){const u=Ls(a,l,r);e[r]?e[r].p(u,i):(e[r]=Ms(u),e[r].c(),e[r].m(s,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=l.length}},d(a){a&&c(s),Xt(e,a)}}}function Ms(t){let s,l,e,a,i=!1,r,u=t[36].lb_status_code+"",E,P,p,k=t[36].count+"",_,b,C,T,w;return C=Js(t[26][0]),{c(){s=f("li"),l=f("label"),e=f("input"),r=O(),E=M(u),P=O(),p=f("small"),_=M(k),b=O(),this.h()},l(d){s=h(d,"LI",{class:!0});var N=g(s);l=h(N,"LABEL",{class:!0});var v=g(l);e=h(v,"INPUT",{form:!0,type:!0}),r=D(v),E=y(v,u),v.forEach(c),P=D(N),p=h(N,"SMALL",{class:!0});var m=g(p);_=y(m,k),m.forEach(c),b=D(N),N.forEach(c),this.h()},h(){o(e,"form","none"),o(e,"type","checkbox"),e.__value=a=t[36].lb_status_code.toString(),oe(e,e.__value),o(l,"class","svelte-6bc3mx"),o(p,"class","svelte-6bc3mx"),o(s,"class","svelte-6bc3mx"),C.p(e)},m(d,N){U(d,s,N),n(s,l),n(l,e),e.checked=~(t[5]||[]).indexOf(e.__value),n(l,r),n(l,E),n(s,P),n(s,p),n(p,_),n(s,b),T||(w=[Ee(e,"change",t[25]),Ee(e,"change",t[27])],T=!0)},p(d,N){N[0]&1024&&a!==(a=d[36].lb_status_code.toString())&&(e.__value=a,oe(e,e.__value),i=!0),(i||N[0]&1056)&&(e.checked=~(d[5]||[]).indexOf(e.__value)),N[0]&1024&&u!==(u=d[36].lb_status_code+"")&&G(E,u),N[0]&1024&&k!==(k=d[36].count+"")&&G(_,k)},d(d){d&&c(s),C.r(),T=!1,Qt(w)}}}function hl(t){let s,l="Time",e,a,i="Status";return{c(){s=f("th"),s.textContent=l,e=O(),a=f("th"),a.textContent=i,this.h()},l(r){s=h(r,"TH",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-17osfxn"&&(s.textContent=l),e=D(r),a=h(r,"TH",{class:!0,"data-svelte-h":!0}),ie(a)!=="svelte-bi34jg"&&(a.textContent=i),this.h()},h(){o(s,"class","svelte-6bc3mx"),o(a,"class","svelte-6bc3mx")},m(r,u){U(r,s,u),U(r,e,u),U(r,a,u)},d(r){r&&(c(s),c(e),c(a))}}}function ml(t){let s,l="Count";return{c(){s=f("th"),s.textContent=l,this.h()},l(e){s=h(e,"TH",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-1i23ozd"&&(s.textContent=l),this.h()},h(){o(s,"class","svelte-6bc3mx")},m(e,a){U(e,s,a)},d(e){e&&c(s)}}}function ys(t){let s,l=Xe(t[10].networks.aggs.results),e=[];for(let a=0;a<l.length;a+=1)e[a]=$s(Ds(t,l,a));return{c(){s=f("tbody");for(let a=0;a<e.length;a+=1)e[a].c()},l(a){s=h(a,"TBODY",{});var i=g(s);for(let r=0;r<e.length;r+=1)e[r].l(i);i.forEach(c)},m(a,i){U(a,s,i);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(s,null)},p(a,i){if(i[0]&1536){l=Xe(a[10].networks.aggs.results);let r;for(r=0;r<l.length;r+=1){const u=Ds(a,l,r);e[r]?e[r].p(u,i):(e[r]=$s(u),e[r].c(),e[r].m(s,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=l.length}},d(a){a&&c(s),Xt(e,a)}}}function dl(t){let s,l,e=new Date(t[33]._timestamp/1e3).toLocaleString()+"",a,i,r,u,E,P=t[33].lb_status_code+"",p,k;return{c(){s=f("td"),l=f("a"),a=M(e),r=O(),u=f("td"),E=f("a"),p=M(P),this.h()},l(_){s=h(_,"TD",{class:!0});var b=g(s);l=h(b,"A",{href:!0,class:!0});var C=g(l);a=y(C,e),C.forEach(c),b.forEach(c),r=D(_),u=h(_,"TD",{class:!0});var T=g(u);E=h(T,"A",{href:!0,class:!0});var w=g(E);p=y(w,P),w.forEach(c),T.forEach(c),this.h()},h(){o(l,"href",i="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),o(l,"class","svelte-6bc3mx"),o(s,"class","time svelte-6bc3mx"),o(E,"href",k="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),o(E,"class","svelte-6bc3mx"),o(u,"class","status svelte-6bc3mx"),be(u,"success",t[33].lb_status_code>=200&&t[33].lb_status_code<300),be(u,"info",t[33].lb_status_code>=300&&t[33].lb_status_code<400),be(u,"error",t[33].lb_status_code>=400&&t[33].lb_status_code<600)},m(_,b){U(_,s,b),n(s,l),n(l,a),U(_,r,b),U(_,u,b),n(u,E),n(E,p)},p(_,b){b[0]&1024&&e!==(e=new Date(_[33]._timestamp/1e3).toLocaleString()+"")&&G(a,e),b[0]&1536&&i!==(i="/network/"+_[33]._timestamp+"?"+_[9].url.searchParams.toString())&&o(l,"href",i),b[0]&1024&&P!==(P=_[33].lb_status_code+"")&&G(p,P),b[0]&1536&&k!==(k="/network/"+_[33]._timestamp+"?"+_[9].url.searchParams.toString())&&o(E,"href",k),b[0]&1024&&be(u,"success",_[33].lb_status_code>=200&&_[33].lb_status_code<300),b[0]&1024&&be(u,"info",_[33].lb_status_code>=300&&_[33].lb_status_code<400),b[0]&1024&&be(u,"error",_[33].lb_status_code>=400&&_[33].lb_status_code<600)},d(_){_&&(c(s),c(r),c(u))}}}function gl(t){let s,l,e=t[33].count+"",a;return{c(){s=f("td"),l=f("div"),a=M(e),this.h()},l(i){s=h(i,"TD",{class:!0});var r=g(s);l=h(r,"DIV",{class:!0});var u=g(l);a=y(u,e),u.forEach(c),r.forEach(c),this.h()},h(){o(l,"class","svelte-6bc3mx"),o(s,"class","count svelte-6bc3mx")},m(i,r){U(i,s,r),n(s,l),n(l,a)},p(i,r){r[0]&1024&&e!==(e=i[33].count+"")&&G(a,e)},d(i){i&&c(s)}}}function pl(t){let s,l,e=t[33].http_request_method+"",a,i,r=t[33].http_request_path+"",u;return{c(){s=f("div"),l=f("span"),a=M(e),i=O(),u=M(r),this.h()},l(E){s=h(E,"DIV",{class:!0});var P=g(s);l=h(P,"SPAN",{class:!0});var p=g(l);a=y(p,e),p.forEach(c),i=D(P),u=y(P,r),P.forEach(c),this.h()},h(){o(l,"class","method svelte-6bc3mx"),o(s,"class","svelte-6bc3mx")},m(E,P){U(E,s,P),n(s,l),n(l,a),n(s,i),n(s,u)},p(E,P){P[0]&1024&&e!==(e=E[33].http_request_method+"")&&G(a,e),P[0]&1024&&r!==(r=E[33].http_request_path+"")&&G(u,r)},d(E){E&&c(s)}}}function vl(t){let s,l,e,a=t[33].http_request_method+"",i,r,u=t[33].http_request_path+"",E,P;return{c(){s=f("a"),l=f("div"),e=f("span"),i=M(a),r=O(),E=M(u),this.h()},l(p){s=h(p,"A",{href:!0,class:!0});var k=g(s);l=h(k,"DIV",{class:!0});var _=g(l);e=h(_,"SPAN",{class:!0});var b=g(e);i=y(b,a),b.forEach(c),r=D(_),E=y(_,u),_.forEach(c),k.forEach(c),this.h()},h(){o(e,"class","method svelte-6bc3mx"),o(l,"class","svelte-6bc3mx"),o(s,"href",P="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),o(s,"class","svelte-6bc3mx")},m(p,k){U(p,s,k),n(s,l),n(l,e),n(e,i),n(l,r),n(l,E)},p(p,k){k[0]&1024&&a!==(a=p[33].http_request_method+"")&&G(i,a),k[0]&1024&&u!==(u=p[33].http_request_path+"")&&G(E,u),k[0]&1536&&P!==(P="/network/"+p[33]._timestamp+"?"+p[9].url.searchParams.toString())&&o(s,"href",P)},d(p){p&&c(s)}}}function bl(t){let s,l=Math.round((parseFloat(t[33].median_target_processing_time)+Number.EPSILON)*1e3)/1e3+"",e,a,i;return{c(){s=f("div"),e=M(l),a=M("s"),this.h()},l(r){s=h(r,"DIV",{title:!0,class:!0});var u=g(s);e=y(u,l),a=y(u,"s"),u.forEach(c),this.h()},h(){o(s,"title",i="Median: "+Math.round((parseFloat(t[33].median_target_processing_time)+Number.EPSILON)*1e3)/1e3+"s  \rMean: "+Math.round((parseFloat(t[33].avg_target_processing_time)+Number.EPSILON)*1e3)/1e3+"s  \rMin: "+Math.round((parseFloat(t[33].min_target_processing_time)+Number.EPSILON)*1e3)/1e3+"s  \rMax: "+Math.round((parseFloat(t[33].max_target_processing_time)+Number.EPSILON)*1e3)/1e3+"s"),o(s,"class","svelte-6bc3mx")},m(r,u){U(r,s,u),n(s,e),n(s,a)},p(r,u){u[0]&1024&&l!==(l=Math.round((parseFloat(r[33].median_target_processing_time)+Number.EPSILON)*1e3)/1e3+"")&&G(e,l),u[0]&1024&&i!==(i="Median: "+Math.round((parseFloat(r[33].median_target_processing_time)+Number.EPSILON)*1e3)/1e3+"s  \rMean: "+Math.round((parseFloat(r[33].avg_target_processing_time)+Number.EPSILON)*1e3)/1e3+"s  \rMin: "+Math.round((parseFloat(r[33].min_target_processing_time)+Number.EPSILON)*1e3)/1e3+"s  \rMax: "+Math.round((parseFloat(r[33].max_target_processing_time)+Number.EPSILON)*1e3)/1e3+"s")&&o(s,"title",i)},d(r){r&&c(s)}}}function El(t){let s,l=Math.round((parseFloat(t[33].target_processing_time)+Number.EPSILON)*1e3)/1e3+"",e,a,i;return{c(){s=f("a"),e=M(l),a=M("s"),this.h()},l(r){s=h(r,"A",{href:!0,class:!0});var u=g(s);e=y(u,l),a=y(u,"s"),u.forEach(c),this.h()},h(){o(s,"href",i="/network/"+t[33]._timestamp+"?"+t[9].url.searchParams.toString()),o(s,"class","svelte-6bc3mx")},m(r,u){U(r,s,u),n(s,e),n(s,a)},p(r,u){u[0]&1024&&l!==(l=Math.round((parseFloat(r[33].target_processing_time)+Number.EPSILON)*1e3)/1e3+"")&&G(e,l),u[0]&1536&&i!==(i="/network/"+r[33]._timestamp+"?"+r[9].url.searchParams.toString())&&o(s,"href",i)},d(r){r&&c(s)}}}function $s(t){let s,l,e,a,i,r,u,E,P;function p(v,m){return m[0]&512&&(l=null),l==null&&(l=!!v[9].url.searchParams.get("aggregate")),l?gl:dl}let k=p(t,[-1,-1]),_=k(t);function b(v,m){return m[0]&512&&(i=null),i==null&&(i=!v[9].url.searchParams.get("aggregate")),i?vl:pl}let C=b(t,[-1,-1]),T=C(t);function w(v,m){return m[0]&512&&(E=null),E==null&&(E=!v[9].url.searchParams.get("aggregate")),E?El:bl}let d=w(t,[-1,-1]),N=d(t);return{c(){s=f("tr"),_.c(),e=O(),a=f("td"),T.c(),r=O(),u=f("td"),N.c(),P=O(),this.h()},l(v){s=h(v,"TR",{class:!0});var m=g(s);_.l(m),e=D(m),a=h(m,"TD",{class:!0});var q=g(a);T.l(q),q.forEach(c),r=D(m),u=h(m,"TD",{class:!0});var S=g(u);N.l(S),S.forEach(c),P=D(m),m.forEach(c),this.h()},h(){o(a,"class","request svelte-6bc3mx"),o(u,"class","duration svelte-6bc3mx"),o(s,"class","svelte-6bc3mx"),be(s,"active",t[33]._timestamp&&t[9].params.id==t[33]._timestamp)},m(v,m){U(v,s,m),_.m(s,null),n(s,e),n(s,a),T.m(a,null),n(s,r),n(s,u),N.m(u,null),n(s,P)},p(v,m){k===(k=p(v,m))&&_?_.p(v,m):(_.d(1),_=k(v),_&&(_.c(),_.m(s,e))),C===(C=b(v,m))&&T?T.p(v,m):(T.d(1),T=C(v),T&&(T.c(),T.m(a,null))),d===(d=w(v,m))&&N?N.p(v,m):(N.d(1),N=d(v),N&&(N.c(),N.m(u,null))),m[0]&1536&&be(s,"active",v[33]._timestamp&&v[9].params.id==v[33]._timestamp)},d(v){v&&c(s),_.d(),T.d(),N.d()}}}function Fs(t){let s;const l=t[15].default,e=Ys(l,t,t[14],null);return{c(){e&&e.c()},l(a){e&&e.l(a)},m(a,i){e&&e.m(a,i),s=!0},p(a,i){e&&e.p&&(!s||i[0]&16384)&&Gs(e,l,a,a[14],s?Qs(l,a[14],i,null):Xs(a[14]),null)},i(a){s||(B(e,a),s=!0)},o(a){K(e,a),s=!1},d(a){e&&e.d(a)}}}function Pl(t){var rs,ns,os,is,us;let s,l,e,a,i,r,u="Filters",E,P,p,k,_="Choose filters preset",b,C,T,w,d,N="Reset",v,m,q,S,j,ue,A,R,X,x,Y,Q,st='<label for="order_by" class="svelte-6bc3mx">Sorting</label>',We,ee,Z,W,Be,I,je,te,It,lt,at,se,Ot,rt,nt,le,Dt,ot,it,ae,Lt,ut,ct,re,qt,_t,ft,At,ce,me,Mt,ht,de,yt,mt,$t,we,dt,_e,fe,Ft,qe,Ae,Wt='<label for="start_time" class="svelte-6bc3mx">Time limit</label>',Rt,ne,gt,Ut,ge,Me,xt="Status Code",Ht,pe,Vt,Bt,Ze,Ke,Pe,ze,he,pt,vt,Te,xe=t[9].url.searchParams.get("aggregate")=="http_request_path"?"Aggregated ":"",bt,jt,et=t[9].url.searchParams.get("aggregate")=="http_request_path"?"s":"",Et,Zt,ye,es="Processing Time",Kt,zt,$,Jt,ts;document.title=s="Logs"+((rs=t[10].online)!=null&&rs.MPKIT_URL?": "+t[10].online.MPKIT_URL.replace("https://",""):""),C=new Qe({props:{icon:"controlls"}}),m=new Qe({props:{icon:"disable"}});let H=t[7]&&qs(t);X=new al({props:{name:"aggregate",options:[{value:"http_request_path",label:"Aggregate requests"}],checked:t[9].url.searchParams.get("aggregate")}}),X.$on("change",t[19]);const ss=[fl,_l],$e=[];function ls(F,L){return L[0]&512&&(dt=null),dt==null&&(dt=F[9].url.searchParams.get("order")==="DESC"||!F[9].url.searchParams.get("order")),dt?0:1}_e=ls(t,[-1,-1]),fe=$e[_e]=ss[_e](t);let z=((os=(ns=t[10].networks)==null?void 0:ns.aggs)==null?void 0:os.filters)&&As(t);function as(F,L){return L[0]&512&&(pt=null),pt==null&&(pt=!!F[9].url.searchParams.get("aggregate")),pt?ml:hl}let Pt=as(t,[-1,-1]),Se=Pt(t),J=((us=(is=t[10].networks)==null?void 0:is.aggs)==null?void 0:us.results)&&ys(t),V=t[9].params.id&&Fs(t);return{c(){l=O(),e=f("div"),a=f("nav"),i=f("header"),r=f("h2"),r.textContent=u,E=O(),P=f("nav"),p=f("button"),k=f("span"),k.textContent=_,b=O(),Ie(C.$$.fragment),T=O(),w=f("a"),d=f("span"),d.textContent=N,v=O(),Ie(m.$$.fragment),q=O(),S=f("dialog"),H&&H.c(),ue=O(),A=f("form"),R=f("fieldset"),Ie(X.$$.fragment),x=O(),Y=f("fieldset"),Q=f("h3"),Q.innerHTML=st,We=O(),ee=f("div"),Z=f("select"),W=f("option"),Be=M("Count"),te=f("option"),It=M("Request path"),se=f("option"),Ot=M("Processing time"),le=f("option"),Dt=M("Time"),ae=f("option"),Lt=M("Request path"),re=f("option"),qt=M("Processing Time"),At=O(),ce=f("select"),me=f("option"),Mt=M("DESC [Z→A]"),de=f("option"),yt=M("ASC [A→Z]"),$t=O(),we=f("label"),fe.c(),Ft=O(),qe=f("fieldset"),Ae=f("h3"),Ae.innerHTML=Wt,Rt=O(),ne=f("input"),Ut=O(),ge=f("fieldset"),Me=f("h3"),Me.textContent=xt,Ht=O(),pe=f("input"),Vt=O(),z&&z.c(),Bt=O(),Ze=f("section"),Ke=f("article"),Pe=f("table"),ze=f("thead"),he=f("tr"),Se.c(),vt=O(),Te=f("th"),bt=M(xe),jt=M("Request"),Et=M(et),Zt=O(),ye=f("th"),ye.textContent=es,Kt=O(),J&&J.c(),zt=O(),V&&V.c(),this.h()},l(F){js("svelte-dfdkqr",document.head).forEach(c),l=D(F),e=h(F,"DIV",{class:!0});var ke=g(e);a=h(ke,"NAV",{class:!0});var ve=g(a);i=h(ve,"HEADER",{class:!0});var Fe=g(i);r=h(Fe,"H2",{class:!0,"data-svelte-h":!0}),ie(r)!=="svelte-1ydm89n"&&(r.textContent=u),E=D(Fe),P=h(Fe,"NAV",{class:!0});var Re=g(P);p=h(Re,"BUTTON",{type:!0,title:!0,class:!0});var Ue=g(p);k=h(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),ie(k)!=="svelte-p09m9k"&&(k.textContent=_),b=D(Ue),Oe(C.$$.fragment,Ue),Ue.forEach(c),T=D(Re),w=h(Re,"A",{href:!0,title:!0,class:!0});var He=g(w);d=h(He,"SPAN",{class:!0,"data-svelte-h":!0}),ie(d)!=="svelte-1c96jh2"&&(d.textContent=N),v=D(He),Oe(m.$$.fragment,He),He.forEach(c),Re.forEach(c),Fe.forEach(c),q=D(ve),S=h(ve,"DIALOG",{class:!0});var tt=g(S);H&&H.l(tt),tt.forEach(c),ue=D(ve),A=h(ve,"FORM",{action:!0,id:!0,class:!0});var Ne=g(A);R=h(Ne,"FIELDSET",{class:!0});var cs=g(R);Oe(X.$$.fragment,cs),cs.forEach(c),x=D(Ne),Y=h(Ne,"FIELDSET",{class:!0});var St=g(Y);Q=h(St,"H3",{class:!0,"data-svelte-h":!0}),ie(Q)!=="svelte-e2rbyt"&&(Q.innerHTML=st),We=D(St),ee=h(St,"DIV",{class:!0});var Je=g(ee);Z=h(Je,"SELECT",{name:!0,id:!0,class:!0});var Ve=g(Z);W=h(Ve,"OPTION",{});var _s=g(W);Be=y(_s,"Count"),_s.forEach(c),te=h(Ve,"OPTION",{});var fs=g(te);It=y(fs,"Request path"),fs.forEach(c),se=h(Ve,"OPTION",{});var hs=g(se);Ot=y(hs,"Processing time"),hs.forEach(c),le=h(Ve,"OPTION",{});var ms=g(le);Dt=y(ms,"Time"),ms.forEach(c),ae=h(Ve,"OPTION",{});var ds=g(ae);Lt=y(ds,"Request path"),ds.forEach(c),re=h(Ve,"OPTION",{});var gs=g(re);qt=y(gs,"Processing Time"),gs.forEach(c),Ve.forEach(c),At=D(Je),ce=h(Je,"SELECT",{name:!0,id:!0,class:!0});var Yt=g(ce);me=h(Yt,"OPTION",{});var ps=g(me);Mt=y(ps,"DESC [Z→A]"),ps.forEach(c),de=h(Yt,"OPTION",{});var vs=g(de);yt=y(vs,"ASC [A→Z]"),vs.forEach(c),Yt.forEach(c),$t=D(Je),we=h(Je,"LABEL",{for:!0,class:!0});var bs=g(we);fe.l(bs),bs.forEach(c),Je.forEach(c),St.forEach(c),Ft=D(Ne),qe=h(Ne,"FIELDSET",{});var kt=g(qe);Ae=h(kt,"H3",{class:!0,"data-svelte-h":!0}),ie(Ae)!=="svelte-kjwpiv"&&(Ae.innerHTML=Wt),Rt=D(kt),ne=h(kt,"INPUT",{type:!0,name:!0,id:!0,min:!0,max:!0,class:!0}),kt.forEach(c),Ut=D(Ne),ge=h(Ne,"FIELDSET",{});var Ye=g(ge);Me=h(Ye,"H3",{class:!0,"data-svelte-h":!0}),ie(Me)!=="svelte-tzgpg7"&&(Me.textContent=xt),Ht=D(Ye),pe=h(Ye,"INPUT",{type:!0,name:!0,class:!0}),Vt=D(Ye),z&&z.l(Ye),Ye.forEach(c),Ne.forEach(c),ve.forEach(c),Bt=D(ke),Ze=h(ke,"SECTION",{class:!0});var Es=g(Ze);Ke=h(Es,"ARTICLE",{class:!0});var Ps=g(Ke);Pe=h(Ps,"TABLE",{class:!0});var wt=g(Pe);ze=h(wt,"THEAD",{class:!0});var Ss=g(ze);he=h(Ss,"TR",{class:!0});var Ge=g(he);Se.l(Ge),vt=D(Ge),Te=h(Ge,"TH",{class:!0});var Tt=g(Te);bt=y(Tt,xe),jt=y(Tt,"Request"),Et=y(Tt,et),Tt.forEach(c),Zt=D(Ge),ye=h(Ge,"TH",{class:!0,"data-svelte-h":!0}),ie(ye)!=="svelte-1h8jpo9"&&(ye.textContent=es),Ge.forEach(c),Ss.forEach(c),Kt=D(wt),J&&J.l(wt),wt.forEach(c),Ps.forEach(c),Es.forEach(c),zt=D(ke),V&&V.l(ke),ke.forEach(c),this.h()},h(){o(r,"class","svelte-6bc3mx"),o(k,"class","label svelte-6bc3mx"),o(p,"type","button"),o(p,"title","Saved filters presets"),o(p,"class","svelte-6bc3mx"),be(p,"active",t[7]),o(d,"class","label svelte-6bc3mx"),o(w,"href","/network"),o(w,"title","Reset filters"),o(w,"class","reset svelte-6bc3mx"),o(P,"class","svelte-6bc3mx"),o(i,"class","svelte-6bc3mx"),o(S,"class","presets content-context svelte-6bc3mx"),o(R,"class","toggle svelte-6bc3mx"),o(Q,"class","svelte-6bc3mx"),W.selected=I=t[9].url.searchParams.get("order_by")==="count",W.__value="count",oe(W,W.__value),W.hidden=je=!t[9].url.searchParams.get("aggregate")&&!t[4],te.selected=lt=t[9].url.searchParams.get("order_by")==="http_request_path",te.__value="http_request_path",oe(te,te.__value),te.hidden=at=!t[9].url.searchParams.get("aggregate")&&!t[4],se.selected=rt=t[9].url.searchParams.get("order_by")==="median_target_processing_time",se.__value="median_target_processing_time",oe(se,se.__value),se.hidden=nt=!t[9].url.searchParams.get("aggregate")&&!t[4],le.selected=ot=t[9].url.searchParams.get("order_by")==="_timestamp"||!t[9].url.searchParams.get("order_by")&&!t[9].url.searchParams.get("aggregate"),le.__value="_timestamp",oe(le,le.__value),le.hidden=it=t[9].url.searchParams.get("aggregate")||t[4],ae.selected=ut=t[9].url.searchParams.get("order_by")==="http_request_path",ae.__value="http_request_path",oe(ae,ae.__value),ae.hidden=ct=t[9].url.searchParams.get("aggregate")||t[4],re.selected=_t=t[9].url.searchParams.get("order_by")==="target_processing_time",re.__value="target_processing_time",oe(re,re.__value),re.hidden=ft=t[9].url.searchParams.get("aggregate")||t[4],o(Z,"name","order_by"),o(Z,"id","order_by"),o(Z,"class","svelte-6bc3mx"),me.__value="DESC",oe(me,me.__value),me.selected=ht=t[9].url.searchParams.get("order")==="DESC",de.__value="ASC",oe(de,de.__value),de.selected=mt=t[9].url.searchParams.get("order")==="ASC",o(ce,"name","order"),o(ce,"id","order"),o(ce,"class","svelte-6bc3mx"),o(we,"for","order"),o(we,"class","button svelte-6bc3mx"),o(ee,"class","svelte-6bc3mx"),o(Y,"class","sort svelte-6bc3mx"),o(Ae,"class","svelte-6bc3mx"),o(ne,"type","date"),o(ne,"name","start_time"),o(ne,"id","start_time"),o(ne,"min",t[12].toISOString().split("T")[0]),o(ne,"max",t[11].toISOString().split("T")[0]),ne.value=gt=t[9].url.searchParams.get("start_time")||t[11].toISOString().split("T")[0],o(ne,"class","svelte-6bc3mx"),o(Me,"class","svelte-6bc3mx"),o(pe,"type","text"),o(pe,"name","lb_status_codes"),o(pe,"class","svelte-6bc3mx"),o(A,"action",""),o(A,"id","filters"),o(A,"class","svelte-6bc3mx"),o(a,"class","filters svelte-6bc3mx"),o(Te,"class","svelte-6bc3mx"),o(ye,"class","duration svelte-6bc3mx"),o(he,"class","svelte-6bc3mx"),o(ze,"class","svelte-6bc3mx"),o(Pe,"class","svelte-6bc3mx"),o(Ke,"class","content svelte-6bc3mx"),o(Ze,"class","container svelte-6bc3mx"),o(e,"class","page svelte-6bc3mx")},m(F,L){U(F,l,L),U(F,e,L),n(e,a),n(a,i),n(i,r),n(i,E),n(i,P),n(P,p),n(p,k),n(p,b),De(C,p,null),t[16](p),n(P,T),n(P,w),n(w,d),n(w,v),De(m,w,null),n(a,q),n(a,S),H&&H.m(S,null),t[18](S),n(a,ue),n(a,A),n(A,R),De(X,R,null),n(A,x),n(A,Y),n(Y,Q),n(Y,We),n(Y,ee),n(ee,Z),n(Z,W),n(W,Be),n(Z,te),n(te,It),n(Z,se),n(se,Ot),n(Z,le),n(le,Dt),n(Z,ae),n(ae,Lt),n(Z,re),n(re,qt),t[20](Z),n(ee,At),n(ee,ce),n(ce,me),n(me,Mt),n(ce,de),n(de,yt),t[22](ce),n(ee,$t),n(ee,we),$e[_e].m(we,null),n(A,Ft),n(A,qe),n(qe,Ae),n(qe,Rt),n(qe,ne),n(A,Ut),n(A,ge),n(ge,Me),n(ge,Ht),n(ge,pe),oe(pe,t[5]),n(ge,Vt),z&&z.m(ge,null),t[28](A),n(e,Bt),n(e,Ze),n(Ze,Ke),n(Ke,Pe),n(Pe,ze),n(ze,he),Se.m(he,null),n(he,vt),n(he,Te),n(Te,bt),n(Te,jt),n(Te,Et),n(he,Zt),n(he,ye),n(Pe,Kt),J&&J.m(Pe,null),n(e,zt),V&&V.m(e,null),t[29](e),$=!0,Jt||(ts=[Ee(p,"click",t[13]),Zs(j=rl.call(null,S,t[17])),Ee(Z,"change",t[21]),Ee(ce,"change",t[23]),Ee(ne,"input",function(){ks(t[1].requestSubmit())&&t[1].requestSubmit().apply(this,arguments)}),Ee(pe,"input",t[24])],Jt=!0)},p(F,L){var Fe,Re,Ue,He,tt;t=F,(!$||L[0]&1024)&&s!==(s="Logs"+((Fe=t[10].online)!=null&&Fe.MPKIT_URL?": "+t[10].online.MPKIT_URL.replace("https://",""):""))&&(document.title=s),(!$||L[0]&128)&&be(p,"active",t[7]),t[7]?H?(H.p(t,L),L[0]&128&&B(H,1)):(H=qs(t),H.c(),B(H,1),H.m(S,null)):H&&(Nt(),K(H,1,1,()=>{H=null}),Ct()),j&&ks(j.update)&&L[0]&384&&j.update.call(null,t[17]);const ke={};L[0]&512&&(ke.checked=t[9].url.searchParams.get("aggregate")),X.$set(ke),(!$||L[0]&512&&I!==(I=t[9].url.searchParams.get("order_by")==="count"))&&(W.selected=I),(!$||L[0]&528&&je!==(je=!t[9].url.searchParams.get("aggregate")&&!t[4]))&&(W.hidden=je),(!$||L[0]&512&&lt!==(lt=t[9].url.searchParams.get("order_by")==="http_request_path"))&&(te.selected=lt),(!$||L[0]&528&&at!==(at=!t[9].url.searchParams.get("aggregate")&&!t[4]))&&(te.hidden=at),(!$||L[0]&512&&rt!==(rt=t[9].url.searchParams.get("order_by")==="median_target_processing_time"))&&(se.selected=rt),(!$||L[0]&528&&nt!==(nt=!t[9].url.searchParams.get("aggregate")&&!t[4]))&&(se.hidden=nt),(!$||L[0]&512&&ot!==(ot=t[9].url.searchParams.get("order_by")==="_timestamp"||!t[9].url.searchParams.get("order_by")&&!t[9].url.searchParams.get("aggregate")))&&(le.selected=ot),(!$||L[0]&528&&it!==(it=t[9].url.searchParams.get("aggregate")||t[4]))&&(le.hidden=it),(!$||L[0]&512&&ut!==(ut=t[9].url.searchParams.get("order_by")==="http_request_path"))&&(ae.selected=ut),(!$||L[0]&528&&ct!==(ct=t[9].url.searchParams.get("aggregate")||t[4]))&&(ae.hidden=ct),(!$||L[0]&512&&_t!==(_t=t[9].url.searchParams.get("order_by")==="target_processing_time"))&&(re.selected=_t),(!$||L[0]&528&&ft!==(ft=t[9].url.searchParams.get("aggregate")||t[4]))&&(re.hidden=ft),(!$||L[0]&512&&ht!==(ht=t[9].url.searchParams.get("order")==="DESC"))&&(me.selected=ht),(!$||L[0]&512&&mt!==(mt=t[9].url.searchParams.get("order")==="ASC"))&&(de.selected=mt);let ve=_e;_e=ls(t,L),_e!==ve&&(Nt(),K($e[ve],1,1,()=>{$e[ve]=null}),Ct(),fe=$e[_e],fe||(fe=$e[_e]=ss[_e](t),fe.c()),B(fe,1),fe.m(we,null)),(!$||L[0]&512&&gt!==(gt=t[9].url.searchParams.get("start_time")||t[11].toISOString().split("T")[0]))&&(ne.value=gt),L[0]&32&&pe.value!==t[5]&&oe(pe,t[5]),(Ue=(Re=t[10].networks)==null?void 0:Re.aggs)!=null&&Ue.filters?z?z.p(t,L):(z=As(t),z.c(),z.m(ge,null)):z&&(z.d(1),z=null),Pt!==(Pt=as(t,L))&&(Se.d(1),Se=Pt(t),Se&&(Se.c(),Se.m(he,vt))),(!$||L[0]&512)&&xe!==(xe=t[9].url.searchParams.get("aggregate")=="http_request_path"?"Aggregated ":"")&&G(bt,xe),(!$||L[0]&512)&&et!==(et=t[9].url.searchParams.get("aggregate")=="http_request_path"?"s":"")&&G(Et,et),(tt=(He=t[10].networks)==null?void 0:He.aggs)!=null&&tt.results?J?J.p(t,L):(J=ys(t),J.c(),J.m(Pe,null)):J&&(J.d(1),J=null),t[9].params.id?V?(V.p(t,L),L[0]&512&&B(V,1)):(V=Fs(t),V.c(),B(V,1),V.m(e,null)):V&&(Nt(),K(V,1,1,()=>{V=null}),Ct())},i(F){$||(B(C.$$.fragment,F),B(m.$$.fragment,F),B(H),B(X.$$.fragment,F),B(fe),B(V),$=!0)},o(F){K(C.$$.fragment,F),K(m.$$.fragment,F),K(H),K(X.$$.fragment,F),K(fe),K(V),$=!1},d(F){F&&(c(l),c(e)),Le(C),t[16](null),Le(m),H&&H.d(),t[18](null),Le(X),t[20](null),t[22](null),$e[_e].d(),z&&z.d(),t[28](null),Se.d(),J&&J.d(),V&&V.d(),t[29](null),Jt=!1,Qt(ts)}}}function Sl(t,s,l){var Be;let e,a;ws(t,sl,I=>l(9,e=I)),ws(t,Gt,I=>l(10,a=I));let{$$slots:i={},$$scope:r}=s,u,E;const P=new Date,p=1e3*60*60*24,k=new Date(P-p*3);let _,b,C=!!e.url.searchParams.get("aggregated"),T=((Be=e.url.searchParams.get("lb_status_codes"))==null?void 0:Be.split(","))||[],w=!1,d=!1,N;function v(I){a.networks.aggs&&Ns(Gt,a.networks.aggs.results=[],a),ll.get(I).then(je=>{Ns(Gt,a.networks=je,a)})}Ks(()=>{v(Object.fromEntries(e.url.searchParams))});let m=e.url.searchParams.toString();el(()=>{m=e.url.searchParams.toString()}),tl(()=>{var I;m!==e.url.searchParams.toString()&&(v(Object.fromEntries(e.url.searchParams)),m=e.url.searchParams.toString(),l(5,T=((I=e.url.searchParams.get("lb_status_codes"))==null?void 0:I.split(","))||[]))});function q(I){w.open?(w.close(),l(7,d=!1)):(w.show(),l(7,d=!0))}const S=[[]];function j(I){Ce[I?"unshift":"push"](()=>{N=I,l(8,N)})}const ue=I=>d&&I.target!==N&&q();function A(I){Ce[I?"unshift":"push"](()=>{w=I,l(6,w)})}const R=async I=>{l(4,C=!!I.target.checked),await Ts(),l(2,_.value=I.target.checked?"count":"_timestamp",_),console.log(_.value),l(3,b.value="DESC",b),await Ts(),E.requestSubmit()};function X(I){Ce[I?"unshift":"push"](()=>{_=I,l(2,_)})}const x=()=>E.requestSubmit();function Y(I){Ce[I?"unshift":"push"](()=>{b=I,l(3,b)})}const Q=()=>E.requestSubmit();function st(){T=this.value,l(5,T)}function We(){T=Ws(S[0],this.__value,this.checked),l(5,T)}const ee=()=>{E.requestSubmit()};function Z(I){Ce[I?"unshift":"push"](()=>{E=I,l(1,E)})}function W(I){Ce[I?"unshift":"push"](()=>{u=I,l(0,u)})}return t.$$set=I=>{"$$scope"in I&&l(14,r=I.$$scope)},[u,E,_,b,C,T,w,d,N,e,a,P,k,q,r,i,j,ue,A,R,X,x,Y,Q,st,We,S,ee,Z,W]}class Al extends Hs{constructor(s){super(),Vs(this,s,Sl,Pl,Rs,{},null,[-1,-1])}}export{Al as component};
