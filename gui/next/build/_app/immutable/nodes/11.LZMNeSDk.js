import{s as le,l as ne,e as v,c as g,b as D,f as d,y as k,i as b,h as m,u as re,m as ie,o as oe,S as ce,T as fe,F as ue,a as E,p as de,z as N,g as L,V as _e,k as me,v as T,t as I,d as P,n as O,j as V}from"../chunks/scheduler.XoNWsti8.js";import{S as se,i as ae,t as S,a as j,c as z,b as F,m as B,e as G,g as R,d as M}from"../chunks/index.tx27_CoG.js";import{p as pe}from"../chunks/stores.ZxahnjW1.js";import{b as he}from"../chunks/backgroundJob.f4-tI9MC.js";import{A as ve}from"../chunks/Aside.cjCRsQL-.js";import{J as ge}from"../chunks/JSONTree.9wTpXHGU.js";function be(f){let e,s,o,r,i,l;const n=f[3].default,t=ne(n,f,f[2],null);return{c(){e=v("template"),s=v("pre"),o=v("code"),t&&t.c(),this.h()},l(a){e=g(a,"TEMPLATE",{});var c=D(e.content);s=g(c,"PRE",{class:!0});var _=D(s);o=g(_,"CODE",{class:!0});var p=D(o);t&&t.l(p),p.forEach(d),_.forEach(d),c.forEach(d),this.h()},h(){k(o,"class",r="language-"+f[0]),k(s,"class",i="line-numbers language-"+f[0])},m(a,c){b(a,e,c),m(e.content,s),m(s,o),t&&t.m(o,null),f[4](e),l=!0},p(a,[c]){t&&t.p&&(!l||c&4)&&re(t,n,a,a[2],l?oe(n,a[2],c,null):ie(a[2]),null),(!l||c&1&&r!==(r="language-"+a[0]))&&k(o,"class",r),(!l||c&1&&i!==(i="line-numbers language-"+a[0]))&&k(s,"class",i)},i(a){l||(S(t,a),l=!0)},o(a){j(t,a),l=!1},d(a){a&&d(e),t&&t.d(a),f[4](null)}}}function qe(f,e,s){let{$$slots:o={},$$scope:r}=e,{language:i}=e,l;ce(async()=>{var a;await fe(),(a=document.querySelector("#code"))==null||a.remove();const t=l.content.cloneNode(!0);t.firstChild.id="code",l.after(t),Prism.highlightAll()});function n(t){ue[t?"unshift":"push"](()=>{l=t,s(1,l)})}return f.$$set=t=>{"language"in t&&s(0,i=t.language),"$$scope"in t&&s(2,r=t.$$scope)},[i,l,r,o,n]}class ke extends se{constructor(e){super(),ae(this,e,qe,be,le,{language:0})}}function $e(f){let e,s,o,r,i,l,n,t=f[1].source_name&&W(f),a=f[1].id&&X(f),c=f[1].error_message&&x(f),_=f[1].liquid_body&&ee(f),p=f[1].arguments&&te(f);return{c(){e=v("dl"),t&&t.c(),s=T(),a&&a.c(),o=E(),c&&c.c(),r=E(),_&&_.c(),i=E(),p&&p.c(),l=T(),this.h()},l(u){e=g(u,"DL",{class:!0});var h=D(e);t&&t.l(h),s=T(),a&&a.l(h),h.forEach(d),o=L(u),c&&c.l(u),r=L(u),_&&_.l(u),i=L(u),p&&p.l(u),l=T(),this.h()},h(){k(e,"class","info svelte-7qclwq")},m(u,h){b(u,e,h),t&&t.m(e,null),m(e,s),a&&a.m(e,null),b(u,o,h),c&&c.m(u,h),b(u,r,h),_&&_.m(u,h),b(u,i,h),p&&p.m(u,h),b(u,l,h),n=!0},p(u,h){u[1].source_name?t?t.p(u,h):(t=W(u),t.c(),t.m(e,s)):t&&(t.d(1),t=null),u[1].id?a?a.p(u,h):(a=X(u),a.c(),a.m(e,null)):a&&(a.d(1),a=null),u[1].error_message?c?c.p(u,h):(c=x(u),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),u[1].liquid_body?_?(_.p(u,h),h&2&&S(_,1)):(_=ee(u),_.c(),S(_,1),_.m(i.parentNode,i)):_&&(R(),j(_,1,1,()=>{_=null}),M()),u[1].arguments?p?(p.p(u,h),h&2&&S(p,1)):(p=te(u),p.c(),S(p,1),p.m(l.parentNode,l)):p&&(R(),j(p,1,1,()=>{p=null}),M())},i(u){n||(S(_),S(p),n=!0)},o(u){j(_),j(p),n=!1},d(u){u&&(d(e),d(o),d(r),d(i),d(l)),t&&t.d(),a&&a.d(),c&&c.d(u),_&&_.d(u),p&&p.d(u)}}}function Ce(f){let e;return{c(){e=I("There is no such background job")},l(s){e=P(s,"There is no such background job")},m(s,o){b(s,e,o)},p:O,i:O,o:O,d(s){s&&d(e)}}}function W(f){let e,s,o="ID:",r,i,l=f[1].id+"",n,t;return{c(){e=v("div"),s=v("dt"),s.textContent=o,r=E(),i=v("dd"),n=I(l),t=E(),this.h()},l(a){e=g(a,"DIV",{class:!0});var c=D(e);s=g(c,"DT",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-179gw2t"&&(s.textContent=o),r=L(c),i=g(c,"DD",{});var _=D(i);n=P(_,l),_.forEach(d),t=L(c),c.forEach(d),this.h()},h(){k(s,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(a,c){b(a,e,c),m(e,s),m(e,r),m(e,i),m(i,n),m(e,t)},p(a,c){c&2&&l!==(l=a[1].id+"")&&V(n,l)},d(a){a&&d(e)}}}function X(f){let e,s,o="Created at:",r,i,l=new Date(f[1].created_at).toLocaleString()+"",n,t,a,c,_="Run at:",p,u,h=new Date(f[1].run_at).toLocaleString()+"",J,U,y,A,C=f[1].dead_at&&Y(f),w=f[1].arguments.url&&Z(f);return{c(){e=v("div"),s=v("dt"),s.textContent=o,r=E(),i=v("dd"),n=I(l),t=E(),a=v("div"),c=v("dt"),c.textContent=_,p=E(),u=v("dd"),J=I(h),U=E(),C&&C.c(),y=T(),w&&w.c(),A=T(),this.h()},l(q){e=g(q,"DIV",{class:!0});var $=D(e);s=g($,"DT",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-psrdxl"&&(s.textContent=o),r=L($),i=g($,"DD",{});var K=D(i);n=P(K,l),K.forEach(d),t=L($),$.forEach(d),a=g(q,"DIV",{class:!0});var H=D(a);c=g(H,"DT",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-u0lbhu"&&(c.textContent=_),p=L(H),u=g(H,"DD",{});var Q=D(u);J=P(Q,h),Q.forEach(d),U=L(H),H.forEach(d),C&&C.l(q),y=T(),w&&w.l(q),A=T(),this.h()},h(){k(s,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq"),k(c,"class","svelte-7qclwq"),k(a,"class","svelte-7qclwq")},m(q,$){b(q,e,$),m(e,s),m(e,r),m(e,i),m(i,n),m(e,t),b(q,a,$),m(a,c),m(a,p),m(a,u),m(u,J),m(a,U),C&&C.m(q,$),b(q,y,$),w&&w.m(q,$),b(q,A,$)},p(q,$){$&2&&l!==(l=new Date(q[1].created_at).toLocaleString()+"")&&V(n,l),$&2&&h!==(h=new Date(q[1].run_at).toLocaleString()+"")&&V(J,h),q[1].dead_at?C?C.p(q,$):(C=Y(q),C.c(),C.m(y.parentNode,y)):C&&(C.d(1),C=null),q[1].arguments.url?w?w.p(q,$):(w=Z(q),w.c(),w.m(A.parentNode,A)):w&&(w.d(1),w=null)},d(q){q&&(d(e),d(a),d(y),d(A)),C&&C.d(q),w&&w.d(q)}}}function Y(f){let e,s,o="Dead at:",r,i,l=new Date(f[1].dead_at).toLocaleString()+"",n,t;return{c(){e=v("div"),s=v("dt"),s.textContent=o,r=E(),i=v("dd"),n=I(l),t=E(),this.h()},l(a){e=g(a,"DIV",{class:!0});var c=D(e);s=g(c,"DT",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-1gjx1j5"&&(s.textContent=o),r=L(c),i=g(c,"DD",{class:!0});var _=D(i);n=P(_,l),_.forEach(d),t=L(c),c.forEach(d),this.h()},h(){k(s,"class","svelte-7qclwq"),k(i,"class","error svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(a,c){b(a,e,c),m(e,s),m(e,r),m(e,i),m(i,n),m(e,t)},p(a,c){c&2&&l!==(l=new Date(a[1].dead_at).toLocaleString()+"")&&V(n,l)},d(a){a&&d(e)}}}function Z(f){let e,s,o="URL:",r,i,l=(f[1].arguments.context.location.href||"/")+"",n;return{c(){e=v("div"),s=v("dt"),s.textContent=o,r=E(),i=v("dd"),n=I(l),this.h()},l(t){e=g(t,"DIV",{class:!0});var a=D(e);s=g(a,"DT",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-vrqyfv"&&(s.textContent=o),r=L(a),i=g(a,"DD",{});var c=D(i);n=P(c,l),c.forEach(d),a.forEach(d),this.h()},h(){k(s,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(t,a){b(t,e,a),m(e,s),m(e,r),m(e,i),m(i,n)},p(t,a){a&2&&l!==(l=(t[1].arguments.context.location.href||"/")+"")&&V(n,l)},d(t){t&&d(e)}}}function x(f){let e,s="Error message",o,r,i=f[1].error_message+"",l;return{c(){e=v("h2"),e.textContent=s,o=E(),r=v("code"),l=I(i),this.h()},l(n){e=g(n,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-46lcxd"&&(e.textContent=s),o=L(n),r=g(n,"CODE",{class:!0});var t=D(r);l=P(t,i),t.forEach(d),this.h()},h(){k(e,"class","svelte-7qclwq"),k(r,"class","svelte-7qclwq")},m(n,t){b(n,e,t),b(n,o,t),b(n,r,t),m(r,l)},p(n,t){t&2&&i!==(i=n[1].error_message+"")&&V(l,i)},d(n){n&&(d(e),d(o),d(r))}}}function ee(f){let e,s="Background job code:",o,r,i;return r=new ke({props:{language:"liquid",$$slots:{default:[we]},$$scope:{ctx:f}}}),{c(){e=v("h2"),e.textContent=s,o=E(),z(r.$$.fragment),this.h()},l(l){e=g(l,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-dymu4w"&&(e.textContent=s),o=L(l),F(r.$$.fragment,l),this.h()},h(){k(e,"class","svelte-7qclwq")},m(l,n){b(l,e,n),b(l,o,n),B(r,l,n),i=!0},p(l,n){const t={};n&10&&(t.$$scope={dirty:n,ctx:l}),r.$set(t)},i(l){i||(S(r.$$.fragment,l),i=!0)},o(l){j(r.$$.fragment,l),i=!1},d(l){l&&(d(e),d(o)),G(r,l)}}}function we(f){let e=f[1].liquid_body+"",s;return{c(){s=I(e)},l(o){s=P(o,e)},m(o,r){b(o,s,r)},p(o,r){r&2&&e!==(e=o[1].liquid_body+"")&&V(s,e)},d(o){o&&d(s)}}}function te(f){let e,s="Arguments",o,r,i,l;return i=new ge({props:{value:f[1].arguments,expandedLines:1,showFullLines:!0}}),{c(){e=v("h2"),e.textContent=s,o=E(),r=v("code"),z(i.$$.fragment),this.h()},l(n){e=g(n,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-h49jwy"&&(e.textContent=s),o=L(n),r=g(n,"CODE",{class:!0});var t=D(r);F(i.$$.fragment,t),t.forEach(d),this.h()},h(){k(e,"class","svelte-7qclwq"),k(r,"class","svelte-7qclwq")},m(n,t){b(n,e,t),b(n,o,t),b(n,r,t),B(i,r,null),l=!0},p(n,t){const a={};t&2&&(a.value=n[1].arguments),i.$set(a)},i(n){l||(S(i.$$.fragment,n),l=!0)},o(n){j(i.$$.fragment,n),l=!1},d(n){n&&(d(e),d(o),d(r)),G(i)}}}function De(f){let e,s,o,r;const i=[Ce,$e],l=[];function n(t,a){return t[1]===null?0:1}return e=n(f),s=l[e]=i[e](f),{c(){s.c(),o=T()},l(t){s.l(t),o=T()},m(t,a){l[e].m(t,a),b(t,o,a),r=!0},p(t,a){let c=e;e=n(t),e===c?l[e].p(t,a):(R(),j(l[c],1,1,()=>{l[c]=null}),M(),s=l[e],s?s.p(t,a):(s=l[e]=i[e](t),s.c()),S(s,1),s.m(o.parentNode,o))},i(t){r||(S(s),r=!0)},o(t){j(s),r=!1},d(t){t&&d(o),l[e].d(t)}}}function Ee(f){let e,s="",o,r,i,l;return i=new ve({props:{title:f[1].source_name||f[1].id||"Loading…",closeUrl:"/backgroundJobs?"+f[0].url.searchParams.toString(),$$slots:{default:[De]},$$scope:{ctx:f}}}),{c(){e=v("script"),e.innerHTML=s,r=E(),z(i.$$.fragment),this.h()},l(n){const t=de("svelte-1pgpgj4",document.head);e=g(t,"SCRIPT",{src:!0,"data-manual":!0,"data-svelte-h":!0}),N(e)!=="svelte-6mxszl"&&(e.innerHTML=s),t.forEach(d),r=L(n),F(i.$$.fragment,n),this.h()},h(){_e(e.src,o="/prism.js")||k(e,"src",o),k(e,"data-manual","")},m(n,t){m(document.head,e),b(n,r,t),B(i,n,t),l=!0},p(n,[t]){const a={};t&2&&(a.title=n[1].source_name||n[1].id||"Loading…"),t&1&&(a.closeUrl="/backgroundJobs?"+n[0].url.searchParams.toString()),t&10&&(a.$$scope={dirty:t,ctx:n}),i.$set(a)},i(n){l||(S(i.$$.fragment,n),l=!0)},o(n){j(i.$$.fragment,n),l=!1},d(n){n&&d(r),d(e),G(i,n)}}}function Le(f,e,s){let o;me(f,pe,l=>s(0,o=l));let r={};const i=async()=>{await he.get({id:o.params.id,type:o.params.type.toUpperCase()}).then(l=>{l.results.length?s(1,r=l.results[0]):s(1,r=null)})};return f.$$.update=()=>{f.$$.dirty&1&&o.params.id&&i(o.params.id)},[o,r]}class Ve extends se{constructor(e){super(),ae(this,e,Le,Ee,le,{})}}export{Ve as component};
