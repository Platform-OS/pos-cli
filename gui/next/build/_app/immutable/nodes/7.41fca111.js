import{s as Fe,p as Ie,f as d,l as X,a as A,g as v,h as y,m as Y,r as z,d as j,c as O,K as le,j as c,B as Se,i as ge,u as r,L as je,x as W,M as qe,n as pe,N as Be,y as Me,v as He,o as Re,A as Ue,D as Ve,E as ze,F as Ge,G as Ke,P as Je}from"../chunks/scheduler.bed694a1.js";import{S as Qe,i as We,h as Xe,b as he,d as de,m as ve,a as D,t as H,c as Te,e as be,f as Ne,g as $e}from"../chunks/index.606d5641.js";import{e as Le}from"../chunks/each.177d9825.js";import{q as Ye}from"../chunks/index.50c00146.js";import{p as Ze}from"../chunks/stores.e749187a.js";import{u as xe}from"../chunks/user.6e03625a.js";import{I as we}from"../chunks/Icon.998d3827.js";import{N as et}from"../chunks/Number.a3dd02b5.js";function ye(s,e,t){const n=s.slice();return n[17]=e[t],n}function Ae(s){let e,t,n="Clear filters",l,_,o,u,T,i;return _=new we({props:{icon:"x",size:"14"}}),{c(){e=d("button"),t=d("span"),t.textContent=n,l=A(),he(_.$$.fragment),this.h()},l(m){e=v(m,"BUTTON",{type:!0,class:!0});var k=y(e);t=v(k,"SPAN",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-ki22n5"&&(t.textContent=n),l=O(k),de(_.$$.fragment,k),k.forEach(j),this.h()},h(){c(t,"class","label svelte-19k8sjb"),c(e,"type","button"),c(e,"class","clear svelte-19k8sjb")},m(m,k){ge(m,e,k),r(e,t),r(e,l),ve(_,e,null),u=!0,T||(i=W(e,"click",s[13]),T=!0)},p:Ue,i(m){u||(D(_.$$.fragment,m),m&&Se(()=>{u&&(o||(o=Ne(e,s[7],{},!0)),o.run(1))}),u=!0)},o(m){H(_.$$.fragment,m),m&&(o||(o=Ne(e,s[7],{},!1)),o.run(0)),u=!1},d(m){m&&j(e),be(_),m&&o&&o.end(),T=!1,i()}}}function Oe(s){let e,t,n=s[17].id+"",l,_,o,u,T=s[17].email+"",i,m,k;return{c(){e=d("tr"),t=d("td"),l=X(n),_=A(),o=d("td"),u=d("a"),i=X(T),k=A(),this.h()},l(h){e=v(h,"TR",{});var f=y(e);t=v(f,"TD",{class:!0});var B=y(t);l=Y(B,n),B.forEach(j),_=O(f),o=v(f,"TD",{class:!0});var M=y(o);u=v(M,"A",{href:!0});var L=y(u);i=Y(L,T),L.forEach(j),M.forEach(j),k=O(f),f.forEach(j),this.h()},h(){c(t,"class","svelte-19k8sjb"),c(u,"href",m="/users/"+s[17].id),c(o,"class","svelte-19k8sjb")},m(h,f){ge(h,e,f),r(e,t),r(t,l),r(e,_),r(e,o),r(o,u),r(u,i),r(e,k)},p(h,f){f&2&&n!==(n=h[17].id+"")&&pe(l,n),f&2&&T!==(T=h[17].email+"")&&pe(i,T),f&2&&m!==(m="/users/"+h[17].id)&&c(u,"href",m)},d(h){h&&j(e)}}}function Pe(s){let e;const t=s[9].default,n=Ve(t,s,s[8],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,_){n&&n.m(l,_),e=!0},p(l,_){n&&n.p&&(!e||_&256)&&ze(n,t,l,l[8],e?Ke(t,l[8],_,null):Ge(l[8]),null)},i(l){e||(D(n,l),e=!0)},o(l){H(n,l),e=!1},d(l){n&&n.d(l)}}}function tt(s){let e,t,n,l,_,o,u,T="email",i,m="id",k,h,f,B,M,L,F,Z="Apply filter",G,p,K,P,q,ae='<tr><th class="svelte-19k8sjb">id</th> <th class="svelte-19k8sjb">email</th></tr>',ne,re,I,R,ke="Page:",oe,S,ie,ue,J=(s[3]||1)+"",x,fe,Q,ce,Ee,b=s[2].value&&Ae(s);p=new we({props:{icon:"arrowRight"}});let U=Le(s[1]),C=[];for(let a=0;a<U.length;a+=1)C[a]=Oe(ye(s,U,a));function De(a){s[16](a)}let Ce={form:"filters",name:"page",min:1,max:s[3],step:1,decreaseLabel:"Previous page",increaseLabel:"Next page",style:"navigation"};s[2].page!==void 0&&(Ce.value=s[2].page),S=new et({props:Ce}),Ie.push(()=>Xe(S,"value",De)),S.$on("input",s[6]);let g=s[4].params.id&&Pe(s);return{c(){e=d("div"),t=d("section"),n=d("nav"),l=d("form"),_=X(`Filter by\r
        `),o=d("select"),u=d("option"),u.textContent=T,i=d("option"),i.textContent=m,k=A(),h=d("fieldset"),f=d("input"),B=A(),b&&b.c(),M=A(),L=d("button"),F=d("span"),F.textContent=Z,G=A(),he(p.$$.fragment),K=A(),P=d("table"),q=d("thead"),q.innerHTML=ae,ne=A();for(let a=0;a<C.length;a+=1)C[a].c();re=A(),I=d("nav"),R=d("label"),R.textContent=ke,oe=A(),he(S.$$.fragment),ue=X(`\r
      of `),x=X(J),fe=A(),g&&g.c(),this.h()},l(a){e=v(a,"DIV",{class:!0});var E=y(e);t=v(E,"SECTION",{class:!0});var N=y(t);n=v(N,"NAV",{class:!0});var $=y(n);l=v($,"FORM",{id:!0,class:!0});var w=y(l);_=Y(w,`Filter by\r
        `),o=v(w,"SELECT",{name:!0});var _e=y(o);u=v(_e,"OPTION",{"data-svelte-h":!0}),z(u)!=="svelte-51kto6"&&(u.textContent=T),i=v(_e,"OPTION",{"data-svelte-h":!0}),z(i)!=="svelte-ns3pfu"&&(i.textContent=m),_e.forEach(j),k=O(w),h=v(w,"FIELDSET",{class:!0});var ee=y(h);f=v(ee,"INPUT",{type:!0,name:!0,class:!0}),B=O(ee),b&&b.l(ee),ee.forEach(j),M=O(w),L=v(w,"BUTTON",{type:!0,class:!0});var te=y(L);F=v(te,"SPAN",{class:!0,"data-svelte-h":!0}),z(F)!=="svelte-ctu7wl"&&(F.textContent=Z),G=O(te),de(p.$$.fragment,te),te.forEach(j),w.forEach(j),$.forEach(j),K=O(N),P=v(N,"TABLE",{class:!0});var se=y(P);q=v(se,"THEAD",{class:!0,"data-svelte-h":!0}),z(q)!=="svelte-128602a"&&(q.innerHTML=ae),ne=O(se);for(let me=0;me<C.length;me+=1)C[me].l(se);se.forEach(j),re=O(N),I=v(N,"NAV",{class:!0});var V=y(I);R=v(V,"LABEL",{for:!0,"data-svelte-h":!0}),z(R)!=="svelte-1r8oyu6"&&(R.textContent=ke),oe=O(V),de(S.$$.fragment,V),ue=Y(V,`\r
      of `),x=Y(V,J),V.forEach(j),N.forEach(j),fe=O(E),g&&g.l(E),E.forEach(j),this.h()},h(){u.__value="email",le(u,u.__value),i.__value="id",le(i,i.__value),c(o,"name","attribute"),s[2].attribute===void 0&&Se(()=>s[10].call(o)),c(f,"type","text"),c(f,"name","value"),c(f,"class","svelte-19k8sjb"),c(h,"class","svelte-19k8sjb"),c(F,"class","label svelte-19k8sjb"),c(L,"type","submit"),c(L,"class","button submit"),c(l,"id","filters"),c(l,"class","svelte-19k8sjb"),c(n,"class","filters svelte-19k8sjb"),c(q,"class","svelte-19k8sjb"),c(P,"class","svelte-19k8sjb"),c(R,"for","page"),c(I,"class","pagination svelte-19k8sjb"),c(t,"class","svelte-19k8sjb"),c(e,"class","container svelte-19k8sjb")},m(a,E){ge(a,e,E),r(e,t),r(t,n),r(n,l),r(l,_),r(l,o),r(o,u),r(o,i),je(o,s[2].attribute,!0),r(l,k),r(l,h),r(h,f),le(f,s[2].value),r(h,B),b&&b.m(h,null),r(l,M),r(l,L),r(L,F),r(L,G),ve(p,L,null),s[14](l),r(t,K),r(t,P),r(P,q),r(P,ne);for(let N=0;N<C.length;N+=1)C[N]&&C[N].m(P,null);r(t,re),r(t,I),r(I,R),r(I,oe),ve(S,I,null),r(I,ue),r(I,x),r(e,fe),g&&g.m(e,null),Q=!0,ce||(Ee=[W(o,"change",s[10]),W(o,"change",s[11]),W(f,"input",s[12]),W(l,"submit",s[15])],ce=!0)},p(a,[E]){if(E&4&&je(o,a[2].attribute),E&4&&f.value!==a[2].value&&le(f,a[2].value),a[2].value?b?(b.p(a,E),E&4&&D(b,1)):(b=Ae(a),b.c(),D(b,1),b.m(h,null)):b&&($e(),H(b,1,1,()=>{b=null}),Te()),E&2){U=Le(a[1]);let $;for($=0;$<U.length;$+=1){const w=ye(a,U,$);C[$]?C[$].p(w,E):(C[$]=Oe(w),C[$].c(),C[$].m(P,null))}for(;$<C.length;$+=1)C[$].d(1);C.length=U.length}const N={};E&8&&(N.max=a[3]),!ie&&E&4&&(ie=!0,N.value=a[2].page,qe(()=>ie=!1)),S.$set(N),(!Q||E&8)&&J!==(J=(a[3]||1)+"")&&pe(x,J),a[4].params.id?g?(g.p(a,E),E&16&&D(g,1)):(g=Pe(a),g.c(),D(g,1),g.m(e,null)):g&&($e(),H(g,1,1,()=>{g=null}),Te())},i(a){Q||(D(b),D(p.$$.fragment,a),D(S.$$.fragment,a),D(g),Q=!0)},o(a){H(b),H(p.$$.fragment,a),H(S.$$.fragment,a),H(g),Q=!1},d(a){a&&j(e),b&&b.d(),be(p),s[14](null),Be(C,a),be(S),g&&g.d(),ce=!1,Me(Ee)}}}function st(s,e,t){let n;He(s,Ze,p=>t(4,n=p));let{$$slots:l={},$$scope:_}=e,o,u=[],T={page:1,attribute:"email",value:""},i={...T,...Object.fromEntries(n.url.searchParams)},m=1;const k=async()=>{await xe.get(i).then(p=>{t(1,u=p.results),t(3,m=p.total_pages)})};Re(()=>{k()});const h=function(p,{delay:K=0,duration:P=150}){return{delay:K,duration:P,css:q=>`scale: ${Ye(q)};`}};function f(){i.attribute=Je(this),t(2,i)}const B=()=>t(2,i.value="",i);function M(){i.value=this.value,t(2,i)}const L=()=>{t(2,i={...T}),o.requestSubmit()};function F(p){Ie[p?"unshift":"push"](()=>{o=p,t(0,o)})}const Z=()=>{t(2,i.page=1,i),k()};function G(p){s.$$.not_equal(i.page,p)&&(i.page=p,t(2,i))}return s.$$set=p=>{"$$scope"in p&&t(8,_=p.$$scope)},[o,u,i,m,n,T,k,h,_,l,f,B,M,L,F,Z,G]}class ct extends Qe{constructor(e){super(),We(this,e,st,tt,Fe,{})}}export{ct as component};
