import{S as se,i as ae,s as re,Q as oe,k as b,l as g,m as q,h as u,n as $,b as k,E as d,R as ie,T as ne,U as ce,g as j,d as I,j as fe,t as ue,w as _e,a as L,y as H,W as de,c as S,z as F,a3 as me,A as z,B as K,F as pe,e as N,v as O,f as B,q as T,r as C,K as V,u as A}from"../chunks/index.d0f8a730.js";import{p as he}from"../chunks/stores.31e34527.js";import{b as ve}from"../chunks/backgroundJob.d6a5759b.js";import{A as be}from"../chunks/Aside.2bf7e52e.js";import{J as ge}from"../chunks/JSONTree.cfd91a83.js";function qe(f){let e,a,i,o,n,t;const r=f[3].default,l=oe(r,f,f[2],null);return{c(){e=b("template"),a=b("pre"),i=b("code"),l&&l.c(),this.h()},l(s){e=g(s,"TEMPLATE",{});var c=q(e.content);a=g(c,"PRE",{class:!0});var m=q(a);i=g(m,"CODE",{class:!0});var p=q(i);l&&l.l(p),p.forEach(u),m.forEach(u),c.forEach(u),this.h()},h(){$(i,"class",o="language-"+f[0]),$(a,"class",n="line-numbers language-"+f[0])},m(s,c){k(s,e,c),d(e.content,a),d(a,i),l&&l.m(i,null),f[4](e),t=!0},p(s,[c]){l&&l.p&&(!t||c&4)&&ie(l,r,s,s[2],t?ce(r,s[2],c,null):ne(s[2]),null),(!t||c&1&&o!==(o="language-"+s[0]))&&$(i,"class",o),(!t||c&1&&n!==(n="line-numbers language-"+s[0]))&&$(a,"class",n)},i(s){t||(j(l,s),t=!0)},o(s){I(l,s),t=!1},d(s){s&&u(e),l&&l.d(s),f[4](null)}}}function ke(f,e,a){let{$$slots:i={},$$scope:o}=e,{language:n}=e,t;fe(async()=>{var s;await ue(),(s=document.querySelector("#code"))==null||s.remove();const l=t.content.cloneNode(!0);l.firstChild.id="code",t.after(l),Prism.highlightAll()});function r(l){_e[l?"unshift":"push"](()=>{t=l,a(1,t)})}return f.$$set=l=>{"language"in l&&a(0,n=l.language),"$$scope"in l&&a(2,o=l.$$scope)},[n,t,o,i,r]}class $e extends se{constructor(e){super(),ae(this,e,ke,qe,re,{language:0})}}function Ee(f){let e,a,i,o,n,t,r,l=f[1].source_name&&X(f),s=f[1].id&&Y(f),c=f[1].error_message&&ee(f),m=f[1].liquid_body&&le(f),p=f[1].arguments&&te(f);return{c(){e=b("dl"),l&&l.c(),a=N(),s&&s.c(),i=L(),c&&c.c(),o=L(),m&&m.c(),n=L(),p&&p.c(),t=N(),this.h()},l(_){e=g(_,"DL",{class:!0});var v=q(e);l&&l.l(v),a=N(),s&&s.l(v),v.forEach(u),i=S(_),c&&c.l(_),o=S(_),m&&m.l(_),n=S(_),p&&p.l(_),t=N(),this.h()},h(){$(e,"class","info svelte-7qclwq")},m(_,v){k(_,e,v),l&&l.m(e,null),d(e,a),s&&s.m(e,null),k(_,i,v),c&&c.m(_,v),k(_,o,v),m&&m.m(_,v),k(_,n,v),p&&p.m(_,v),k(_,t,v),r=!0},p(_,v){_[1].source_name?l?l.p(_,v):(l=X(_),l.c(),l.m(e,a)):l&&(l.d(1),l=null),_[1].id?s?s.p(_,v):(s=Y(_),s.c(),s.m(e,null)):s&&(s.d(1),s=null),_[1].error_message?c?c.p(_,v):(c=ee(_),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null),_[1].liquid_body?m?(m.p(_,v),v&2&&j(m,1)):(m=le(_),m.c(),j(m,1),m.m(n.parentNode,n)):m&&(O(),I(m,1,1,()=>{m=null}),B()),_[1].arguments?p?(p.p(_,v),v&2&&j(p,1)):(p=te(_),p.c(),j(p,1),p.m(t.parentNode,t)):p&&(O(),I(p,1,1,()=>{p=null}),B())},i(_){r||(j(m),j(p),r=!0)},o(_){I(m),I(p),r=!1},d(_){_&&u(e),l&&l.d(),s&&s.d(),_&&u(i),c&&c.d(_),_&&u(o),m&&m.d(_),_&&u(n),p&&p.d(_),_&&u(t)}}}function De(f){let e;return{c(){e=T("There is no such background job")},l(a){e=C(a,"There is no such background job")},m(a,i){k(a,e,i)},p:V,i:V,o:V,d(a){a&&u(e)}}}function X(f){let e,a,i,o,n,t=f[1].id+"",r,l;return{c(){e=b("div"),a=b("dt"),i=T("ID:"),o=L(),n=b("dd"),r=T(t),l=L(),this.h()},l(s){e=g(s,"DIV",{class:!0});var c=q(e);a=g(c,"DT",{class:!0});var m=q(a);i=C(m,"ID:"),m.forEach(u),o=S(c),n=g(c,"DD",{});var p=q(n);r=C(p,t),p.forEach(u),l=S(c),c.forEach(u),this.h()},h(){$(a,"class","svelte-7qclwq"),$(e,"class","svelte-7qclwq")},m(s,c){k(s,e,c),d(e,a),d(a,i),d(e,o),d(e,n),d(n,r),d(e,l)},p(s,c){c&2&&t!==(t=s[1].id+"")&&A(r,t)},d(s){s&&u(e)}}}function Y(f){let e,a,i,o,n,t=new Date(f[1].created_at).toLocaleString()+"",r,l,s,c,m,p,_,v=new Date(f[1].run_at).toLocaleString()+"",y,J,P,R,D=f[1].dead_at&&Z(f),w=f[1].arguments.url&&x(f);return{c(){e=b("div"),a=b("dt"),i=T("Created at:"),o=L(),n=b("dd"),r=T(t),l=L(),s=b("div"),c=b("dt"),m=T("Run at:"),p=L(),_=b("dd"),y=T(v),J=L(),D&&D.c(),P=N(),w&&w.c(),R=N(),this.h()},l(h){e=g(h,"DIV",{class:!0});var E=q(e);a=g(E,"DT",{class:!0});var M=q(a);i=C(M,"Created at:"),M.forEach(u),o=S(E),n=g(E,"DD",{});var Q=q(n);r=C(Q,t),Q.forEach(u),l=S(E),E.forEach(u),s=g(h,"DIV",{class:!0});var U=q(s);c=g(U,"DT",{class:!0});var W=q(c);m=C(W,"Run at:"),W.forEach(u),p=S(U),_=g(U,"DD",{});var G=q(_);y=C(G,v),G.forEach(u),J=S(U),U.forEach(u),D&&D.l(h),P=N(),w&&w.l(h),R=N(),this.h()},h(){$(a,"class","svelte-7qclwq"),$(e,"class","svelte-7qclwq"),$(c,"class","svelte-7qclwq"),$(s,"class","svelte-7qclwq")},m(h,E){k(h,e,E),d(e,a),d(a,i),d(e,o),d(e,n),d(n,r),d(e,l),k(h,s,E),d(s,c),d(c,m),d(s,p),d(s,_),d(_,y),d(s,J),D&&D.m(h,E),k(h,P,E),w&&w.m(h,E),k(h,R,E)},p(h,E){E&2&&t!==(t=new Date(h[1].created_at).toLocaleString()+"")&&A(r,t),E&2&&v!==(v=new Date(h[1].run_at).toLocaleString()+"")&&A(y,v),h[1].dead_at?D?D.p(h,E):(D=Z(h),D.c(),D.m(P.parentNode,P)):D&&(D.d(1),D=null),h[1].arguments.url?w?w.p(h,E):(w=x(h),w.c(),w.m(R.parentNode,R)):w&&(w.d(1),w=null)},d(h){h&&u(e),h&&u(s),D&&D.d(h),h&&u(P),w&&w.d(h),h&&u(R)}}}function Z(f){let e,a,i,o,n,t=new Date(f[1].dead_at).toLocaleString()+"",r,l;return{c(){e=b("div"),a=b("dt"),i=T("Dead at:"),o=L(),n=b("dd"),r=T(t),l=L(),this.h()},l(s){e=g(s,"DIV",{class:!0});var c=q(e);a=g(c,"DT",{class:!0});var m=q(a);i=C(m,"Dead at:"),m.forEach(u),o=S(c),n=g(c,"DD",{class:!0});var p=q(n);r=C(p,t),p.forEach(u),l=S(c),c.forEach(u),this.h()},h(){$(a,"class","svelte-7qclwq"),$(n,"class","error svelte-7qclwq"),$(e,"class","svelte-7qclwq")},m(s,c){k(s,e,c),d(e,a),d(a,i),d(e,o),d(e,n),d(n,r),d(e,l)},p(s,c){c&2&&t!==(t=new Date(s[1].dead_at).toLocaleString()+"")&&A(r,t)},d(s){s&&u(e)}}}function x(f){let e,a,i,o,n,t=(f[1].arguments.context.location.href||"/")+"",r;return{c(){e=b("div"),a=b("dt"),i=T("URL:"),o=L(),n=b("dd"),r=T(t),this.h()},l(l){e=g(l,"DIV",{class:!0});var s=q(e);a=g(s,"DT",{class:!0});var c=q(a);i=C(c,"URL:"),c.forEach(u),o=S(s),n=g(s,"DD",{});var m=q(n);r=C(m,t),m.forEach(u),s.forEach(u),this.h()},h(){$(a,"class","svelte-7qclwq"),$(e,"class","svelte-7qclwq")},m(l,s){k(l,e,s),d(e,a),d(a,i),d(e,o),d(e,n),d(n,r)},p(l,s){s&2&&t!==(t=(l[1].arguments.context.location.href||"/")+"")&&A(r,t)},d(l){l&&u(e)}}}function ee(f){let e,a,i,o,n=f[1].error_message+"",t;return{c(){e=b("h2"),a=T("Error message"),i=L(),o=b("code"),t=T(n),this.h()},l(r){e=g(r,"H2",{class:!0});var l=q(e);a=C(l,"Error message"),l.forEach(u),i=S(r),o=g(r,"CODE",{class:!0});var s=q(o);t=C(s,n),s.forEach(u),this.h()},h(){$(e,"class","svelte-7qclwq"),$(o,"class","svelte-7qclwq")},m(r,l){k(r,e,l),d(e,a),k(r,i,l),k(r,o,l),d(o,t)},p(r,l){l&2&&n!==(n=r[1].error_message+"")&&A(t,n)},d(r){r&&u(e),r&&u(i),r&&u(o)}}}function le(f){let e,a,i,o,n;return o=new $e({props:{language:"liquid",$$slots:{default:[we]},$$scope:{ctx:f}}}),{c(){e=b("h2"),a=T("Background job code:"),i=L(),H(o.$$.fragment),this.h()},l(t){e=g(t,"H2",{class:!0});var r=q(e);a=C(r,"Background job code:"),r.forEach(u),i=S(t),F(o.$$.fragment,t),this.h()},h(){$(e,"class","svelte-7qclwq")},m(t,r){k(t,e,r),d(e,a),k(t,i,r),z(o,t,r),n=!0},p(t,r){const l={};r&10&&(l.$$scope={dirty:r,ctx:t}),o.$set(l)},i(t){n||(j(o.$$.fragment,t),n=!0)},o(t){I(o.$$.fragment,t),n=!1},d(t){t&&u(e),t&&u(i),K(o,t)}}}function we(f){let e=f[1].liquid_body+"",a;return{c(){a=T(e)},l(i){a=C(i,e)},m(i,o){k(i,a,o)},p(i,o){o&2&&e!==(e=i[1].liquid_body+"")&&A(a,e)},d(i){i&&u(a)}}}function te(f){let e,a,i,o,n,t;return n=new ge({props:{value:f[1].arguments,expandedLines:1,showFullLines:!0}}),{c(){e=b("h2"),a=T("Arguments"),i=L(),o=b("code"),H(n.$$.fragment),this.h()},l(r){e=g(r,"H2",{class:!0});var l=q(e);a=C(l,"Arguments"),l.forEach(u),i=S(r),o=g(r,"CODE",{class:!0});var s=q(o);F(n.$$.fragment,s),s.forEach(u),this.h()},h(){$(e,"class","svelte-7qclwq"),$(o,"class","svelte-7qclwq")},m(r,l){k(r,e,l),d(e,a),k(r,i,l),k(r,o,l),z(n,o,null),t=!0},p(r,l){const s={};l&2&&(s.value=r[1].arguments),n.$set(s)},i(r){t||(j(n.$$.fragment,r),t=!0)},o(r){I(n.$$.fragment,r),t=!1},d(r){r&&u(e),r&&u(i),r&&u(o),K(n)}}}function Le(f){let e,a,i,o;const n=[De,Ee],t=[];function r(l,s){return l[1]===null?0:1}return e=r(f),a=t[e]=n[e](f),{c(){a.c(),i=N()},l(l){a.l(l),i=N()},m(l,s){t[e].m(l,s),k(l,i,s),o=!0},p(l,s){let c=e;e=r(l),e===c?t[e].p(l,s):(O(),I(t[c],1,1,()=>{t[c]=null}),B(),a=t[e],a?a.p(l,s):(a=t[e]=n[e](l),a.c()),j(a,1),a.m(i.parentNode,i))},i(l){o||(j(a),o=!0)},o(l){I(a),o=!1},d(l){t[e].d(l),l&&u(i)}}}function Se(f){let e,a,i,o,n;return o=new be({props:{title:f[1].source_name||f[1].id||"Loading…",closeUrl:"/backgroundJobs?"+f[0].url.searchParams.toString(),$$slots:{default:[Le]},$$scope:{ctx:f}}}),{c(){e=b("script"),i=L(),H(o.$$.fragment),this.h()},l(t){const r=de("svelte-1pgpgj4",document.head);e=g(r,"SCRIPT",{src:!0,"data-manual":!0});var l=q(e);l.forEach(u),r.forEach(u),i=S(t),F(o.$$.fragment,t),this.h()},h(){me(e.src,a="/prism.js")||$(e,"src",a),$(e,"data-manual","")},m(t,r){d(document.head,e),k(t,i,r),z(o,t,r),n=!0},p(t,[r]){const l={};r&2&&(l.title=t[1].source_name||t[1].id||"Loading…"),r&1&&(l.closeUrl="/backgroundJobs?"+t[0].url.searchParams.toString()),r&10&&(l.$$scope={dirty:r,ctx:t}),o.$set(l)},i(t){n||(j(o.$$.fragment,t),n=!0)},o(t){I(o.$$.fragment,t),n=!1},d(t){u(e),t&&u(i),K(o,t)}}}function Te(f,e,a){let i;pe(f,he,t=>a(0,i=t));let o={};const n=async()=>{await ve.get({id:i.params.id,type:i.params.type.toUpperCase()}).then(t=>{t.results.length?a(1,o=t.results[0]):a(1,o=null)})};return f.$$.update=()=>{f.$$.dirty&1&&i.params.id&&n(i.params.id)},[i,o]}class Pe extends se{constructor(e){super(),ae(this,e,Te,Se,re,{})}}export{Pe as component};
