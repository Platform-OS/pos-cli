import{s as se,l as ie,e as b,c as g,b as L,f as d,y as k,i as m,h as _,u as re,m as oe,o as ce,U as fe,V as ue,G as de,a as w,p as _e,z as P,g as D,X as me,k as pe,v as N,t as H,d as U,n as O,j as V}from"../chunks/scheduler.uqhHMT1A.js";import{S as ae,i as ne,t as j,a as I,c as z,b as B,m as F,e as G,g as R,d as M}from"../chunks/index.rTXS4HHW.js";import{p as he}from"../chunks/stores.NBGAYmRo.js";import{b as ve}from"../chunks/backgroundJob.6WsQLD6d.js";import{A as be}from"../chunks/Aside.J9Aav-7c.js";import{J as ge}from"../chunks/JSONTree.k73kFuLK.js";function qe(f){let e,a,o,i,r,s;const l=f[3].default,t=ie(l,f,f[2],null);return{c(){e=b("template"),a=b("pre"),o=b("code"),t&&t.c(),this.h()},l(n){e=g(n,"TEMPLATE",{});var c=L(e.content);a=g(c,"PRE",{class:!0});var p=L(a);o=g(p,"CODE",{class:!0});var h=L(o);t&&t.l(h),h.forEach(d),p.forEach(d),c.forEach(d),this.h()},h(){k(o,"class",i="language-"+f[0]),k(a,"class",r="line-numbers language-"+f[0])},m(n,c){m(n,e,c),_(e.content,a),_(a,o),t&&t.m(o,null),f[4](e),s=!0},p(n,[c]){t&&t.p&&(!s||c&4)&&re(t,l,n,n[2],s?ce(l,n[2],c,null):oe(n[2]),null),(!s||c&1&&i!==(i="language-"+n[0]))&&k(o,"class",i),(!s||c&1&&r!==(r="line-numbers language-"+n[0]))&&k(a,"class",r)},i(n){s||(j(t,n),s=!0)},o(n){I(t,n),s=!1},d(n){n&&d(e),t&&t.d(n),f[4](null)}}}function ke(f,e,a){let{$$slots:o={},$$scope:i}=e,{language:r}=e,s;fe(async()=>{var n;await ue(),(n=document.querySelector("#code"))==null||n.remove();const t=s.content.cloneNode(!0);t.firstChild.id="code",s.after(t),Prism.highlightAll()});function l(t){de[t?"unshift":"push"](()=>{s=t,a(1,s)})}return f.$$set=t=>{"language"in t&&a(0,r=t.language),"$$scope"in t&&a(2,i=t.$$scope)},[r,s,i,o,l]}class Ce extends ae{constructor(e){super(),ne(this,e,ke,qe,se,{language:0})}}function $e(f){let e,a,o,i,r,s,l,t,n=f[1].source_name&&Q(f),c=f[1].id&&W(f),p=f[1].error_message&&x(f),h=f[1].liquid_body&&ee(f),$=f[1].partial_name&&te(f),q=f[1].arguments&&le(f);return{c(){e=b("dl"),n&&n.c(),a=N(),c&&c.c(),o=w(),p&&p.c(),i=w(),h&&h.c(),r=w(),$&&$.c(),s=w(),q&&q.c(),l=N(),this.h()},l(u){e=g(u,"DL",{class:!0});var v=L(e);n&&n.l(v),a=N(),c&&c.l(v),v.forEach(d),o=D(u),p&&p.l(u),i=D(u),h&&h.l(u),r=D(u),$&&$.l(u),s=D(u),q&&q.l(u),l=N(),this.h()},h(){k(e,"class","info svelte-7qclwq")},m(u,v){m(u,e,v),n&&n.m(e,null),_(e,a),c&&c.m(e,null),m(u,o,v),p&&p.m(u,v),m(u,i,v),h&&h.m(u,v),m(u,r,v),$&&$.m(u,v),m(u,s,v),q&&q.m(u,v),m(u,l,v),t=!0},p(u,v){u[1].source_name?n?n.p(u,v):(n=Q(u),n.c(),n.m(e,a)):n&&(n.d(1),n=null),u[1].id?c?c.p(u,v):(c=W(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null),u[1].error_message?p?p.p(u,v):(p=x(u),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null),u[1].liquid_body?h?(h.p(u,v),v&2&&j(h,1)):(h=ee(u),h.c(),j(h,1),h.m(r.parentNode,r)):h&&(R(),I(h,1,1,()=>{h=null}),M()),u[1].partial_name?$?$.p(u,v):($=te(u),$.c(),$.m(s.parentNode,s)):$&&($.d(1),$=null),u[1].arguments?q?(q.p(u,v),v&2&&j(q,1)):(q=le(u),q.c(),j(q,1),q.m(l.parentNode,l)):q&&(R(),I(q,1,1,()=>{q=null}),M())},i(u){t||(j(h),j(q),t=!0)},o(u){I(h),I(q),t=!1},d(u){u&&(d(e),d(o),d(i),d(r),d(s),d(l)),n&&n.d(),c&&c.d(),p&&p.d(u),h&&h.d(u),$&&$.d(u),q&&q.d(u)}}}function we(f){let e;return{c(){e=H("There is no such background job")},l(a){e=U(a,"There is no such background job")},m(a,o){m(a,e,o)},p:O,i:O,o:O,d(a){a&&d(e)}}}function Q(f){let e,a,o="ID:",i,r,s=f[1].id+"",l,t;return{c(){e=b("div"),a=b("dt"),a.textContent=o,i=w(),r=b("dd"),l=H(s),t=w(),this.h()},l(n){e=g(n,"DIV",{class:!0});var c=L(e);a=g(c,"DT",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-179gw2t"&&(a.textContent=o),i=D(c),r=g(c,"DD",{});var p=L(r);l=U(p,s),p.forEach(d),t=D(c),c.forEach(d),this.h()},h(){k(a,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(n,c){m(n,e,c),_(e,a),_(e,i),_(e,r),_(r,l),_(e,t)},p(n,c){c&2&&s!==(s=n[1].id+"")&&V(l,s)},d(n){n&&d(e)}}}function W(f){let e,a,o="Created at:",i,r,s=new Date(f[1].created_at).toLocaleString()+"",l,t,n,c,p="Run at:",h,$,q=new Date(f[1].run_at).toLocaleString()+"",u,v,y,A,S=f[1].dead_at&&Y(f),T=f[1].arguments.url&&Z(f);return{c(){e=b("div"),a=b("dt"),a.textContent=o,i=w(),r=b("dd"),l=H(s),t=w(),n=b("div"),c=b("dt"),c.textContent=p,h=w(),$=b("dd"),u=H(q),v=w(),S&&S.c(),y=N(),T&&T.c(),A=N(),this.h()},l(C){e=g(C,"DIV",{class:!0});var E=L(e);a=g(E,"DT",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-psrdxl"&&(a.textContent=o),i=D(E),r=g(E,"DD",{});var X=L(r);l=U(X,s),X.forEach(d),t=D(E),E.forEach(d),n=g(C,"DIV",{class:!0});var J=L(n);c=g(J,"DT",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-u0lbhu"&&(c.textContent=p),h=D(J),$=g(J,"DD",{});var K=L($);u=U(K,q),K.forEach(d),v=D(J),J.forEach(d),S&&S.l(C),y=N(),T&&T.l(C),A=N(),this.h()},h(){k(a,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq"),k(c,"class","svelte-7qclwq"),k(n,"class","svelte-7qclwq")},m(C,E){m(C,e,E),_(e,a),_(e,i),_(e,r),_(r,l),_(e,t),m(C,n,E),_(n,c),_(n,h),_(n,$),_($,u),_(n,v),S&&S.m(C,E),m(C,y,E),T&&T.m(C,E),m(C,A,E)},p(C,E){E&2&&s!==(s=new Date(C[1].created_at).toLocaleString()+"")&&V(l,s),E&2&&q!==(q=new Date(C[1].run_at).toLocaleString()+"")&&V(u,q),C[1].dead_at?S?S.p(C,E):(S=Y(C),S.c(),S.m(y.parentNode,y)):S&&(S.d(1),S=null),C[1].arguments.url?T?T.p(C,E):(T=Z(C),T.c(),T.m(A.parentNode,A)):T&&(T.d(1),T=null)},d(C){C&&(d(e),d(n),d(y),d(A)),S&&S.d(C),T&&T.d(C)}}}function Y(f){let e,a,o="Dead at:",i,r,s=new Date(f[1].dead_at).toLocaleString()+"",l,t;return{c(){e=b("div"),a=b("dt"),a.textContent=o,i=w(),r=b("dd"),l=H(s),t=w(),this.h()},l(n){e=g(n,"DIV",{class:!0});var c=L(e);a=g(c,"DT",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-1gjx1j5"&&(a.textContent=o),i=D(c),r=g(c,"DD",{class:!0});var p=L(r);l=U(p,s),p.forEach(d),t=D(c),c.forEach(d),this.h()},h(){k(a,"class","svelte-7qclwq"),k(r,"class","error svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(n,c){m(n,e,c),_(e,a),_(e,i),_(e,r),_(r,l),_(e,t)},p(n,c){c&2&&s!==(s=new Date(n[1].dead_at).toLocaleString()+"")&&V(l,s)},d(n){n&&d(e)}}}function Z(f){let e,a,o="URL:",i,r,s=(f[1].arguments.context.location.href||"/")+"",l;return{c(){e=b("div"),a=b("dt"),a.textContent=o,i=w(),r=b("dd"),l=H(s),this.h()},l(t){e=g(t,"DIV",{class:!0});var n=L(e);a=g(n,"DT",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-vrqyfv"&&(a.textContent=o),i=D(n),r=g(n,"DD",{});var c=L(r);l=U(c,s),c.forEach(d),n.forEach(d),this.h()},h(){k(a,"class","svelte-7qclwq"),k(e,"class","svelte-7qclwq")},m(t,n){m(t,e,n),_(e,a),_(e,i),_(e,r),_(r,l)},p(t,n){n&2&&s!==(s=(t[1].arguments.context.location.href||"/")+"")&&V(l,s)},d(t){t&&d(e)}}}function x(f){let e,a="Error message",o,i,r=f[1].error_message+"",s;return{c(){e=b("h2"),e.textContent=a,o=w(),i=b("code"),s=H(r),this.h()},l(l){e=g(l,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-46lcxd"&&(e.textContent=a),o=D(l),i=g(l,"CODE",{class:!0});var t=L(i);s=U(t,r),t.forEach(d),this.h()},h(){k(e,"class","svelte-7qclwq"),k(i,"class","svelte-7qclwq")},m(l,t){m(l,e,t),m(l,o,t),m(l,i,t),_(i,s)},p(l,t){t&2&&r!==(r=l[1].error_message+"")&&V(s,r)},d(l){l&&(d(e),d(o),d(i))}}}function ee(f){let e,a="Background job code:",o,i,r;return i=new Ce({props:{language:"liquid",$$slots:{default:[De]},$$scope:{ctx:f}}}),{c(){e=b("h2"),e.textContent=a,o=w(),z(i.$$.fragment),this.h()},l(s){e=g(s,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-dymu4w"&&(e.textContent=a),o=D(s),B(i.$$.fragment,s),this.h()},h(){k(e,"class","svelte-7qclwq")},m(s,l){m(s,e,l),m(s,o,l),F(i,s,l),r=!0},p(s,l){const t={};l&10&&(t.$$scope={dirty:l,ctx:s}),i.$set(t)},i(s){r||(j(i.$$.fragment,s),r=!0)},o(s){I(i.$$.fragment,s),r=!1},d(s){s&&(d(e),d(o)),G(i,s)}}}function De(f){let e=f[1].liquid_body+"",a;return{c(){a=H(e)},l(o){a=U(o,e)},m(o,i){m(o,a,i)},p(o,i){i&2&&e!==(e=o[1].liquid_body+"")&&V(a,e)},d(o){o&&d(a)}}}function te(f){let e,a="Background function name:",o,i,r=f[1].partial_name+"",s;return{c(){e=b("h2"),e.textContent=a,o=w(),i=b("code"),s=H(r),this.h()},l(l){e=g(l,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1qty0jf"&&(e.textContent=a),o=D(l),i=g(l,"CODE",{class:!0});var t=L(i);s=U(t,r),t.forEach(d),this.h()},h(){k(e,"class","svelte-7qclwq"),k(i,"class","svelte-7qclwq")},m(l,t){m(l,e,t),m(l,o,t),m(l,i,t),_(i,s)},p(l,t){t&2&&r!==(r=l[1].partial_name+"")&&V(s,r)},d(l){l&&(d(e),d(o),d(i))}}}function le(f){let e,a="Arguments",o,i,r,s;return r=new ge({props:{value:f[1].arguments,expandedLines:1,showFullLines:!0}}),{c(){e=b("h2"),e.textContent=a,o=w(),i=b("code"),z(r.$$.fragment),this.h()},l(l){e=g(l,"H2",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-h49jwy"&&(e.textContent=a),o=D(l),i=g(l,"CODE",{class:!0});var t=L(i);B(r.$$.fragment,t),t.forEach(d),this.h()},h(){k(e,"class","svelte-7qclwq"),k(i,"class","svelte-7qclwq")},m(l,t){m(l,e,t),m(l,o,t),m(l,i,t),F(r,i,null),s=!0},p(l,t){const n={};t&2&&(n.value=l[1].arguments),r.$set(n)},i(l){s||(j(r.$$.fragment,l),s=!0)},o(l){I(r.$$.fragment,l),s=!1},d(l){l&&(d(e),d(o),d(i)),G(r)}}}function Ee(f){let e,a,o,i;const r=[we,$e],s=[];function l(t,n){return t[1]===null?0:1}return e=l(f),a=s[e]=r[e](f),{c(){a.c(),o=N()},l(t){a.l(t),o=N()},m(t,n){s[e].m(t,n),m(t,o,n),i=!0},p(t,n){let c=e;e=l(t),e===c?s[e].p(t,n):(R(),I(s[c],1,1,()=>{s[c]=null}),M(),a=s[e],a?a.p(t,n):(a=s[e]=r[e](t),a.c()),j(a,1),a.m(o.parentNode,o))},i(t){i||(j(a),i=!0)},o(t){I(a),i=!1},d(t){t&&d(o),s[e].d(t)}}}function Le(f){let e,a="",o,i,r,s;return r=new be({props:{title:f[1].source_name||f[1].id||"Loading…",closeUrl:"/backgroundJobs?"+f[0].url.searchParams.toString(),$$slots:{default:[Ee]},$$scope:{ctx:f}}}),{c(){e=b("script"),e.innerHTML=a,i=w(),z(r.$$.fragment),this.h()},l(l){const t=_e("svelte-1pgpgj4",document.head);e=g(t,"SCRIPT",{src:!0,"data-manual":!0,"data-svelte-h":!0}),P(e)!=="svelte-6mxszl"&&(e.innerHTML=a),t.forEach(d),i=D(l),B(r.$$.fragment,l),this.h()},h(){me(e.src,o="/prism.js")||k(e,"src",o),k(e,"data-manual","")},m(l,t){_(document.head,e),m(l,i,t),F(r,l,t),s=!0},p(l,[t]){const n={};t&2&&(n.title=l[1].source_name||l[1].id||"Loading…"),t&1&&(n.closeUrl="/backgroundJobs?"+l[0].url.searchParams.toString()),t&10&&(n.$$scope={dirty:t,ctx:l}),r.$set(n)},i(l){s||(j(r.$$.fragment,l),s=!0)},o(l){I(r.$$.fragment,l),s=!1},d(l){l&&d(i),d(e),G(r,l)}}}function Se(f,e,a){let o;pe(f,he,s=>a(0,o=s));let i={};const r=async()=>{await ve.get({id:o.params.id,type:o.params.type.toUpperCase()}).then(s=>{s.results.length?a(1,i=s.results[0]):a(1,i=null)})};return f.$$.update=()=>{f.$$.dirty&1&&o.params.id&&r(o.params.id)},[o,i]}class Ue extends ae{constructor(e){super(),ne(this,e,Se,Le,se,{})}}export{Ue as component};
