import{s as qe,p as Se,f as d,l as X,a as O,g as v,h as A,m as Y,r as z,d as k,c as P,K as le,j as c,B as we,i as ge,u as o,L as ke,x as W,M as Be,n as pe,N as Me,y as He,v as Re,o as Ue,A as Ve,D as je,E as ze,F as Ge,G as Ke,P as Je}from"../chunks/scheduler.bed694a1.js";import{S as Qe,i as We,h as Xe,b as he,d as de,m as ve,a as F,t as R,c as Ne,e as be,f as $e,g as Le}from"../chunks/index.606d5641.js";import{e as ye}from"../chunks/each.177d9825.js";import{q as Ye}from"../chunks/index.5a8e1449.js";import{p as Ze}from"../chunks/stores.1dbace48.js";import{u as xe}from"../chunks/user.6e03625a.js";import{I as De}from"../chunks/Icon.62ba3e81.js";import{N as et}from"../chunks/Number.852f0458.js";function Ae(a,e,t){const n=a.slice();return n[17]=e[t],n}function Oe(a){let e,t,n="Clear filters",l,_,r,u,N,i;return _=new De({props:{icon:"x",size:"14"}}),{c(){e=d("button"),t=d("span"),t.textContent=n,l=O(),he(_.$$.fragment),this.h()},l(m){e=v(m,"BUTTON",{type:!0,class:!0});var E=A(e);t=v(E,"SPAN",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-ki22n5"&&(t.textContent=n),l=P(E),de(_.$$.fragment,E),E.forEach(k),this.h()},h(){c(t,"class","label svelte-aaobmo"),c(e,"type","button"),c(e,"class","clear svelte-aaobmo")},m(m,E){ge(m,e,E),o(e,t),o(e,l),ve(_,e,null),u=!0,N||(i=W(e,"click",a[13]),N=!0)},p:Ve,i(m){u||(F(_.$$.fragment,m),m&&we(()=>{u&&(r||(r=$e(e,a[7],{},!0)),r.run(1))}),u=!0)},o(m){R(_.$$.fragment,m),m&&(r||(r=$e(e,a[7],{},!1)),r.run(0)),u=!1},d(m){m&&k(e),be(_),m&&r&&r.end(),N=!1,i()}}}function Pe(a){let e,t,n=a[17].id+"",l,_,r,u,N=a[17].email+"",i,m,E;return{c(){e=d("tr"),t=d("td"),l=X(n),_=O(),r=d("td"),u=d("a"),i=X(N),E=O(),this.h()},l(h){e=v(h,"TR",{});var f=A(e);t=v(f,"TD",{class:!0});var M=A(t);l=Y(M,n),M.forEach(k),_=P(f),r=v(f,"TD",{class:!0});var H=A(r);u=v(H,"A",{href:!0});var y=A(u);i=Y(y,N),y.forEach(k),H.forEach(k),E=P(f),f.forEach(k),this.h()},h(){c(t,"class","svelte-aaobmo"),c(u,"href",m="/users/"+a[17].id),c(r,"class","svelte-aaobmo")},m(h,f){ge(h,e,f),o(e,t),o(t,l),o(e,_),o(e,r),o(r,u),o(u,i),o(e,E)},p(h,f){f&2&&n!==(n=h[17].id+"")&&pe(l,n),f&2&&N!==(N=h[17].email+"")&&pe(i,N),f&2&&m!==(m="/users/"+h[17].id)&&c(u,"href",m)},d(h){h&&k(e)}}}function Ie(a){let e;const t=a[9].default,n=je(t,a,a[8],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,_){n&&n.m(l,_),e=!0},p(l,_){n&&n.p&&(!e||_&256)&&ze(n,t,l,l[8],e?Ke(t,l[8],_,null):Ge(l[8]),null)},i(l){e||(F(n,l),e=!0)},o(l){R(n,l),e=!1},d(l){n&&n.d(l)}}}function tt(a){let e,t,n,l,_,r,u,N="email",i,m="id",E,h,f,M,H,y,q,Z="Apply filter",G,p,K,I,B,se='<tr><th class="svelte-aaobmo">id</th> <th class="svelte-aaobmo">email</th></tr>',ne,oe,S,U,Ee="Page:",re,w,ie,ue,J=(a[3]||1)+"",x,fe,Q,ce,Ce,b=a[2].value&&Oe(a);p=new De({props:{icon:"arrowRight"}});let V=ye(a[1]),T=[];for(let s=0;s<V.length;s+=1)T[s]=Pe(Ae(a,V,s));function Fe(s){a[16](s)}let Te={form:"filters",name:"page",min:1,max:a[3],step:1,decreaseLabel:"Previous page",increaseLabel:"Next page",style:"navigation"};a[2].page!==void 0&&(Te.value=a[2].page),w=new et({props:Te}),Se.push(()=>Xe(w,"value",Fe)),w.$on("input",a[6]);let g=a[4].params.id&&Ie(a);return{c(){e=d("div"),t=d("section"),n=d("nav"),l=d("form"),_=X(`Filter by
        `),r=d("select"),u=d("option"),u.textContent=N,i=d("option"),i.textContent=m,E=O(),h=d("fieldset"),f=d("input"),M=O(),b&&b.c(),H=O(),y=d("button"),q=d("span"),q.textContent=Z,G=O(),he(p.$$.fragment),K=O(),I=d("table"),B=d("thead"),B.innerHTML=se,ne=O();for(let s=0;s<T.length;s+=1)T[s].c();oe=O(),S=d("nav"),U=d("label"),U.textContent=Ee,re=O(),he(w.$$.fragment),ue=X(`
      of `),x=X(J),fe=O(),g&&g.c(),this.h()},l(s){e=v(s,"DIV",{class:!0});var C=A(e);t=v(C,"SECTION",{class:!0});var $=A(t);n=v($,"NAV",{class:!0});var L=A(n);l=v(L,"FORM",{id:!0,class:!0});var D=A(l);_=Y(D,`Filter by
        `),r=v(D,"SELECT",{name:!0});var _e=A(r);u=v(_e,"OPTION",{"data-svelte-h":!0}),z(u)!=="svelte-51kto6"&&(u.textContent=N),i=v(_e,"OPTION",{"data-svelte-h":!0}),z(i)!=="svelte-ns3pfu"&&(i.textContent=m),_e.forEach(k),E=P(D),h=v(D,"FIELDSET",{class:!0});var ee=A(h);f=v(ee,"INPUT",{type:!0,name:!0,class:!0}),M=P(ee),b&&b.l(ee),ee.forEach(k),H=P(D),y=v(D,"BUTTON",{type:!0,class:!0});var te=A(y);q=v(te,"SPAN",{class:!0,"data-svelte-h":!0}),z(q)!=="svelte-ctu7wl"&&(q.textContent=Z),G=P(te),de(p.$$.fragment,te),te.forEach(k),D.forEach(k),L.forEach(k),K=P($),I=v($,"TABLE",{class:!0});var ae=A(I);B=v(ae,"THEAD",{class:!0,"data-svelte-h":!0}),z(B)!=="svelte-128602a"&&(B.innerHTML=se),ne=P(ae);for(let me=0;me<T.length;me+=1)T[me].l(ae);ae.forEach(k),oe=P($),S=v($,"NAV",{class:!0});var j=A(S);U=v(j,"LABEL",{for:!0,"data-svelte-h":!0}),z(U)!=="svelte-1r8oyu6"&&(U.textContent=Ee),re=P(j),de(w.$$.fragment,j),ue=Y(j,`
      of `),x=Y(j,J),j.forEach(k),$.forEach(k),fe=P(C),g&&g.l(C),C.forEach(k),this.h()},h(){u.__value="email",le(u,u.__value),i.__value="id",le(i,i.__value),c(r,"name","attribute"),a[2].attribute===void 0&&we(()=>a[10].call(r)),c(f,"type","text"),c(f,"name","value"),c(f,"class","svelte-aaobmo"),c(h,"class","svelte-aaobmo"),c(q,"class","label svelte-aaobmo"),c(y,"type","submit"),c(y,"class","button submit"),c(l,"id","filters"),c(l,"class","svelte-aaobmo"),c(n,"class","filters svelte-aaobmo"),c(B,"class","svelte-aaobmo"),c(I,"class","svelte-aaobmo"),c(U,"for","page"),c(S,"class","pagination svelte-aaobmo"),c(t,"class","svelte-aaobmo"),c(e,"class","container svelte-aaobmo")},m(s,C){ge(s,e,C),o(e,t),o(t,n),o(n,l),o(l,_),o(l,r),o(r,u),o(r,i),ke(r,a[2].attribute,!0),o(l,E),o(l,h),o(h,f),le(f,a[2].value),o(h,M),b&&b.m(h,null),o(l,H),o(l,y),o(y,q),o(y,G),ve(p,y,null),a[14](l),o(t,K),o(t,I),o(I,B),o(I,ne);for(let $=0;$<T.length;$+=1)T[$]&&T[$].m(I,null);o(t,oe),o(t,S),o(S,U),o(S,re),ve(w,S,null),o(S,ue),o(S,x),o(e,fe),g&&g.m(e,null),Q=!0,ce||(Ce=[W(r,"change",a[10]),W(r,"change",a[11]),W(f,"input",a[12]),W(l,"submit",a[15])],ce=!0)},p(s,[C]){if(C&4&&ke(r,s[2].attribute),C&4&&f.value!==s[2].value&&le(f,s[2].value),s[2].value?b?(b.p(s,C),C&4&&F(b,1)):(b=Oe(s),b.c(),F(b,1),b.m(h,null)):b&&(Le(),R(b,1,1,()=>{b=null}),Ne()),C&2){V=ye(s[1]);let L;for(L=0;L<V.length;L+=1){const D=Ae(s,V,L);T[L]?T[L].p(D,C):(T[L]=Pe(D),T[L].c(),T[L].m(I,null))}for(;L<T.length;L+=1)T[L].d(1);T.length=V.length}const $={};C&8&&($.max=s[3]),!ie&&C&4&&(ie=!0,$.value=s[2].page,Be(()=>ie=!1)),w.$set($),(!Q||C&8)&&J!==(J=(s[3]||1)+"")&&pe(x,J),s[4].params.id?g?(g.p(s,C),C&16&&F(g,1)):(g=Ie(s),g.c(),F(g,1),g.m(e,null)):g&&(Le(),R(g,1,1,()=>{g=null}),Ne())},i(s){Q||(F(b),F(p.$$.fragment,s),F(w.$$.fragment,s),F(g),Q=!0)},o(s){R(b),R(p.$$.fragment,s),R(w.$$.fragment,s),R(g),Q=!1},d(s){s&&k(e),b&&b.d(),be(p),a[14](null),Me(T,s),be(w),g&&g.d(),ce=!1,He(Ce)}}}function at(a,e,t){let n;Re(a,Ze,p=>t(4,n=p));let{$$slots:l={},$$scope:_}=e,r,u=[],N={page:1,attribute:"email",value:""},i={...N,...Object.fromEntries(n.url.searchParams)},m=1;const E=async()=>{await xe.get(i).then(p=>{t(1,u=p.results),t(3,m=p.total_pages)})};Ue(()=>{E()});const h=function(p,{delay:K=0,duration:I=150}){return{delay:K,duration:I,css:B=>`scale: ${Ye(B)};`}};function f(){i.attribute=Je(this),t(2,i)}const M=()=>t(2,i.value="",i);function H(){i.value=this.value,t(2,i)}const y=()=>{t(2,i={...N}),r.requestSubmit()};function q(p){Se[p?"unshift":"push"](()=>{r=p,t(0,r)})}const Z=()=>{t(2,i.page=1,i),E()};function G(p){a.$$.not_equal(i.page,p)&&(i.page=p,t(2,i))}return a.$$set=p=>{"$$scope"in p&&t(8,_=p.$$scope)},[r,u,i,m,n,N,E,h,_,l,f,M,H,y,q,Z,G]}class ct extends Qe{constructor(e){super(),We(this,e,at,tt,qe,{})}}export{ct as component};
