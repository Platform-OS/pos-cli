import{S as De,i as ye,s as Re,E as Te,o as $e,p as Pe,I as Se,L as Ee,M as Ne,l as ve,d as c,b as qe,y as ke,N as ge,a as k,z as p,Q as x,c as n,e as d,f as w,K as C,g as m,h as Fe,j as i,t as h,k as Le}from"../chunks/n7YEDvJi.js";import"../chunks/IHki7fMi.js";import{p as Ie}from"../chunks/C6Nbyvij.js";import{n as Ae}from"../chunks/hGAcGvnf.js";import{s as ne}from"../chunks/Bp_ajb_u.js";import{A as Ue}from"../chunks/CqRAXfEk.js";const be={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Content",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};function Ce(a){let e,o,t="Time",r,u=new Date(a[1].network._timestamp/1e3).toLocaleString()+"",f,v,y="Request path",g,b,I=a[1].network.http_request_path+"",B,K,R,re="Request method",T,A=a[1].network.http_request_method+"",O,$,le="Status",_,U=a[1].network.lb_status_code+"",V,ee,M=be[a[1].network.lb_status_code]+"",Q,P,de="Client IP",S,z=a[1].network.client+"",J,E,ie="Client user agent",N,j=a[1].network.user_agent+"",W,F,ue="Processing time",q,G=parseFloat(a[1].network.request_processing_time)+parseFloat(a[1].network.target_processing_time)+"",X,te,L,_e="Response size",D,H=parseInt(a[1].network.sent_bytes)+"",Y,se;return{c(){e=i("dl"),o=i("dt"),o.textContent=t,r=i("dd"),f=h(u),v=i("dt"),v.textContent=y,g=i("dd"),b=i("a"),B=h(I),R=i("dt"),R.textContent=re,T=i("dd"),O=h(A),$=i("dt"),$.textContent=le,_=i("dd"),V=h(U),ee=Le(),Q=h(M),P=i("dt"),P.textContent=de,S=i("dd"),J=h(z),E=i("dt"),E.textContent=ie,N=i("dd"),W=h(j),F=i("dt"),F.textContent=ue,q=i("dd"),X=h(G),te=h("s"),L=i("dt"),L.textContent=_e,D=i("dd"),Y=h(H),se=h(" bytes"),this.h()},l(l){e=d(l,"DL",{class:!0});var s=w(e);o=d(s,"DT",{"data-svelte-h":!0}),C(o)!=="svelte-k4tc9n"&&(o.textContent=t),r=d(s,"DD",{class:!0});var pe=w(r);f=m(pe,u),pe.forEach(c),v=d(s,"DT",{"data-svelte-h":!0}),C(v)!=="svelte-1j5pznm"&&(v.textContent=y),g=d(s,"DD",{class:!0});var ce=w(g);b=d(ce,"A",{href:!0,class:!0});var fe=w(b);B=m(fe,I),fe.forEach(c),ce.forEach(c),R=d(s,"DT",{"data-svelte-h":!0}),C(R)!=="svelte-1wn7isk"&&(R.textContent=re),T=d(s,"DD",{class:!0});var me=w(T);O=m(me,A),me.forEach(c),$=d(s,"DT",{"data-svelte-h":!0}),C($)!=="svelte-1e9eis"&&($.textContent=le),_=d(s,"DD",{class:!0});var Z=w(_);V=m(Z,U),ee=Fe(Z),Q=m(Z,M),Z.forEach(c),P=d(s,"DT",{"data-svelte-h":!0}),C(P)!=="svelte-1rrvc96"&&(P.textContent=de),S=d(s,"DD",{class:!0});var he=w(S);J=m(he,z),he.forEach(c),E=d(s,"DT",{"data-svelte-h":!0}),C(E)!=="svelte-on2p8j"&&(E.textContent=ie),N=d(s,"DD",{class:!0});var we=w(N);W=m(we,j),we.forEach(c),F=d(s,"DT",{"data-svelte-h":!0}),C(F)!=="svelte-1wlbq2"&&(F.textContent=ue),q=d(s,"DD",{class:!0});var oe=w(q);X=m(oe,G),te=m(oe,"s"),oe.forEach(c),L=d(s,"DT",{"data-svelte-h":!0}),C(L)!=="svelte-jqr426"&&(L.textContent=_e),D=d(s,"DD",{class:!0});var ae=w(D);Y=m(ae,H),se=m(ae," bytes"),ae.forEach(c),s.forEach(c),this.h()},h(){p(r,"class","svelte-ebu0yn"),p(b,"href",K=a[1].network.http_request_url),p(b,"class","svelte-ebu0yn"),p(g,"class","svelte-ebu0yn"),p(T,"class","svelte-ebu0yn"),p(_,"class","svelte-ebu0yn"),x(_,"success",a[1].network.lb_status_code>=200&&a[1].network.lb_status_code<300),x(_,"error",a[1].network.http_request_protocol.lb_status_code>=400&&a[1].network.http_request_protocol.lb_status_code<600),p(S,"class","svelte-ebu0yn"),p(N,"class","svelte-ebu0yn"),p(q,"class","svelte-ebu0yn"),p(D,"class","svelte-ebu0yn"),p(e,"class","definitions svelte-ebu0yn")},m(l,s){qe(l,e,s),n(e,o),n(e,r),n(r,f),n(e,v),n(e,g),n(g,b),n(b,B),n(e,R),n(e,T),n(T,O),n(e,$),n(e,_),n(_,V),n(_,ee),n(_,Q),n(e,P),n(e,S),n(S,J),n(e,E),n(e,N),n(N,W),n(e,F),n(e,q),n(q,X),n(q,te),n(e,L),n(e,D),n(D,Y),n(D,se)},p(l,s){s&2&&u!==(u=new Date(l[1].network._timestamp/1e3).toLocaleString()+"")&&k(f,u),s&2&&I!==(I=l[1].network.http_request_path+"")&&k(B,I),s&2&&K!==(K=l[1].network.http_request_url)&&p(b,"href",K),s&2&&A!==(A=l[1].network.http_request_method+"")&&k(O,A),s&2&&U!==(U=l[1].network.lb_status_code+"")&&k(V,U),s&2&&M!==(M=be[l[1].network.lb_status_code]+"")&&k(Q,M),s&2&&x(_,"success",l[1].network.lb_status_code>=200&&l[1].network.lb_status_code<300),s&2&&x(_,"error",l[1].network.http_request_protocol.lb_status_code>=400&&l[1].network.http_request_protocol.lb_status_code<600),s&2&&z!==(z=l[1].network.client+"")&&k(J,z),s&2&&j!==(j=l[1].network.user_agent+"")&&k(W,j),s&2&&G!==(G=parseFloat(l[1].network.request_processing_time)+parseFloat(l[1].network.target_processing_time)+"")&&k(X,G),s&2&&H!==(H=parseInt(l[1].network.sent_bytes)+"")&&k(Y,H)},d(l){l&&c(e)}}}function Me(a){let e,o=a[1].network._timestamp&&Ce(a);return{c(){o&&o.c(),e=ke()},l(t){o&&o.l(t),e=ke()},m(t,r){o&&o.m(t,r),qe(t,e,r)},p(t,r){t[1].network._timestamp?o?o.p(t,r):(o=Ce(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},d(t){t&&c(e),o&&o.d(t)}}}function ze(a){let e,o;return e=new Ue({props:{title:a[1].network.lb_status_code?`<span class="log-detail-method">${a[1].network.http_request_method}</span> ${a[1].network.http_request_path}`:"Loading…",closeUrl:"/network?"+a[0].url.searchParams.toString(),$$slots:{default:[Me]},$$scope:{ctx:a}}}),{c(){Ne(e.$$.fragment)},l(t){Ee(e.$$.fragment,t)},m(t,r){Se(e,t,r),o=!0},p(t,[r]){const u={};r&2&&(u.title=t[1].network.lb_status_code?`<span class="log-detail-method">${t[1].network.http_request_method}</span> ${t[1].network.http_request_path}`:"Loading…"),r&1&&(u.closeUrl="/network?"+t[0].url.searchParams.toString()),r&10&&(u.$$scope={dirty:r,ctx:t}),e.$set(u)},i(t){o||(Pe(e.$$.fragment,t),o=!0)},o(t){$e(e.$$.fragment,t),o=!1},d(t){Te(e,t)}}}function je(a,e,o){let t,r;ve(a,Ie,f=>o(0,t=f)),ve(a,ne,f=>o(1,r=f));const u=async()=>{var v;const f=(v=r.networks.hits)==null?void 0:v.find(y=>y._timestamp==t.params.id);if(f)ge(ne,r.network=f,r);else{const y={size:1,sql:`select * from requests where _timestamp = ${t.params.id}`};await Ae.get(y).then(g=>{ge(ne,r.network=g.hits[0],r)})}};return a.$$.update=()=>{a.$$.dirty&1&&t.params.id&&u()},[t,r]}class Qe extends De{constructor(e){super(),ye(this,e,je,ze,Re,{})}}export{Qe as component};
