import{w as g}from"./index.9dcff510.js";const f=h();function h(){const o=localStorage.view?JSON.parse(localStorage.view):null,t={};t.header=localStorage.header?JSON.parse(localStorage.header):["database","users","logs"],t.online=void 0,t.logs={},t.tables=[],t.table={},t.view={database:o!=null&&o.database?o.database:"table",tableStyle:o!=null&&o.tableStyle?o.tableStyle:"collapsed"},t.records={},t.record=null,t.highlighted={record:null,constant:null},t.filters={page:1,attributes:[{attribute_type:"id",name:"id",operation:"value",value:""}]},t.notifications=[],t.asideWidth=localStorage.asideWidth?localStorage.asideWidth:"30%";const{subscribe:s,set:c,update:r}=g(t),d=(a,e)=>{r(i=>(i[a]=e,i))},u=()=>{r(a=>(a.filters={page:1,attributes:[{attribute_type:"id",name:"id",operation:"value",value:""}]},a))};let n;const l=(a,e)=>{r(i=>(i.highlighted[a]=e,i)),clearTimeout(n),n=setTimeout(()=>{l("record",null),l("constant",null)},7e3)};return{subscribe:s,set:c,data:d,clearFilters:u,highlight:l,notification:{create:(a,e)=>{r(i=>(i.notifications.push({id:Date.now(),type:a,message:e}),i))},remove:a=>{r(e=>(e.notifications=e.notifications.filter(i=>i.id!==a),e))}},setView:a=>{r(e=>(e.view={...e.view,...a},localStorage.view=JSON.stringify(e.view),e))}}}export{f as s};
