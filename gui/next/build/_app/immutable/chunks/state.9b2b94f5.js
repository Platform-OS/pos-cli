import{w as b}from"./index.8808fe92.js";const m=g();function g(){const n=localStorage.view?JSON.parse(localStorage.view):null,i={};i.online=void 0,i.logs={},i.tables=[],i.table={},i.view={database:n!=null&&n.database?n.database:"table",tableStyle:n!=null&&n.tableStyle?n.tableStyle:"collapsed"},i.records={},i.record=null,i.highlighted={record:null,constant:null},i.filters={page:1,attributes:[{attribute_type:"id",name:"id",operation:"value",value:""}]},i.notifications=[];const{subscribe:s,set:c,update:o}=b(i),u=(t,e)=>{o(a=>(a[t]=e,a))},d=()=>{o(t=>(t.filters={page:1,attributes:[{attribute_type:"id",name:"id",operation:"value",value:""}]},t))};let l;const r=(t,e)=>{o(a=>(a.highlighted[t]=e,a)),clearTimeout(l),l=setTimeout(()=>{r("record",null),r("constant",null)},7e3)};return{subscribe:s,set:c,data:u,clearFilters:d,highlight:r,notification:{create:(t,e)=>{o(a=>(a.notifications.push({id:Date.now(),type:t,message:e}),a))},remove:t=>{o(e=>(e.notifications=e.notifications.filter(a=>a.id!==t),e))}},setView:t=>{o(e=>(e.view={...e.view,...t},localStorage.view=JSON.stringify(e.view),e))}}}export{m as s};
