const e={get:async(o={})=>{const a=typeof window<"u"&&window.location.port!=="4173"&&window.location.port!=="5173"?`http://localhost:${parseInt(window.location.port)}/api/logsv2`:"http://localhost:3333/api/logsv2";if(o.from=o.from??0,o.size=o.size??20,o.stream_name=o.stream_name??"logs",o.start_time){let t=new Date(o.start_time);t.setHours(23,59,59),o.end_time=Math.floor(t.getTime()*1e3),o.start_time=Math.floor(t.getTime()-2592e5)}return o.message&&(o.sql=`SELECT * FROM logs where message LIKE '%${o.message}%' OR type LIKE '%${o.message}%' OR options_data_url LIKE '%${o.message}%'`),o=new URLSearchParams(o).toString(),fetch(`${a}?${o}`).then(t=>t.ok?t.json():Promise.reject(t)).then(t=>t).catch(t=>({error:t}))}};export{e as l};
