import{w as g}from"./index.b57fd817.js";const S=b();function b(){const o=localStorage.view?JSON.parse(localStorage.view):null,t={};t.online=void 0,t.logs={},t.tables=[],t.table={},t.view={database:o!=null&&o.database?o.database:"table",tableStyle:o!=null&&o.tableStyle?o.tableStyle:"collapsed"},t.records={},t.record=null,t.highlighted={record:null,constant:null},t.filters={page:1,attributes:[{attribute_type:"id",name:"id",operation:"value",value:""}]},t.notifications=[],t.asideWidth=localStorage.asideWidth?localStorage.asideWidth:"30%";const{subscribe:s,set:c,update:l}=g(t),u=(i,e)=>{l(a=>(a[i]=e,a))},d=()=>{l(i=>(i.filters={page:1,attributes:[{attribute_type:"id",name:"id",operation:"value",value:""}]},i))};let r;const n=(i,e)=>{l(a=>(a.highlighted[i]=e,a)),clearTimeout(r),r=setTimeout(()=>{n("record",null),n("constant",null)},7e3)};return{subscribe:s,set:c,data:u,clearFilters:d,highlight:n,notification:{create:(i,e)=>{l(a=>(a.notifications.push({id:Date.now(),type:i,message:e}),a))},remove:i=>{l(e=>(e.notifications=e.notifications.filter(a=>a.id!==i),e))}},setView:i=>{l(e=>(e.view={...e.view,...i},localStorage.view=JSON.stringify(e.view),e))}}}export{S as s};
