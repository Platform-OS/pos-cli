import{w as g}from"./index.ULPMsNKi.js";const v=b();function b(){const r=localStorage.view?JSON.parse(localStorage.view):null,e={};e.header=localStorage.header?JSON.parse(localStorage.header):["database","users","logs"],e.online=void 0,e.logs={},e.logsv2={},e.logv2={},e.tables=[],e.table={},e.view={database:r?.database?r.database:"table",tableStyle:r?.tableStyle?r.tableStyle:"collapsed"},e.records={},e.record=null,e.highlighted={record:null,constant:null},e.filters={page:1,attributes:[{attribute_type:"id",name:"id",operation:"value",value:""}],deleted:"false"},e.sort={by:"created_at",order:"DESC"},e.notifications=[],e.asideWidth=localStorage.asideWidth?localStorage.asideWidth:!1;const{subscribe:s,set:d,update:o}=g(e),c=(a,t)=>{o(i=>(i[a]=t,i))},u=()=>{o(a=>(a.filters={page:1,attributes:[{attribute_type:"id",name:"id",operation:"value",value:""}],deleted:"false"},a.sort={by:"created_at",order:"DESC"},a))};let n;const l=(a,t)=>{o(i=>(i.highlighted[a]=t,i)),clearTimeout(n),n=setTimeout(()=>{l("record",null),l("constant",null)},7e3)};return{subscribe:s,set:d,data:c,clearFilters:u,highlight:l,notification:{create:(a,t)=>{o(i=>(i.notifications.push({id:Date.now(),type:a,message:t}),i))},remove:a=>{o(t=>(t.notifications=t.notifications.filter(i=>i.id!==a),t))}},setView:a=>{o(t=>(t.view={...t.view,...a},localStorage.view=JSON.stringify(t.view),t))}}}export{v as s};
