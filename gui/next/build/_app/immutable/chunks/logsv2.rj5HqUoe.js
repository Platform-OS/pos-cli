const n={get:async(t={})=>{const e=typeof window<"u"&&window.location.port!=="4173"&&window.location.port!=="5173"?`http://localhost:${parseInt(window.location.port)}/api/logsv2`:"http://localhost:3333/api/logsv2";if(t.from=t.from??0,t.size=t.size??20,t.stream_name=t.stream_name??"logs",t.start_time){let o=new Date(t.start_time);o.setHours(23,59,59),t.end_time=Math.floor(o.getTime()*1e3),t.start_time=Math.floor(o.getTime()-2592e5)}t.message&&(t.sql=`SELECT * FROM logs where message LIKE '%${t.message}%' OR type LIKE '%${t.message}%' OR options_data_url LIKE '%${t.message}%'`);let a=new URLSearchParams(t).toString();return fetch(`${e}?${a}`).then(o=>o.ok?o.json():Promise.reject(o)).then(o=>o).catch(o=>({error:o}))}};export{n as l};
