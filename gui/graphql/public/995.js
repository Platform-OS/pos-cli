"use strict";(self.webpackChunk_platformos_gui=self.webpackChunk_platformos_gui||[]).push([[995],{1520:(j,P,o)=>{o.d(P,{f:()=>_});var m=Object.defineProperty,c=(h,E)=>m(h,"name",{value:E,configurable:!0});function _(h,E){const v=[];let u=h;for(;u!=null&&u.kind;)v.push(u),u=u.prevState;for(let g=v.length-1;g>=0;g--)E(v[g])}c(_,"forEachState")},5995:(j,P,o)=>{o.r(P);var m=o(7480),c=o(398),_=o(5397),h=o(1520),E=o(9361),v=o(7294),u=o(3935),g=Object.defineProperty,p=(r,n)=>g(r,"name",{value:n,configurable:!0});function y(r,n,t){const i=D(t,x(n.string));if(!i)return;const e=n.type!==null&&/"|\w/.test(n.string[0])?n.start:n.end;return{list:i,from:{line:r.line,ch:e},to:{line:r.line,ch:n.end}}}p(y,"hintList");function D(r,n){if(!n)return O(r,l=>!l.isDeprecated);const t=r.map(l=>({proximity:M(x(l.text),n),entry:l}));return O(O(t,l=>l.proximity<=2),l=>!l.entry.isDeprecated).sort((l,s)=>(l.entry.isDeprecated?1:0)-(s.entry.isDeprecated?1:0)||l.proximity-s.proximity||l.entry.text.length-s.entry.text.length).map(l=>l.entry)}p(D,"filterAndSortList");function O(r,n){const t=r.filter(n);return t.length===0?r:t}p(O,"filterNonEmpty");function x(r){return r.toLowerCase().replace(/\W/g,"")}p(x,"normalizeText");function M(r,n){let t=T(n,r);return r.length>n.length&&(t-=r.length-n.length-1,t+=r.indexOf(n)===0?0:.5),t}p(M,"getProximity");function T(r,n){let t,i;const e=[],l=r.length,s=n.length;for(t=0;t<=l;t++)e[t]=[t];for(i=1;i<=s;i++)e[0][i]=i;for(t=1;t<=l;t++)for(i=1;i<=s;i++){const d=r[t-1]===n[i-1]?0:1;e[t][i]=Math.min(e[t-1][i]+1,e[t][i-1]+1,e[t-1][i-1]+d),t>1&&i>1&&r[t-1]===n[i-2]&&r[t-2]===n[i-1]&&(e[t][i]=Math.min(e[t][i],e[t-2][i-2]+d))}return e[l][s]}p(T,"lexicalDistance"),m.C.registerHelper("hint","graphql-variables",(r,n)=>{const t=r.getCursor(),i=r.getTokenAt(t),e=b(t,i,n);return e!=null&&e.list&&e.list.length>0&&(e.from=m.C.Pos(e.from.line,e.from.ch),e.to=m.C.Pos(e.to.line,e.to.ch),m.C.signal(r,"hasCompletion",r,e,i)),e});function b(r,n,t){const i=n.state.kind==="Invalid"?n.state.prevState:n.state,e=i.kind,l=i.step;if(e==="Document"&&l===0)return y(r,n,[{text:"{"}]);const s=t.variableToType;if(!s)return;const d=C(s,n.state);if(e==="Document"||e==="Variable"&&l===0){const f=Object.keys(s);return y(r,n,f.map(a=>({text:`"${a}": `,type:s[a]})))}if((e==="ObjectValue"||e==="ObjectField"&&l===0)&&d.fields){const f=Object.keys(d.fields).map(a=>d.fields[a]);return y(r,n,f.map(a=>({text:`"${a.name}": `,type:a.type,description:a.description})))}if(e==="StringValue"||e==="NumberValue"||e==="BooleanValue"||e==="NullValue"||e==="ListValue"&&l===1||e==="ObjectField"&&l===2||e==="Variable"&&l===2){const f=d.type?(0,c.xC)(d.type):void 0;if(f instanceof c.sR)return y(r,n,[{text:"{"}]);if(f instanceof c.mR){const a=f.getValues();return y(r,n,a.map(L=>({text:`"${L.name}"`,type:f,description:L.description})))}else if(f===_.EZ)return y(r,n,[{text:"true",type:_.EZ,description:"Not false."},{text:"false",type:_.EZ,description:"Not true."}])}}p(b,"getVariablesHint");function C(r,n){const t={type:null,fields:null};return(0,h.f)(n,i=>{if(i.kind==="Variable")t.type=r[i.name];else if(i.kind==="ListValue"){const e=t.type?(0,c.tf)(t.type):void 0;t.type=e instanceof c.p2?e.ofType:null}else if(i.kind==="ObjectValue"){const e=t.type?(0,c.xC)(t.type):void 0;t.fields=e instanceof c.sR?e.getFields():null}else if(i.kind==="ObjectField"){const e=i.name&&t.fields?t.fields[i.name]:null;t.type=e==null?void 0:e.type}}),t}p(C,"getTypeInfo")}}]);
