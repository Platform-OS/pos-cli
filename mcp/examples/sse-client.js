#!/usr/bin/env node\n/**\n * SSE MCP Client Example - Node.js\n * Demonstrates /call-stream POST with streaming response\n */\n\nconst fetch = require('node-fetch'); // npm i node-fetch\n\nconst BASE_URL = 'http://localhost:3030';\nconst TOKEN = 'client-secret'; // from clients.json\n\nasync function testSyncSSE() {\n  console.log('1. Sync tool via SSE (/call-stream)...');\n  const res = await fetch(`${BASE_URL}/call-stream`, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${TOKEN}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      tool: 'platformos.env.list',\n      input: {}\n    })\n  });\n\n  const reader = res.body!.getReader();\n  const decoder = new TextDecoder();\n  let result = '';\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) break;\n    result += decoder.decode(value);\n  }\n  console.log('Full response:', result);\n}\n\nasync function testStreamSSE() {\n  console.log('\\n2. Streaming logs via SSE...');\n  const res = await fetch(`${BASE_URL}/call-stream`, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${TOKEN}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      tool: 'platformos.logs.fetch',\n      input: { env: 'staging' } // adjust env\n    })\n  });\n\n  const reader = res.body!.getReader();\n  const decoder = new TextDecoder();\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) break;\n    const chunk = decoder.decode(value);\n    if (chunk.includes('data:')) {\n      console.log('SSE chunk:', chunk.trim());\n    }\n  }\n}\n\nasync function main() {\n  console.log('ðŸ¤– MCP SSE Client Example\\n');\n  await testSyncSSE();\n  await testStreamSSE();\n  console.log('\\nâœ… SSE demo complete!');\n}\n\nmain().catch(console.error);\n","path">mcp/examples/sse-client.js